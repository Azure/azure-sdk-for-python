interactions:
- request:
    body: '{"id": "python_test_pool_1", "userAccounts": [{"name": "test-user-1", "password":
      "kt#_gahr!@aGERDXA"}, {"name": "test-user-2", "elevationLevel": "admin", "password":
      "kt#_gahr!@aGERDXA"}], "vmSize": "small", "cloudServiceConfiguration": {"osFamily":
      "4"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['256']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c25d5770-f541-11e6-b24a-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:49:06 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:49:07 GMT']
      ETag: ['0x8D45765A6A2DC04']
      Last-Modified: ['Fri, 17 Feb 2017 18:49:06 GMT']
      Location: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [13a50336-557a-4965-ad84-cdf307731f6b]
    status: {code: 201, message: Created}
- request:
    body: '{"id": "python_test_pool_2", "vmSize": "small", "cloudServiceConfiguration":
      {"osFamily": "4"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['95']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d4d85352-f541-11e6-a9db-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:49:37 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:49:40 GMT']
      ETag: ['0x8D45765B9146713']
      Last-Modified: ['Fri, 17 Feb 2017 18:49:37 GMT']
      Location: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [25dfb4f9-f268-41cf-b95d-d9a33cf77e85]
    status: {code: 201, message: Created}
- request:
    body: '{"id": "no_pool", "cloudServiceConfiguration": {"osFamily": "4"}, "vmSize":
      "small", "networkConfiguration": {"subnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['263']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e74637d0-f541-11e6-95fd-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:08 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?timeout=45&api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\",\"code\":\"Forbidden\",\"message\":{\r\n
        \   \"lang\":\"en-US\",\"value\":\"Access is Forbidden\\nRequestId:9fa2b224-a9f6-435e-8d47-cb6d11e69513\\nTime:2017-02-17T18:50:10.8247847Z\"\r\n
        \ },\"values\":[\r\n    {\r\n      \"key\":\"Reason\",\"value\":\"Property
        subnetId with value /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1
        is not enabled for current account\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['584']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:09 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [9fa2b224-a9f6-435e-8d47-cb6d11e69513]
    status: {code: 403, message: Access is Forbidden}
- request:
    body: '{"virtualMachineConfiguration": {"osDisk": {"imageUris": ["http://image-A",
      "http://image-B"]}, "nodeAgentSKUId": "batch.node.ubuntu 16.04"}, "id": "no_pool",
      "vmSize": "Standard_A1"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['183']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e7e03c42-f541-11e6-b518-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:09 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?timeout=45&api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\",\"code\":\"InvalidPropertyValue\",\"message\":{\r\n
        \   \"lang\":\"en-US\",\"value\":\"The value provided for one of the properties
        in the request body is invalid.\\nRequestId:187e563a-6a31-4ed7-a823-0d8dabcc4a15\\nTime:2017-02-17T18:50:09.4472429Z\"\r\n
        \ },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\":\"osDisk\"\r\n
        \   },{\r\n      \"key\":\"Reason\",\"value\":\"Property osDisk is allowed
        only for Batch accounts created with poolAllocationMode of BatchService\"\r\n
        \   }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['603']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:08 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [187e563a-6a31-4ed7-a823-0d8dabcc4a15]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: '{"targetOSVersion": "*"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['24']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e84ffe54-f541-11e6-a5a6-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:10 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/upgradeos?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\",\"code\":\"PoolVersionEqualsUpgradeVersion\",\"message\":{\r\n
        \   \"lang\":\"en-US\",\"value\":\"The pool is already with the given version.\\nRequestId:a8b51523-e35e-44a0-99fb-f4ed04229606\\nTime:2017-02-17T18:50:12.3828211Z\"\r\n
        \ }\r\n}"}
    headers:
      Content-Length: ['366']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:12 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [a8b51523-e35e-44a0-99fb-f4ed04229606]
    status: {code: 400, message: The pool is already with the given version.}
- request:
    body: '{"applicationPackageReferences": [], "metadata": [{"name": "foo", "value":
      "bar"}], "certificateReferences": []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['112']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e8c7af66-f541-11e6-b41c-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:10 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/updateproperties?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      Content-Length: ['0']
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/updateproperties']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:11 GMT']
      ETag: ['0x8D45765CCF37BCE']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:10 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [389fd64a-7940-4c02-9e37-d11cbc143a2f]
    status: {code: 204, message: No Content}
- request:
    body: '{"metadata": [{"name": "foo2", "value": "bar2"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['49']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e93e2a70-f541-11e6-a99f-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:11 GMT']
    method: PATCH
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:13 GMT']
      ETag: ['0x8D45765CD6C9563']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [30062e9a-2366-408a-8362-8e160c86a5ab]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e9b7ac9e-f541-11e6-a9c3-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:12 GMT']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#pools/@Element\",\"id\":\"python_test_pool_1\",\"url\":\"https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1\",\"eTag\":\"0x8D45765CD6C9563\",\"lastModified\":\"2017-02-17T18:50:11.5841379Z\",\"creationTime\":\"2017-02-17T18:49:06.508698Z\",\"state\":\"active\",\"stateTransitionTime\":\"2017-02-17T18:49:06.508698Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2017-02-17T18:49:06.7498561Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"userAccounts\":[\r\n
        \   {\r\n      \"name\":\"test-user-1\",\"elevationLevel\":\"nonadmin\"\r\n
        \   },{\r\n      \"name\":\"test-user-2\",\"elevationLevel\":\"admin\"\r\n
        \   }\r\n  ],\"metadata\":[\r\n    {\r\n      \"name\":\"foo2\",\"value\":\"bar2\"\r\n
        \   }\r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n
        \ },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:15 GMT']
      ETag: ['0x8D45765CD6C9563']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [63cd51dc-3c16-4f00-878d-ac2235d5765b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ea2d3be8-f541-11e6-9e0c-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:13 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1?$expand=stats&timeout=30&$select=id%2Cstate&api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#pools/@Element\",\"id\":\"python_test_pool_1\",\"state\":\"active\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:12 GMT']
      ETag: ['0x8D45765CD6C9563']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [21efa722-6834-4a5b-b67b-efb717be3321]
    status: {code: 200, message: OK}
- request:
    body: '{"autoScaleEvaluationInterval": "PT6M", "autoScaleFormula": "$TargetDedicated=2"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['81']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [eaaa0d98-f541-11e6-880a-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:14 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/enableautoscale?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/enableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:11 GMT']
      ETag: ['0x8D45765CEDFD44A']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:14 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [52b61cc7-af12-4745-961a-e1bc3698f1e4]
    status: {code: 200, message: OK}
- request:
    body: '{"autoScaleFormula": "$TargetDedicated=3"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [eb32b110-f541-11e6-a1f0-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:14 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/evaluateautoscale?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.AutoScaleRun\",\"timestamp\":\"2017-02-17T18:50:16.2670558Z\",\"results\":\"$TargetDedicated=3;$NodeDeallocationOption=requeue\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/evaluateautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:15 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [00f8b75d-985c-4e6f-a2cc-3f6d577b3816]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [eba50512-f541-11e6-9f79-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:15 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/disableautoscale?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1/disableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:17 GMT']
      ETag: ['0x8D45765CFD4A757']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:15 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [42ce1bbb-c809-499f-95ab-7b129dc7a609]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ec20f6ca-f541-11e6-92c5-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:16 GMT']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#pools\",\"value\":[\r\n
        \   {\r\n      \"id\":\"python_test_pool_1\",\"url\":\"https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1\",\"eTag\":\"0x8D45765CFD4A757\",\"lastModified\":\"2017-02-17T18:50:15.6216151Z\",\"creationTime\":\"2017-02-17T18:49:06.508698Z\",\"state\":\"active\",\"stateTransitionTime\":\"2017-02-17T18:49:06.508698Z\",\"allocationState\":\"stopping\",\"allocationStateTransitionTime\":\"2017-02-17T18:50:15.6216151Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"targetDedicated\":2,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"userAccounts\":[\r\n
        \       {\r\n          \"name\":\"test-user-1\",\"elevationLevel\":\"nonadmin\"\r\n
        \       },{\r\n          \"name\":\"test-user-2\",\"elevationLevel\":\"admin\"\r\n
        \       }\r\n      ],\"metadata\":[\r\n        {\r\n          \"name\":\"foo2\",\"value\":\"bar2\"\r\n
        \       }\r\n      ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n
        \       \"nodeFillType\":\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n
        \       \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \     }\r\n    },{\r\n      \"id\":\"python_test_pool_2\",\"url\":\"https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2\",\"eTag\":\"0x8D45765B9146713\",\"lastModified\":\"2017-02-17T18:49:37.4518035Z\",\"creationTime\":\"2017-02-17T18:49:37.4518035Z\",\"state\":\"active\",\"stateTransitionTime\":\"2017-02-17T18:49:37.4518035Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2017-02-17T18:49:37.632742Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n
        \       \"nodeFillType\":\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n
        \       \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \     }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:15 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7d9358f3-cd53-4645-829f-02c4518698a2]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ec922dc6-f541-11e6-ae2c-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:17 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?timeout=30&maxresults=1&api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#pools\",\"value\":[\r\n
        \   {\r\n      \"id\":\"python_test_pool_1\",\"url\":\"https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1\",\"eTag\":\"0x8D45765CFD4A757\",\"lastModified\":\"2017-02-17T18:50:15.6216151Z\",\"creationTime\":\"2017-02-17T18:49:06.508698Z\",\"state\":\"active\",\"stateTransitionTime\":\"2017-02-17T18:49:06.508698Z\",\"allocationState\":\"stopping\",\"allocationStateTransitionTime\":\"2017-02-17T18:50:15.6216151Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"targetDedicated\":2,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"userAccounts\":[\r\n
        \       {\r\n          \"name\":\"test-user-1\",\"elevationLevel\":\"nonadmin\"\r\n
        \       },{\r\n          \"name\":\"test-user-2\",\"elevationLevel\":\"admin\"\r\n
        \       }\r\n      ],\"metadata\":[\r\n        {\r\n          \"name\":\"foo2\",\"value\":\"bar2\"\r\n
        \       }\r\n      ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n
        \       \"nodeFillType\":\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n
        \       \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \     }\r\n    }\r\n  ],\"odata.nextLink\":\"https://pythonsdktest.westeurope.batch.azure.com/pools?timeout=30&maxresults=1&api-version=2017-01-01.4.0&$skiptoken=WATV2:HC%5EJboWsOANBB33z1KZTc%5ElwcT65zRKuChb3VeMpKa1Ier5MfGDeqgSNW6ACJSr1TOjAaRDD9H3g%5EZgM56bOLFm/tm9Ww1snjl8U/1TTalVM47B2GJ/Bz4sRmVSf3TJuSpqiAxUlxFmPt7U4B/KCr878ux6yUKuC8exeqkvEs5Yany3tkhvydQdtJmGALgXyqXtw8LK2qeSHULdKxCoo3nQ3YENUVswFuUI2NKV9S/EjLQjspf0nlSHzI1uaYkeootga56CIAgvUD0fW1oDAg26/loHT1NqXQsoat0OPPAU=:1$1\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [b7859701-79de-4b30-a278-63869bed42e5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ed00d5d0-f541-11e6-8fa3-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:17 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools?maxresults=1000&$select=id%2Cstate&$filter=startswith%28id%2C%27python_test_pool_1%27%29&timeout=30&$expand=stats&api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#pools\",\"value\":[\r\n
        \   {\r\n      \"id\":\"python_test_pool_1\",\"state\":\"active\"\r\n    }\r\n
        \ ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0565f89b-530b-4405-9fc7-56a586a43881]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ed7ce802-f541-11e6-b270-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:18 GMT']
    method: HEAD
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:19 GMT']
      ETag: ['0x8D45765B9146713']
      Last-Modified: ['Fri, 17 Feb 2017 18:49:37 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d7a49986-a6af-45ab-89f3-54a9268381f8]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicated": 3}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [edf5bf6c-f541-11e6-86bb-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:19 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2/resize?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2/resize']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:18 GMT']
      ETag: ['0x8D45765D227D2E1']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:19 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e2931914-585f-45de-8db8-d02ca1bf0792]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ee821c52-f541-11e6-9f6d-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:20 GMT']
    method: POST
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2/stopresize?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2/stopresize']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:22 GMT']
      ETag: ['0x8D45765D2B33829']
      Last-Modified: ['Fri, 17 Feb 2017 18:50:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [75ac1699-c669-4825-9650-6e3141da93a9]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ef02d638-f541-11e6-a24d-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:21 GMT']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/lifetimepoolstats?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#poolstats/@Element\",\"url\":\"https://pythonsdktest.westeurope.batch.azure.com/lifetimepoolstats\",\"usageStats\":{\r\n
        \   \"startTime\":\"2017-02-17T18:42:18.1427777Z\",\"lastUpdateTime\":\"2017-02-17T18:42:18.1427777Z\",\"dedicatedCoreTime\":\"PT0S\"\r\n
        \ },\"resourceStats\":{\r\n    \"startTime\":\"2017-02-17T18:42:18.1427777Z\",\"diskReadIOps\":\"0\",\"diskWriteIOps\":\"0\",\"lastUpdateTime\":\"2017-02-17T18:42:18.1427777Z\",\"avgCPUPercentage\":0.0,\"avgMemoryGiB\":0.0,\"peakMemoryGiB\":0.0,\"avgDiskGiB\":0.0,\"peakDiskGiB\":0.0,\"diskReadGiB\":0.0,\"diskWriteGiB\":0.0,\"networkReadGiB\":0.0,\"networkWriteGiB\":0.0\r\n
        \ }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f46282bd-de1d-4af5-83c7-c1c1e7e6e4d7]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ef82887a-f541-11e6-964a-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:22 GMT']
    method: GET
    uri: https://pythonsdktest.westeurope.batch.azure.com/poolusagemetrics?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://pythonsdktest.westeurope.batch.azure.com/$metadata#poolusagemetrics\",\"value\":[\r\n
        \   \r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:23 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dd73b639-9bac-43d8-abb6-b665606f252d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f00b9b40-f541-11e6-8a32-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:23 GMT']
    method: DELETE
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_2?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [cb904d68-1e6f-4dbd-8eb3-d6a7ce918e3b]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.13.0 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f09c73ec-f541-11e6-b0e7-54ee750f2fc7]
      ocp-date: ['Fri, 17 Feb 2017 18:50:23 GMT']
    method: DELETE
    uri: https://pythonsdktest.westeurope.batch.azure.com/pools/python_test_pool_1?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 17 Feb 2017 18:50:23 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e5feb313-ad99-47e2-b1ee-f65c5f5fa7a9]
    status: {code: 202, message: Accepted}
version: 1
