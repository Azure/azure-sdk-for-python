interactions:
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 resourcemanagementclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [9ea6ae64-4ad6-11e7-81bd-5065f34efe31]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/azkv-pytest?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/azkv-pytest","name":"azkv-pytest","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 16:38:50 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['175']
      x-ms-correlation-request-id: [6f1a9148-b9a2-48b3-905a-9622dc72efae]
      x-ms-ratelimit-remaining-subscription-writes: ['1189']
      x-ms-request-id: [6f1a9148-b9a2-48b3-905a-9622dc72efae]
      x-ms-routing-request-id: ['WESTUS2:20170606T163850Z:6f1a9148-b9a2-48b3-905a-9622dc72efae']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 resourcemanagementclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [56030fda-4ad8-11e7-9c95-5065f34efe31]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/azkv-pytest?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/azkv-pytest","name":"azkv-pytest","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 16:51:07 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['175']
      x-ms-correlation-request-id: [26561cf4-f927-4037-b77d-81d268eef08e]
      x-ms-ratelimit-remaining-subscription-writes: ['1191']
      x-ms-request-id: [26561cf4-f927-4037-b77d-81d268eef08e]
      x-ms-routing-request-id: ['WESTUS:20170606T165107Z:26561cf4-f927-4037-b77d-81d268eef08e']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 resourcemanagementclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [ceda1b3a-4add-11e7-a693-5065f34efe31]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/azkv-pytest?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/azkv-pytest","name":"azkv-pytest","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['175']
      x-ms-correlation-request-id: [bb9acab7-24c8-4221-b4f0-73df9fd9f874]
      x-ms-ratelimit-remaining-subscription-writes: ['1192']
      x-ms-request-id: [bb9acab7-24c8-4221-b4f0-73df9fd9f874]
      x-ms-routing-request-id: ['WESTUS:20170606T173018Z:bb9acab7-24c8-4221-b4f0-73df9fd9f874']
    status: {code: 200, message: OK}
- request:
    body: '{"kty": "RSA"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['14']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cf1e1592-4add-11e7-bae5-5065f34efe31]
    method: POST
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/create?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"created":1496770218,"updated":1496770218,"recoverylevel":"Purgeable"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['653']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:18 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [963bb71b-1347-4e2c-80c4-7925023abfee]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cfd00524-4add-11e7-9856-5065f34efe31]
    method: GET
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"created":1496770218,"updated":1496770218,"recoverylevel":"Purgeable"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['653']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:21 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [8438a912-ec04-4b82-88cb-445fa3224039]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d0a7600c-4add-11e7-8044-5065f34efe31]
    method: GET
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"created":1496770218,"updated":1496770218,"recoverylevel":"Purgeable"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['653']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [ea4a9ddc-df1c-4681-80d0-687e85fb3d94]
    status: {code: 200, message: OK}
- request:
    body: '{"key_ops": ["encrypt", "decrypt"], "tags": {"foo": "updated tag"}, "attributes":
      {"enabled": true, "exp": 2527401600}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['119']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d126957e-4add-11e7-aed9-5065f34efe31]
    method: PATCH
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"exp":2527401600,"created":1496770218,"updated":1496770222,"recoverylevel":"Purgeable"},"tags":{"foo":"updated
        tag"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['661']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:22 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [9ee8116d-1558-4872-a834-b75a67653a65]
    status: {code: 200, message: OK}
- request:
    body: '{"key_ops": ["encrypt", "decrypt"], "tags": {"foo": "updated tag"}, "attributes":
      {"enabled": true, "exp": 2527401600}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['119']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d1b3b946-4add-11e7-b0b1-5065f34efe31]
    method: PATCH
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"exp":2527401600,"created":1496770218,"updated":1496770223,"recoverylevel":"Purgeable"},"tags":{"foo":"updated
        tag"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['661']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:23 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [51431a05-539b-46e9-af7c-3f431e4387d1]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d2464aee-4add-11e7-aa74-5065f34efe31]
    method: DELETE
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233?api-version=7.0-preview
  response:
    body: {string: '{"key":{"kid":"https://pytest-shared-vault.vault.azure.net/keys/key98b91233/9acd57c81f8f4874a82cb41c2c45bd0c","kty":"RSA","key_ops":["encrypt","decrypt"],"n":"37U8PuZINjfxp1M43jNCRanJvzOqpz5xlN3Ve2uy_xS9pKsta89YBD2xB6OrLhNHe1irUiTrjJRPtTtS0iyZ20jo-CTYvocC3t2S0hKVhaI8aVzI5TqbD68iFjqnkfu7bTMXbGliwnXAb7n-bewgHhXMcerYtBGv_FJIJgA9qhm-ZvNk0fX4u1GQS9S0iMJqzeIPPZLK5-6vOhSPJd-gXQXcrUvqQ_X2eUvOzCTvxS5_lb-wuG57JlGnMWIOS1ohZwG77iTvUr1SqdgGpM_OglAd3qMBCP072od9kA0zrHigLAJc9F_YRxTUZ5zgBKYq26G4wxq_U2vkGKhqi-soLw","e":"AQAB"},"attributes":{"enabled":true,"exp":2527401600,"created":1496770218,"updated":1496770223,"recoverylevel":"Purgeable"},"tags":{"foo":"updated
        tag"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['661']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:23 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [186960fe-66d4-48ab-b196-3ab8792c037a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.15063-SP0) requests/2.17.3 msrest/0.4.8
          msrest_azure/0.4.8 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d2ceebc2-4add-11e7-8f5e-5065f34efe31]
    method: GET
    uri: https://pytest-shared-vault.vault.azure.net/keys/key98b91233/?api-version=7.0-preview
  response:
    body: {string: '{"error":{"code":"KeyNotFound","message":"Key not found: key98b91233"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['71']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Tue, 06 Jun 2017 17:30:24 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.813]
      x-ms-request-id: [0505a1b3-f356-43de-84b0-7be27190a1a1]
    status: {code: 404, message: Not Found}
version: 1
