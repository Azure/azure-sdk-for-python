interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/me?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"5963f50c-7c43-405c-af7e-53294de76abd","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[{"disabledPlans":[],"skuId":"a403ebcc-fae0-4ca2-8c8c-7a907fd6c235"}],"assignedPlans":[{"assignedTimestamp":"2017-12-07T23:01:21Z","capabilityStatus":"Enabled","service":"AzureAnalysis","servicePlanId":"2049e525-b859-401b-b2a0-e0a31c4b1fe4"}],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-06T17:18:25Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"Admin2","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"Admin2","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin2","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["destanko@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2018-10-10T16:31:56Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"Admin2","telephoneNumber":null,"thumbnailPhoto@odata.mediaEditLink":"directoryObjects/5963f50c-7c43-405c-af7e-53294de76abd/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":"US","userIdentities":[],"userPrincipalName":"admin2@AzureSDKTeam.onmicrosoft.com","userState":null,"userStateChangedOn":null,"userType":"Member"}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1796']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Thu, 11 Oct 2018 18:11:46 GMT']
      duration: ['361468']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [Hmgcuy1hpGi6KCpCk4BrqM0RyCbBpwqDLCqIAEp//qg=]
      ocp-aad-session-key: [FTuAD5yaSVAu8MDnc_KzoZsMPGBnLD4GkXwIgsOaiROri1l9c1O-3NH1T4Kr-AV4Ca6o6oxRxSBvnxhIJtBV3QPztC-hTv80WSbNxrUwBpXhlTB3oIQ2dxmp97aRXKPW2yFwwZ9VOklkF_3LXxgVVQ.qcNJ00teWhRqYam7YVj7bIUszWj7hy0F7jP0SVElA6Y]
      pragma: [no-cache]
      request-id: [35aa08ab-05ad-4458-9351-73289661da11]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"displayName": "pytestgroup_display", "mailEnabled": false, "mailNickname":
      "pytestgroup_nickname", "securityEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['125']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/groups?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/Microsoft.DirectoryServices.Group/@Element","odata.type":"Microsoft.DirectoryServices.Group","objectType":"Group","objectId":"537cef66-0503-4a1c-a2b6-a6958106e355","deletionTimestamp":null,"description":null,"dirSyncEnabled":null,"displayName":"pytestgroup_display","lastDirSyncTime":null,"mail":null,"mailNickname":"pytestgroup_nickname","mailEnabled":false,"onPremisesDomainName":null,"onPremisesNetBiosName":null,"onPremisesSamAccountName":null,"onPremisesSecurityIdentifier":null,"provisioningErrors":[],"proxyAddresses":[],"securityEnabled":true}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['652']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Thu, 11 Oct 2018 18:11:47 GMT']
      duration: ['1894328']
      expires: ['-1']
      location: ['https://graph.windows.net/myaddomain.onmicrosoft.com/directoryObjects/537cef66-0503-4a1c-a2b6-a6958106e355/Microsoft.DirectoryServices.Group']
      ocp-aad-diagnostics-server-name: [zPeOuJeNLZ5N5CAKU8XN6jsJ5sC6cSv6Gh6WpNy3E8g=]
      ocp-aad-session-key: [ozuRYmXz3J04O2uMObVlFxbApVC8UQIdOs4znqQJwL8aqypzNeSpNHfNyTO000_amh5tJiPko_DhBgV2dm9agOCz66gZDPSN4ulOrZKBDf0HRcUk7PWALcXmujgTrvmJf6aQ-cpbgo_ZiOLhBtqifA.yiHydYJziSQlcNrXzsZesls6DoD6vdod_KyY6Oz_ayE]
      pragma: [no-cache]
      request-id: [17c8bf1f-dac3-419f-bf69-745ddab0707a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: 'b''{"url": "https://graph.windows.net/myaddomain.onmicrosoft.com/directoryObjects/5963f50c-7c43-405c-af7e-53294de76abd"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['119']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/groups/537cef66-0503-4a1c-a2b6-a6958106e355/$links/owners?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Thu, 11 Oct 2018 18:11:48 GMT']
      duration: ['2061877']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [NecIdAbtcl2G5DavAD0ay+NyJ0bZ8m4qvkKAOpQmV0w=]
      ocp-aad-session-key: [kfyS95haI3IP_UXPP20oeR0WsKXbc5ts_1jVXH2cu77zTZLnMjyA4uArAOWciBwcmuweAVO6jlSbyYp__4uuBLvvpuLg346jvL8Czhn7P3QVv8KEo1olM6GwFS8WBHVTto60sk8MbLrEAA5A8A9yQg.lJsdw-rKNIU60fyV0DkYGF-4DDZWEly7aL7ha7KLbqs]
      pragma: [no-cache]
      request-id: [4f4d1591-98a2-4ee1-a2a1-0afb57905f01]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/me/ownedObjects?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Group","objectType":"Group","objectId":"8a9b1617-fc8d-4aa9-a42f-99868d314699","deletionTimestamp":null,"description":"first
        group","dirSyncEnabled":null,"displayName":"firstgroup","lastDirSyncTime":null,"mail":null,"mailNickname":"0afc6ff5-b63b-4583-b7f0-6a639e64cc75","mailEnabled":false,"onPremisesDomainName":null,"onPremisesNetBiosName":null,"onPremisesSamAccountName":null,"onPremisesSecurityIdentifier":null,"provisioningErrors":[],"proxyAddresses":[],"securityEnabled":true},{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"b48ab268-479a-4640-aa87-021e92ae2626","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"d5938293-ffce-440e-ae1e-92c0a569e1e4","appRoles":[],"availableToOtherTenants":false,"displayName":"cormazuresdkapp","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://cormazuresdkapp","identifierUris":["https://AzureSDKTeam.onmicrosoft.com/fc187aa3-4458-4d6e-a4dc-bb5b07f68ea8"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/b48ab268-479a-4640-aa87-021e92ae2626/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/b48ab268-479a-4640-aa87-021e92ae2626/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cormazuresdkapp on behalf of the signed-in user.","adminConsentDisplayName":"Access
        cormazuresdkapp","id":"17083250-6cfd-4d23-b3c8-f4293c7aab44","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cormazuresdkapp on your behalf.","userConsentDisplayName":"Access
        cormazuresdkapp","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":false,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":["http://cormazuresdkapp"],"requiredResourceAccess":[{"resourceAppId":"00000002-0000-0000-c000-000000000000","resourceAccess":[{"id":"311a71cc-e848-46a1-bdf8-97ff7156d8e6","type":"Scope"}]}],"samlMetadataUrl":null,"signInAudience":null,"tokenEncryptionKeyId":null},{"odata.type":"Microsoft.DirectoryServices.Group","objectType":"Group","objectId":"537cef66-0503-4a1c-a2b6-a6958106e355","deletionTimestamp":null,"description":null,"dirSyncEnabled":null,"displayName":"pytestgroup_display","lastDirSyncTime":null,"mail":null,"mailNickname":"pytestgroup_nickname","mailEnabled":false,"onPremisesDomainName":null,"onPremisesNetBiosName":null,"onPremisesSamAccountName":null,"onPremisesSecurityIdentifier":null,"provisioningErrors":[],"proxyAddresses":[],"securityEnabled":true}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['3187']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Thu, 11 Oct 2018 18:11:48 GMT']
      duration: ['467986']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [IvZLzCWcIFkxniLh6wneapEsVoTEBBYbEdFPeHsJSbc=]
      ocp-aad-session-key: [pcnTvyAR10Cr9l58vygoDTGfTJ5k0Pi-sUQI79wodAsExQYVjUD-GUi5Js0-e6AhPAbdkz-OmgH3KTXZXAWMozI2yRI3-Nz-sq_jW92gwn6loJGZ1RFrq__AK_JbRvZ32TE-w4uwXCWnLRB2pFZTgg.Lh6bhCgkhtHXLoJoq0AHO3OAPOIOMHr4rKB2NINva14]
      pragma: [no-cache]
      request-id: [2e48205f-dac7-4b15-a225-bc4f676248a2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/groups/537cef66-0503-4a1c-a2b6-a6958106e355/$links/owners/5963f50c-7c43-405c-af7e-53294de76abd?api-version=1.6
  response:
    body: {string: '{"odata.error":{"code":"Request_BadRequest","message":{"lang":"en","value":"The
        group must have at least one owner, hence this owner cannot be removed."},"date":"2018-10-11T18:11:49","requestId":"041e7edc-b43a-40a1-a09f-7bb7f50bf52f","values":null}}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [private]
      content-length: ['249']
      content-type: [application/json; odata=minimalmetadata; charset=utf-8]
      date: ['Thu, 11 Oct 2018 18:11:49 GMT']
      duration: ['547491']
      ocp-aad-diagnostics-server-name: [NecIdAbtcl2G5DavAD0ay+NyJ0bZ8m4qvkKAOpQmV0w=]
      ocp-aad-session-key: [n8LsltdLLxswpn_9r80QBmZks8bt9ysACyUptkICE6lA9u1G0gRXP2ThTW-YsK6VTHY2T5twpgtlNZCaUAKagIWtgTHTITEZCiX__QozY0fD-kX_9Qy81TTd9VUDmeycRAjN6AOKiHDG93tVwq1A7g.ziQAFN7cCWLdq-ylYi-pVZ9Irs_lviAhN3fNGVcN_Ko]
      request-id: [041e7edc-b43a-40a1-a09f-7bb7f50bf52f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) msrest/0.6.0 msrest_azure/0.4.34
          azure-graphrbac/0.50.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/groups/537cef66-0503-4a1c-a2b6-a6958106e355?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Thu, 11 Oct 2018 18:11:50 GMT']
      duration: ['3153263']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [YPT0bBpwREL5IJMIvN9GoYV1GS3mAXpIf09yabKcdz0=]
      ocp-aad-session-key: [A_ccF75B-1W_ehwSbcEokBU3sFgBNdfaVp3fPPfTOg36QxNQNNiE3xc4A-rmSec8Q_WE7z_Oq_PdkCvWAMVzUlWo6fpPMLCnf-8IcPhwsFjRcBhSGdi2S1QuGqw4kGQMgAJYh0vf6zIIJOYA2dRBgg.cZZrJFvO-CRKaXgYhhPMnzfdL--vpcbx5Zb0skHFR8c]
      pragma: [no-cache]
      request-id: [8a84f892-fdf4-4e42-a197-c9e923d5d2e3]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
version: 1
