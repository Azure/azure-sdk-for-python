interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/applications?$filter=displayName%20eq%20%27pytest_app%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"cd09b8b2-ecfd-4445-9982-3135b6c881aa","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"4ffd89b9-61d6-4a8a-996f-9ae4dc3faeb9","appRoles":[],"availableToOtherTenants":false,"displayName":"pytest_app","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":["http://pytest_app.org"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access pytest_app on behalf of the signed-in user.","adminConsentDisplayName":"Access
        pytest_app","id":"4885d18e-80c5-4362-8222-3607a208983e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access pytest_app on your behalf.","userConsentDisplayName":"Access
        pytest_app","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1681']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 31 Aug 2018 21:43:07 GMT']
      duration: ['2727083']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [eQGYHi678x3WuY+LvV3c1J8TMerTK1YngVgfDAcnyW4=]
      ocp-aad-session-key: [cNwEFj9q5F9dTz8qfKDEi3WxucwQfqAbc3GUuCBUhyKaWsoVnrGnwRzRw4zQx6LcQrdGZkaDM8gQzd8d5ywuXT0wrMVBdA0A_GvJ9YlAT-E-sy1ar88s3OC_Fq0Vbu4bMU9flDx4tTC7tRiwy_njXw.DCEP-hx8QNCFVS7fTzF-qdDmEAezYCs9lCAB5tNG8XI]
      pragma: [no-cache]
      request-id: [767b0c80-8818-4315-a1d6-64e1151914a4]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/applications/cd09b8b2-ecfd-4445-9982-3135b6c881aa?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 31 Aug 2018 21:43:08 GMT']
      duration: ['1663439']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [+ZQCeST5sqkh8PfRlmTpQsH/+32BWqALmUNV8T7ZW80=]
      ocp-aad-session-key: [Ll50921WJZwVYtroNA3mDfU8Jq1Y1uP-dMIimw0cA7x3o4ZRch0lQOMmGskcq4idEaGwd9mwFFD-bU_l6hgxtXhyrVOK3Qk1G3y31GjqvQmC01h-t9Q9rD9RT7min6i7axbl5qL9bt8zkj97MmqphA.gO4K5j1P9tQ2nxfS7R_4Y5DIPL4TQ8ENBbTKWdc7YKY]
      pragma: [no-cache]
      request-id: [8512779c-f358-4e67-b602-e231d3dfe63e]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: '{"appRoles": [{"id": "1b4f816e-5eaf-48b9-8613-7923830595ad", "allowedMemberTypes":
      ["User"], "description": "Creators can create Surveys", "displayName": "SurveyCreator",
      "isEnabled": true, "value": "SurveyCreator"}], "availableToOtherTenants": false,
      "displayName": "pytest_app", "identifierUris": ["http://pytest_app.org"]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['325']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"477bfe18-81ff-4679-8ffd-62f0224ba0cd","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"70a80414-f6a9-410e-b4bc-7224e5eae818","appRoles":[{"allowedMemberTypes":["User"],"description":"Creators
        can create Surveys","displayName":"SurveyCreator","id":"1b4f816e-5eaf-48b9-8613-7923830595ad","isEnabled":true,"value":"SurveyCreator"}],"availableToOtherTenants":false,"displayName":"pytest_app","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":["http://pytest_app.org"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access pytest_app on behalf of the signed-in user.","adminConsentDisplayName":"Access
        pytest_app","id":"fbda4930-61d1-4b67-bffb-939fbd3ed04d","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access pytest_app on your behalf.","userConsentDisplayName":"Access
        pytest_app","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1954']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 31 Aug 2018 21:43:09 GMT']
      duration: ['4634523']
      expires: ['-1']
      location: ['https://graph.windows.net/myaddomain.onmicrosoft.com/directoryObjects/477bfe18-81ff-4679-8ffd-62f0224ba0cd/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [2dwL4zmGotV02lDmIuML9wD2xi2nJgoszFrjUl3LYBw=]
      ocp-aad-session-key: [4NR6ycCcli13ltRCUmaaeVUBNOeRhqJwApoQsENRo_boiCiaufyiQWyGJGWWq60L39YOyrMdpP1hwI6ofMgLH1fHMIcn_O8SOjA77_QR1TA6eIjr0BB9tr5AU5nJ7MVXkKH7XWbYEhv5103ln2SMRg.A9haGeqcfiKtZlf4rj2qvBgs7d4LBDgj_xh8nB63Wrk]
      pragma: [no-cache]
      request-id: [5e798cb3-b7ae-4473-8799-68554a746e1d]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/applications?$filter=displayName%20eq%20%27pytest_app%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"477bfe18-81ff-4679-8ffd-62f0224ba0cd","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"70a80414-f6a9-410e-b4bc-7224e5eae818","appRoles":[{"allowedMemberTypes":["User"],"description":"Creators
        can create Surveys","displayName":"SurveyCreator","id":"1b4f816e-5eaf-48b9-8613-7923830595ad","isEnabled":true,"value":"SurveyCreator"}],"availableToOtherTenants":false,"displayName":"pytest_app","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":["http://pytest_app.org"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access pytest_app on behalf of the signed-in user.","adminConsentDisplayName":"Access
        pytest_app","id":"fbda4930-61d1-4b67-bffb-939fbd3ed04d","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access pytest_app on your behalf.","userConsentDisplayName":"Access
        pytest_app","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1871']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 31 Aug 2018 21:43:09 GMT']
      duration: ['965407']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [O7pP+dOHYyO4qyTRplHZ2APLBSM71WyEOHgyiadgxzQ=]
      ocp-aad-session-key: [CWZn_0u66yvID_Z85rgiecHj_rsmMQnmyYn6Te5yvOAwTQe6AdXUgzGRos3BDnifjwhl6vaaLmVaTAFcBZhwBRNdyA__ckZAXQH9eTskd-5lP50xHY4WfxB_S2XqGdTPdHZAUDCiXJZj3zVuKV_v3Q.OjATI48sG0YBu422CF8nMq__MbDL_h9xBeV6iA7fVjU]
      pragma: [no-cache]
      request-id: [8227ad9e-78e7-4332-9bed-498275985380]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"appId": "70a80414-f6a9-410e-b4bc-7224e5eae818", "accountEnabled": false}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['74']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/myaddomain.onmicrosoft.com/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"b702b0f1-529c-4e7c-87f5-9910c683ea08","deletionTimestamp":null,"accountEnabled":false,"addIns":[],"alternativeNames":[],"appDisplayName":"pytest_app","appId":"70a80414-f6a9-410e-b4bc-7224e5eae818","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[{"allowedMemberTypes":["User"],"description":"Creators
        can create Surveys","displayName":"SurveyCreator","id":"1b4f816e-5eaf-48b9-8613-7923830595ad","isEnabled":true,"value":"SurveyCreator"}],"displayName":"pytest_app","errorUrl":null,"homepage":null,"keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access pytest_app on behalf of the signed-in user.","adminConsentDisplayName":"Access
        pytest_app","id":"fbda4930-61d1-4b67-bffb-939fbd3ed04d","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access pytest_app on your behalf.","userConsentDisplayName":"Access
        pytest_app","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["70a80414-f6a9-410e-b4bc-7224e5eae818","http://pytest_app.org"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1590']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 31 Aug 2018 21:43:10 GMT']
      duration: ['2230638']
      expires: ['-1']
      location: ['https://graph.windows.net/myaddomain.onmicrosoft.com/directoryObjects/b702b0f1-529c-4e7c-87f5-9910c683ea08/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [51iBJpC99VT0XE2E+kBdfS8ZboPQ82X4Ya2wf9P8Ew0=]
      ocp-aad-session-key: [65S7uPDLRP6jx2Nb0oif0o7XzHfl3tbliSLknmRmjtJWg_W1AQDawxwcX52BE6GclUY1XgsdU6JPipVzyUc02oPGHRQKpQcGOrbZrIBgSa7Pcq5-oBNT5isoYWh9q0WgBZ5_19YXpcc7UmgbSC2Tjw.TYgANX-sC1y8cJBg0UFRz8atqh_1W8ftiRUzqOjf4xo]
      pragma: [no-cache]
      request-id: [061c78a2-c39a-4a93-a9c8-63e68b37c21b]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/servicePrincipals/b702b0f1-529c-4e7c-87f5-9910c683ea08?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 31 Aug 2018 21:43:10 GMT']
      duration: ['1689518']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [UCqg51CRwbFSVSpQdd+0eu2pZyuBt7dvQmjs73sOGao=]
      ocp-aad-session-key: [glxnQlWpJIjPPHFkpKAx9u0onYRof5obDvEpgX4mkEnmojjcmPbLDCScIlf1O7tAZ9yyJssp_cJIFrHfc-V6uji515DxrMMOGKD49PYUhvQUQoLiKeQR9AMAtCz95gcTO29TpT0CSJsinSc9qPasOA.2F3gvMAU_rjJ0taxMN55_t41g0JExx_yBGfeObiQ81s]
      pragma: [no-cache]
      request-id: [85021e15-a9f5-46e0-8e13-6efda523c62b]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.5
          msrest_azure/0.4.34 azure-graphrbac/1.6 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/myaddomain.onmicrosoft.com/applications/477bfe18-81ff-4679-8ffd-62f0224ba0cd?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 31 Aug 2018 21:43:10 GMT']
      duration: ['1566410']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [ioV00GD0iCnKAf4rbBF9BaSdqytXkAsz7MJFOipZ4QY=]
      ocp-aad-session-key: [R-YEsyJBscsrzcmkSFMGIKysCm5H9V9TQZek6y_WTmzaS-irYcBdk38g4xAbCQ5WkQfmn30lXLphh20x5mOI29f9iecqmpAXCFz-QVqMKZxwxJbohGeCfkxD6h5NkH9EG5Kbg4zRSJGTch6BEfOfGQ.baXFOGO18MySXlimMAfZQmP9nHqbDQIGGjPVnxrB0Pg]
      pragma: [no-cache]
      request-id: [1176cc72-c90e-4d18-92f5-fcdd0989d32a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
version: 1
