parameters:
- name: Artifacts
  type: object
  default: []
- name: ServiceDirectory
  type: string
  default: not-specified
- name: EmulatorMsiUrl
  type: string
  default: https://aka.ms/cosmosdb-emulator
- name: InjectedPackages
  type: string
  default: ''
- name: EmulatorStartParameters
  type: string
  default: ''
- name: TestProxy
  type: boolean
  default: false

extends:
  template: /eng/pipelines/templates/stages/archetype-sdk-client.yml
  parameters:
    ServiceDirectory: ${{ parameters.ServiceDirectory }}
    # Skip emulator tests in the CI run
    TestMarkArgument: not cosmosEmulator
    InjectedPackages: ${{parameters.InjectedPackages}}
    Artifacts: ${{parameters.Artifacts}}
