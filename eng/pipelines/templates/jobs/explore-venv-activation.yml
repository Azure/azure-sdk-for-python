stages:
- stage:
  displayName: Investigate
  variables:
    - template: ../variables/image.yml

  jobs:
    - job: Test_Activation_Linux
      displayName: Build on Linux
      pool:
        image: $(LINUXVMIMAGE)
        os: linux
        name: $(LINUXPOOL)

      steps:
        - template: ../steps/activate-and-use-venv.yml
          parameters:
            VirtualEnvironmentName: TESTVENV

    - job: Test_Activation_Windows
      displayName: Build on Windows
      pool:
        image: $(WINDOWSVMIMAGE)
        os: windows
        name: $(WINDOWSPOOL)

      steps:
        - template: ../steps/activate-and-use-venv.yml
          parameters:
            VirtualEnvironmentName: TESTVENV

    - job: Test_Activation_Mac
      displayName: Build on Mac
      pool:
        osVmImage: $(MACVMIMAGE)
        os: 'macOS'
        name: $(MACPOOL)

      steps:
        - template: ../steps/activate-and-use-venv.yml
          parameters:
            VirtualEnvironmentName: TESTVENV
