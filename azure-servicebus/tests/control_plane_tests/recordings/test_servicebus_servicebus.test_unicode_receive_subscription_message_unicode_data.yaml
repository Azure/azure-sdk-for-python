interactions:
- request:
    body: !!binary |
      PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9InllcyI/Pjxl
      bnRyeSB4bWxuczpkPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA3LzA4L2Rh
      dGFzZXJ2aWNlcyIgeG1sbnM6bT0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9hZG8vMjAw
      Ny8wOC9kYXRhc2VydmljZXMvbWV0YWRhdGEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDA1
      L0F0b20iPjx0aXRsZT48L3RpdGxlPjx1cGRhdGVkPjIwMTUtMDYtMzBUMjA6NTM6MjUuNTg5Mjk4
      KzAwOjAwPC91cGRhdGVkPjxhdXRob3I+PG5hbWU+PC9uYW1lPjwvYXV0aG9yPjxpZD48L2lkPjxj
      b250ZW50IHR5cGU9ImFwcGxpY2F0aW9uL3htbCI+PFRvcGljRGVzY3JpcHRpb24geG1sbnM6aT0i
      aHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zPSJodHRwOi8v
      c2NoZW1hcy5taWNyb3NvZnQuY29tL25ldHNlcnZpY2VzLzIwMTAvMTAvc2VydmljZWJ1cy9jb25u
      ZWN0Ij48L1RvcGljRGVzY3JpcHRpb24+PC9jb250ZW50PjwvZW50cnk+
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['555']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.0]
    method: PUT
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172
  response:
    body: {string: '<entry xmlns="http://www.w3.org/2005/Atom"><id>https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172</id><title
        type="text">uttopic62ec2172</title><published>2015-06-30T20:53:28Z</published><updated>2015-06-30T20:53:28Z</updated><author><name>fakesbnamespace</name></author><link
        rel="self" href="https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172"/><content
        type="application/xml"><TopicDescription xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><DefaultMessageTimeToLive>P10675199DT2H48M5.4775807S</DefaultMessageTimeToLive><MaxSizeInMegabytes>1024</MaxSizeInMegabytes><RequiresDuplicateDetection>false</RequiresDuplicateDetection><DuplicateDetectionHistoryTimeWindow>PT10M</DuplicateDetectionHistoryTimeWindow><EnableBatchedOperations>true</EnableBatchedOperations><SizeInBytes>0</SizeInBytes><CreatedAt>2015-06-30T20:53:28.133</CreatedAt><UpdatedAt>2015-06-30T20:53:28.257</UpdatedAt></TopicDescription></content></entry>'}
    headers:
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      Date: ['Tue, 30 Jun 2015 20:53:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: !!binary |
      PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9InllcyI/Pjxl
      bnRyeSB4bWxuczpkPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA3LzA4L2Rh
      dGFzZXJ2aWNlcyIgeG1sbnM6bT0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9hZG8vMjAw
      Ny8wOC9kYXRhc2VydmljZXMvbWV0YWRhdGEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDA1
      L0F0b20iPjx0aXRsZT48L3RpdGxlPjx1cGRhdGVkPjIwMTUtMDYtMzBUMjA6NTM6MjcuMzQ1NDcw
      KzAwOjAwPC91cGRhdGVkPjxhdXRob3I+PG5hbWU+PC9uYW1lPjwvYXV0aG9yPjxpZD48L2lkPjxj
      b250ZW50IHR5cGU9ImFwcGxpY2F0aW9uL3htbCI+PFN1YnNjcmlwdGlvbkRlc2NyaXB0aW9uIHht
      bG5zOmk9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiB4bWxucz0i
      aHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9uZXRzZXJ2aWNlcy8yMDEwLzEwL3NlcnZpY2Vi
      dXMvY29ubmVjdCI+PC9TdWJzY3JpcHRpb25EZXNjcmlwdGlvbj48L2NvbnRlbnQ+PC9lbnRyeT4=
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['569']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.0]
    method: PUT
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172/subscriptions/MySubscription
  response:
    body: {string: '<entry xmlns="http://www.w3.org/2005/Atom"><id>https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172/subscriptions/MySubscription</id><title
        type="text">MySubscription</title><published>2015-06-30T20:53:28Z</published><updated>2015-06-30T20:53:28Z</updated><link
        rel="self" href="https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172/subscriptions/MySubscription"/><content
        type="application/xml"><SubscriptionDescription xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><LockDuration>PT1M</LockDuration><RequiresSession>false</RequiresSession><DefaultMessageTimeToLive>P10675199DT2H48M5.4775807S</DefaultMessageTimeToLive><DeadLetteringOnMessageExpiration>false</DeadLetteringOnMessageExpiration><DeadLetteringOnFilterEvaluationExceptions>true</DeadLetteringOnFilterEvaluationExceptions><MessageCount>0</MessageCount><MaxDeliveryCount>10</MaxDeliveryCount><EnableBatchedOperations>true</EnableBatchedOperations></SubscriptionDescription></content></entry>'}
    headers:
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      Date: ['Tue, 30 Jun 2015 20:53:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: !!binary |
      c3Vic2NyaXB0aW9uIG1lc3NhZ2XllYrpvYTkuILni5vni5w=
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['35']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.0]
    method: POST
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172/messages
  response:
    body: {string: ''}
    headers:
      Content-Type: [application/xml; charset=utf-8]
      Date: ['Tue, 30 Jun 2015 20:53:29 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.0]
    method: DELETE
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic62ec2172/subscriptions/MySubscription/messages/head?timeout=60
  response:
    body: {string: "subscription message\u554A\u9F44\u4E02\u72DB\u72DC"}
    headers:
      BrokerProperties: ['{"DeliveryCount":1,"EnqueuedSequenceNumber":1,"EnqueuedTimeUtc":"Tue,
          30 Jun 2015 20:53:29 GMT","MessageId":"4998d926a6024e05ba00d5e46b101e89","SequenceNumber":1,"State":"Active","TimeToLive":922337203685.47754}']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      Date: ['Tue, 30 Jun 2015 20:53:29 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
    status: {code: 200, message: OK}
version: 1
