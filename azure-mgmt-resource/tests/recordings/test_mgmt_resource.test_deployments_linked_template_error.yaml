interactions:
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.12.1 msrest/0.4.7
          msrest_azure/0.4.7 resourcemanagementclient/1.0.0rc3 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [05ab17ee-3416-11e7-9819-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_mgmt_resource_test_deployments_linked_template_errorafa117b7?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_resource_test_deployments_linked_template_errorafa117b7","name":"test_mgmt_resource_test_deployments_linked_template_errorafa117b7","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['283']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 08 May 2017 17:44:44 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-correlation-request-id: [2b972bf9-311b-41de-a27c-b049ff35f382]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
      x-ms-request-id: [2b972bf9-311b-41de-a27c-b049ff35f382]
      x-ms-routing-request-id: ['WESTUS:20170508T174444Z:2b972bf9-311b-41de-a27c-b049ff35f382']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"parametersLink": {"uri": "https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-linux/azuredeploy.parameters.json"},
      "mode": "Incremental", "templateLink": {"uri": "https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-simple-linux/azuredeploy.json"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['330']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.12.1 msrest/0.4.7
          msrest_azure/0.4.7 resourcemanagementclient/1.0.0rc3 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [05d44f30-3416-11e7-9122-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_mgmt_resource_test_deployments_linked_template_errorafa117b7/providers/Microsoft.Resources/deployments/pytestlinkedafa117b7?api-version=2017-05-10
  response:
    body: {string: '{"error":{"code":"InvalidTemplateDeployment","message":"The template
        deployment ''pytestlinkedafa117b7'' is not valid according to the validation
        procedure. The tracking id is ''38018948-e2e2-43ca-b106-de8e0fe863b1''. See
        inner errors for details. Please see https://aka.ms/arm-deploy for usage details.","details":[{"code":"InvalidDomainNameLabel","message":"The
        domain name label GEN-UNIQUE is invalid. It must conform to the following
        regular expression: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.","details":[]}]}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['503']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 08 May 2017 17:44:45 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-correlation-request-id: [38018948-e2e2-43ca-b106-de8e0fe863b1]
      x-ms-failure-cause: [gateway]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
      x-ms-request-id: [38018948-e2e2-43ca-b106-de8e0fe863b1]
      x-ms-routing-request-id: ['WESTUS:20170508T174446Z:38018948-e2e2-43ca-b106-de8e0fe863b1']
    status: {code: 400, message: Bad Request}
version: 1
