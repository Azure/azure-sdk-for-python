interactions:
- request:
    body: '{"query": "Heartbeat | take 10"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['32']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.1
          azure-loganalytics/0.1.0]
      x-api-key: [DEMO_KEY]
    method: POST
    uri: https://api.loganalytics.io/v1/workspaces/DEMO_WORKSPACE/query
  response:
    body: {string: '{"tables":[{"name":"PrimaryResult","columns":[{"name":"TenantId","type":"string"},{"name":"SourceSystem","type":"string"},{"name":"TimeGenerated","type":"datetime"},{"name":"MG","type":"string"},{"name":"ManagementGroupName","type":"string"},{"name":"SourceComputerId","type":"string"},{"name":"ComputerIP","type":"string"},{"name":"Computer","type":"string"},{"name":"Category","type":"string"},{"name":"OSType","type":"string"},{"name":"OSName","type":"string"},{"name":"OSMajorVersion","type":"string"},{"name":"OSMinorVersion","type":"string"},{"name":"Version","type":"string"},{"name":"SCAgentChannel","type":"string"},{"name":"IsGatewayInstalled","type":"bool"},{"name":"RemoteIPLongitude","type":"real"},{"name":"RemoteIPLatitude","type":"real"},{"name":"RemoteIPCountry","type":"string"},{"name":"SubscriptionId","type":"string"},{"name":"ResourceGroup","type":"string"},{"name":"ResourceProvider","type":"string"},{"name":"Resource","type":"string"},{"name":"ResourceId","type":"string"},{"name":"ResourceType","type":"string"},{"name":"ComputerEnvironment","type":"string"},{"name":"Solutions","type":"string"},{"name":"VMUUID","type":"string"},{"name":"Type","type":"string"}],"rows":[["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:49:32.393Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","d60ef052-e184-4433-9afe-cfab55837dae","167.220.196.238","On-Premise-16S","Direct
        Agent","Windows","","10","0","8.0.11072.0","Direct",false,-0.91,51.47,"United
        Kingdom","","","","","","","Non-Azure","\"security\", \"updates\", \"antiMalware\",
        \"changeTracking\", \"sqlAssessment\", \"adAssessment\", \"azureAutomation\",
        \"networkMonitoring\", \"containers\", \"containerInsights\", \"serviceMap\",
        \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\", \"wireData2\",
        \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","34bd465a-bd7b-4112-a6d9-b99f81450f94","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:50:33.29Z","00000000-0000-0000-0000-000000000002","","81422fdd-5aa4-49d9-aa86-5e78139aa8e7","13.82.239.225","Contosoweb-Linux","Direct
        Agent","Linux","Red Hat Enterprise Linux","6","9","1.6.0-42","Direct",null,-78.17,38.73,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","contosoautomation","microsoft.compute","contosoweb-linux","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/contosoautomation/providers/microsoft.compute/virtualmachines/contosoweb-linux","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","66116469-e3b8-7844-b435-6587685c7918","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:50:37.16Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","e652ac47-3731-480d-8c45-06115a929da3","40.124.11.163","ContosoAzADDS2","Direct
        Agent","Windows","","10","0","8.0.11081.0","Direct",false,-98.54,29.47,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","contosoazurehq","microsoft.compute","contosoazadds2","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/contosoazurehq/providers/microsoft.compute/virtualmachines/contosoazadds2","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","8d136c56-4e91-4eaf-92a7-02bfbdf5f3b5","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:50:49.543Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","62180e48-dcf8-4bcd-9ca4-02f1ec85a1ac","52.161.28.190","ContosoWebSrvr1","Direct
        Agent","Windows","","6","2","8.0.11081.0","Direct",false,-104.75,41.14,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","contosoautomation","microsoft.compute","contosowebsrvr1","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/contosoautomation/providers/microsoft.compute/virtualmachines/contosowebsrvr1","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","cb4d29c3-2e93-4bfb-a186-603d26729310","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:50:37.847Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","d19ee03d-94e7-4914-adc3-52384a301395","104.43.139.78","AZTest2","Direct
        Agent","Windows","","10","0","8.0.11081.0","Direct",false,-93.62,41.59,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","aztest","microsoft.compute","aztest2","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/aztest/providers/microsoft.compute/virtualmachines/aztest2","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","a860c408-abf7-4a93-9942-fa7f59af805f","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:50:36.827Z","00000000-0000-0000-0000-000000000002","","314cbc19-b236-49ef-868b-fa9b1b2eb988","40.88.30.92","k8s-master-C225FF51-0","Direct
        Agent","Linux","Ubuntu","16","04","1.6.0-42","Direct",null,-78.17,38.73,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","javamoviedbjenkinsgrpcontit","microsoft.compute","k8s-master-c225ff51-0","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/javamoviedbjenkinsgrpcontit/providers/microsoft.compute/virtualmachines/k8s-master-c225ff51-0","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","c7fe1299-92ca-174e-875a-ead8d087635e","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:51:14.757Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","fd56411d-5e07-4750-8db1-7cdd2ddda9e6","52.165.151.211","AZTest","Direct
        Agent","Windows","","10","0","8.0.11081.0","Direct",false,-93.62,41.59,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","aztest","microsoft.compute","aztest","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/aztest/providers/microsoft.compute/virtualmachines/aztest","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","a6563fe3-9f43-4cfe-910f-9f85ecd6fea4","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:52:34.147Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","e7d0be0e-635c-42f8-8b1e-c954cbb3491d","104.215.85.192","ContosoSQLSrv1","Direct
        Agent","Windows","","6","3","8.0.11081.0","Direct",false,-98.54,29.47,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","contosoazurehq","microsoft.compute","restoreconstoso","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/contosoazurehq/providers/microsoft.compute/virtualmachines/restoreconstoso","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","4c9bb3b2-f821-4412-b15c-c0200fabc7b6","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:52:43.64Z","00000000-0000-0000-0000-000000000002","","a183bc69-380a-40a1-b81c-8bfa2b998cab","52.136.235.220","k8s-agent-26B291EE-0","Direct
        Agent","Linux","Ubuntu","16","04","1.6.0-42","Direct",null,4.94,52.31,"Netherlands","e4272367-5645-4c4e-9c67-3b74b59a6982","devjavamoviedbweugrpcontit","microsoft.compute","k8s-agent-26b291ee-0","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/devjavamoviedbweugrpcontit/providers/microsoft.compute/virtualmachines/k8s-agent-26b291ee-0","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","b91c66ae-88d1-864d-99bf-b9a5227fd8c2","Heartbeat"],["b438b4f6-912a-46d5-9cb1-b44069212abc","OpsManager","2018-07-11T06:53:14.78Z","00000000-0000-0000-0000-000000000001","AOI-b438b4f6-912a-46d5-9cb1-b44069212abc","fd56411d-5e07-4750-8db1-7cdd2ddda9e6","52.165.151.211","AZTest","Direct
        Agent","Windows","","10","0","8.0.11081.0","Direct",false,-93.62,41.59,"United
        States","e4272367-5645-4c4e-9c67-3b74b59a6982","aztest","microsoft.compute","aztest","/subscriptions/e4272367-5645-4c4e-9c67-3b74b59a6982/resourcegroups/aztest/providers/microsoft.compute/virtualmachines/aztest","virtualmachines","Azure","\"security\",
        \"updates\", \"antiMalware\", \"changeTracking\", \"sqlAssessment\", \"adAssessment\",
        \"azureAutomation\", \"networkMonitoring\", \"containers\", \"containerInsights\",
        \"serviceMap\", \"adReplication\", \"compatibilityAssessment\", \"dnsAnalytics\",
        \"wireData2\", \"waaSUpdateInsights\", \"securityCenterFree\", \"deviceHealthProd\"","a6563fe3-9f43-4cfe-910f-9f85ecd6fea4","Heartbeat"]]}]}'}
    headers:
      access-control-allow-origin: ['*']
      access-control-expose-headers: ['Retry-After,Age,WWW-Authenticate,x-resource-identities,x-ms-status-location']
      connection: [keep-alive]
      content-length: ['10807']
      content-location: ['https://eastus.api.loganalytics.io/v1/workspaces/DEMO_WORKSPACE/query']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 11 Jul 2018 18:11:41 GMT']
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      via: [1.1 draft-oms-blue.0c04f4bf-851c-11e8-a775-70b3d5800012]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
version: 1
