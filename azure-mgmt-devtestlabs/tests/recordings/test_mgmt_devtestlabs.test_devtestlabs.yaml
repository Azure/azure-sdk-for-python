interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.11.1]
      client-request-id: [e4fcfe5f-f404-400b-81a0-ad274174e21c]
      return-client-request-id: ['true']
      x-client-CPU: [x86]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.4.3]
    method: GET
    uri: https:/login.microsoftonline.com/common/UserRealm/unittest%40myaddomain.onmicrosoft.com?api-version=1.0
  response:
    body: {string: '{"ver":"1.0","account_type":"Managed","domain_name":"myaddomain.onmicrosoft.com","cloud_instance_name":"microsoftonline.com"}'}
    headers:
      Cache-Control: [private]
      Content-Length: ['131']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 08 Dec 2016 23:47:07 GMT']
      P3P: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [esctx=AQABAAAAAADRNYRQ3dhRSrm-4K-adpCJLK6ry33j8QHSHbuj8nrUG2HWMC8-kod_RtnUGsZL9SXoWYA9t0GAELYr4ppybhmtLDpZ01OSLpjXGiDyGNx4C5iYnqaaZhHvqYeeQGsVk4gLH8FVF0VeMD22JcTKCEGuZiuDVjzki2T__4CyatJ21SNstmvE0nZjHQe-icOCZwMgAA;
          domain=.login.microsoftonline.com; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      client-request-id: [e4fcfe5f-f404-400b-81a0-ad274174e21c]
      x-ms-request-id: [450b0bdd-4947-40fa-bee6-a33dd1cb47ad]
    status: {code: 200, message: OK}
- request:
    body: username=unittest%40myaddomain.onmicrosoft.com&scope=openid&resource=https%3A%2F%2Fmanagement.core.windows.net%2F&grant_type=password&client_id=04b07795-8ddb-461a-bbee-02f9e1bf7b46&password=R0ckNTe5T%21
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['208']
      User-Agent: [python-requests/2.11.1]
      client-request-id: [e4fcfe5f-f404-400b-81a0-ad274174e21c]
      content-type: [application/x-www-form-urlencoded]
      return-client-request-id: ['true']
      x-client-CPU: [x86]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.4.3]
    method: POST
    uri: https:/login.microsoftonline.com/common/oauth2/token?api-version=1.0
  response:
    body: {string: '{"token_type":"Bearer","scope":"user_impersonation","expires_in":"3600","ext_expires_in":"10800","expires_on":"1481244429","not_before":"1481240529","resource":"https://management.core.windows.net/","access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlJyUXF1OXJ5ZEJWUldtY29jdVhVYjIwSEdSTSIsImtpZCI6IlJyUXF1OXJ5ZEJWUldtY29jdVhVYjIwSEdSTSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kNjUwOWUwYy1jYTY0LTRlNWQtYWUyNC05MGE1YjdkMjc5ZTgvIiwiaWF0IjoxNDgxMjQwNTI5LCJuYmYiOjE0ODEyNDA1MjksImV4cCI6MTQ4MTI0NDQyOSwiYWNyIjoiMSIsImFtciI6WyJwd2QiXSwiYXBwaWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJhcHBpZGFjciI6IjAiLCJlX2V4cCI6MTA4MDAsImZhbWlseV9uYW1lIjoiVGVzdHMiLCJnaXZlbl9uYW1lIjoiVW5pdCIsImdyb3VwcyI6WyIxM2VmMWY2NC01MTU3LTQ4MWMtYjQxYS1hMWNmZjkyNjAxZGIiXSwiaXBhZGRyIjoiMTY3LjIyMC4xLjE3MiIsIm5hbWUiOiJVbml0IFRlc3RzIiwib2lkIjoiZWQ5NWQ2Y2MtNmFkMy00MmJiLTgzNGUtODI2ZDFjN2RiNTQzIiwicGxhdGYiOiIxNCIsInB1aWQiOiIxMDAzMDAwMDk5N0NDQUU1Iiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiVVdCdWdQb3BZM093Q3B5Vnk1SDU0VkNhZWhvaTVXZGhXckJKVHNQLXRVcyIsInRpZCI6ImQ2NTA5ZTBjLWNhNjQtNGU1ZC1hZTI0LTkwYTViN2QyNzllOCIsInVuaXF1ZV9uYW1lIjoidW5pdHRlc3RAcHR2c2F6dXJlb3V0bG9vay5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1bml0dGVzdEBwdHZzYXp1cmVvdXRsb29rLm9ubWljcm9zb2Z0LmNvbSIsInZlciI6IjEuMCIsIndpZHMiOlsiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIl19.cwUaI_nlH8gjPNfM_KX6_QJvahG0Wu_NXhEJavjZT2HsrHzoQIasCNaGuHchqj53sk9hbQ17486WiLXpdx1rzDJ2zz0ytziMjBrWuVmr2Y_iq_vo-4u4L0BRlXrhjlmzw3Gj6OKpTYN47aWHSXdlQe02NCFxUNtkqcOMLcoPscmyFyLGhLXVquCxoJzYvW9vuLYzea_PZDlvRd1vc0-jSizWILKAXUbZJ-NMUL5TaMBHTeiOf0ugfJQAkQo5Hhuuuc6r9IQgg2aHkaoApK6FjOPVMxn-bIIDcVhx3BFJkyaI61S0fgvcZGjaxywqzXGU135diiUTzgBIDc9newEqNA","refresh_token":"AQABAAAAAADRNYRQ3dhRSrm-4K-adpCJH9-5jCawt7F4LKj7SJUkYEzgscyIMEmBvy00gr1pZ-hfPwliliDdb5oofxZ2qUlegb3PXTFOJZsCc57Sml-wGmNWpehZo9-RsbXnuqEYLr6IufQDQUpezhxipdh6VFuTfm4crP_4YUgscYMUeCQTGnCjlKVQlNhiAgOzDqMRGOWDL3M7mMVdjl3jrotjKs4TkjSl5nYodiOfbbrTSN3wFlgjEitz27JR4BGSKXoWi5PAmwPihs0pZBjd0ez7H3C6mXc_PyGq1xGpepZvhqFCAyypoMWq11o6gwIVxR4k-kDt9sIm5mRhLM6-eRBNu9vX9tmhqN5Sk-X0ZHZLfN5nhrRUQe_eXG-VzEiLkD3zhlokntAlEy1mTm0f20jXzrYqCct6dbZIamkrnsNIMkmtKqWZy1haf6ULoeLrJtNPkF_wfePCH_77vdp61LksUwakLKPxfmOpmLJXpL8UgAa2jkYpSmiL_C9pcJDIZiuoER5OEmhGt66AI1JTCYwe9VX-tpm9oKlMYmuQfAqM24YVXtS_ReH54mGGCawKIdmJdSmxT5U_l5LNbyQcPlFrvxlDU1JrP-qvxw7DcjRcUz9YOhRW1_rR2ccQ3WnWbjqP_H1fBnAsqbqiuLliczphypJhIAA","id_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kNjUwOWUwYy1jYTY0LTRlNWQtYWUyNC05MGE1YjdkMjc5ZTgvIiwiaWF0IjoxNDgxMjQwNTI5LCJuYmYiOjE0ODEyNDA1MjksImV4cCI6MTQ4MTI0NDQyOSwiYW1yIjpbInB3ZCJdLCJmYW1pbHlfbmFtZSI6IlRlc3RzIiwiZ2l2ZW5fbmFtZSI6IlVuaXQiLCJpcGFkZHIiOiIxNjcuMjIwLjEuMTcyIiwibmFtZSI6IlVuaXQgVGVzdHMiLCJvaWQiOiJlZDk1ZDZjYy02YWQzLTQyYmItODM0ZS04MjZkMWM3ZGI1NDMiLCJwbGF0ZiI6IjE0Iiwic3ViIjoiZFNlSGJCQlhXOHNESEtJRjdVYWRqZjZsWDdFazZaSy1wdGJaQ3VNUHhkayIsInRpZCI6ImQ2NTA5ZTBjLWNhNjQtNGU1ZC1hZTI0LTkwYTViN2QyNzllOCIsInVuaXF1ZV9uYW1lIjoidW5pdHRlc3RAcHR2c2F6dXJlb3V0bG9vay5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ1bml0dGVzdEBwdHZzYXp1cmVvdXRsb29rLm9ubWljcm9zb2Z0LmNvbSIsInZlciI6IjEuMCJ9."}'}
    headers:
      Cache-Control: ['no-cache, no-store']
      Content-Length: ['3202']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 08 Dec 2016 23:47:08 GMT']
      Expires: ['-1']
      P3P: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [esctx=AQABAAAAAADRNYRQ3dhRSrm-4K-adpCJ0Uppm0fREVtVLGTW3OblGWsssWNL1asdrwC5CstF1Ol4wgRh-VIg68wxN_wD91WA0Pv9x9pBLmr-9zSwpHAqbdHC3yRqg8L1ldq4_bOnSdDHSShjjWV5Oy4I-1MuUJFZC6KT28wNgehjz2H3JzvuDHYBrMLx8H3FE-AHzo9f8YQgAA;
          domain=.login.microsoftonline.com; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      client-request-id: [e4fcfe5f-f404-400b-81a0-ad274174e21c]
      x-ms-request-id: [18efa29a-2f58-4bb1-b4b3-d2212250f1e2]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.14393-SP0) requests/2.11.1 msrest/0.4.4
          msrest_azure/0.4.5 devtestlabsclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [a1c7b50a-bda0-11e6-9d0d-ecb1d756380e]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.DevTestLab/labs/pylab34410fc3?api-version=2016-05-15
  response:
    body: {string: '{"properties":{"vaultName":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.KeyVault/vaults/pylab34410fc34690","labStorageType":"Premium","createdDate":"2016-12-06T17:47:09.1714421+00:00","premiumDataDisks":"Disabled","provisioningState":"Succeeded","uniqueIdentifier":"06866a64-8a02-45d6-be57-de26110121d3"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/microsoft.devtestlab/labs/pylab34410fc3","name":"pylab34410fc3","type":"Microsoft.DevTestLab/labs","location":"westus"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['644']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 08 Dec 2016 23:47:09 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Powered-By: [ASP.NET]
      x-ms-correlation-request-id: [49544d55-b44c-47d6-b690-03024ec14781]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
      x-ms-request-id: [49544d55-b44c-47d6-b690-03024ec14781]
      x-ms-routing-request-id: ['CENTRALUS:20161208T234710Z:49544d55-b44c-47d6-b690-03024ec14781']
      x-rp-requesturi: ['https://westus.rp1.vsdth.visualstudio.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.DevTestLab/labs/pylab34410fc3?api-version=2016-05-15']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.14393-SP0) requests/2.11.1 msrest/0.4.4
          msrest_azure/0.4.5 devtestlabsclient/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [a1c7b50a-bda0-11e6-9d0d-ecb1d756380e]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.DevTestLab/labs/pylab34410fc3?api-version=2016-05-15
  response:
    body: {string: '{"properties":{"defaultStorageAccount":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.Storage/storageAccounts/dpylab34410fc38748","defaultPremiumStorageAccount":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.Storage/storageAccounts/dppylab34410fc35851","artifactsStorageAccount":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.Storage/storageAccounts/apylab34410fc33911","vaultName":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.KeyVault/vaults/pylab34410fc34690","labStorageType":"Premium","createdDate":"2016-12-06T17:47:09.1714421+00:00","premiumDataDisks":"Disabled","provisioningState":"Succeeded","uniqueIdentifier":"06866a64-8a02-45d6-be57-de26110121d3"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/microsoft.devtestlab/labs/pylab34410fc3","name":"pylab34410fc3","type":"Microsoft.DevTestLab/labs","location":"westus"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 08 Dec 2016 23:47:10 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: ['Accept-Encoding,Accept-Encoding']
      X-AspNet-Version: [4.0.30319]
      X-Powered-By: [ASP.NET]
      content-length: ['1263']
      x-ms-correlation-request-id: [7dc7e4da-6709-45ff-b10b-5b157e3eec53]
      x-ms-ratelimit-remaining-subscription-reads: ['14993']
      x-ms-request-id: [7dc7e4da-6709-45ff-b10b-5b157e3eec53]
      x-ms-routing-request-id: ['CENTRALUS:20161208T234711Z:7dc7e4da-6709-45ff-b10b-5b157e3eec53']
      x-rp-requesturi: ['https://westus.rp1.vsdth.visualstudio.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_mgmt_devtestlabs_test_devtestlabs34410fc3/providers/Microsoft.DevTestLab/labs/pylab34410fc3?api-version=2016-05-15']
    status: {code: 200, message: OK}
version: 1
