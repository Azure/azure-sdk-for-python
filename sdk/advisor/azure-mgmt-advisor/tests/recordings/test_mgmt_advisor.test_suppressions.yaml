interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-mgmt-advisor/9.0.0b1 Python/3.6.9 (Linux-4.9.184-linuxkit-x86_64-with-Ubuntu-18.04-bionic)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations?api-version=2020-01-01
  response:
    body:
      string: '{"value":[{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"6f90a6d6-d4d6-0794-0ec1-98fa77878c2e","shortDescription":{"problem":"A
        maximum of 3 owners should be designated for your subscription","solution":"A
        maximum of 3 owners should be designated for your subscription"},"extendedProperties":{"assessmentKey":"6f90a6d6-d4d6-0794-0ec1-98fa77878c2e","score":"5"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/6f90a6d6-d4d6-0794-0ec1-98fa77878c2e"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/e0d4cd66-48b7-343e-bf56-d97a06d80c18","type":"Microsoft.Advisor/recommendations","name":"e0d4cd66-48b7-343e-bf56-d97a06d80c18"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"86ea1a79-29d3-4eac-a9f4-3541ace4e718","shortDescription":{"problem":"Azure
        Defender for Kubernetes should be enabled","solution":"Azure Defender for
        Kubernetes should be enabled"},"extendedProperties":{"assessmentKey":"86ea1a79-29d3-4eac-a9f4-3541ace4e718","score":"0"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/86ea1a79-29d3-4eac-a9f4-3541ace4e718"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/c089755a-22a5-880b-9950-8140d427e3b3","type":"Microsoft.Advisor/recommendations","name":"c089755a-22a5-880b-9950-8140d427e3b3"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.HybridCompute/machines","impactedValue":"myvm","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"720a3e77-0b9a-4fa9-98b6-ddf0fd7e32c1","shortDescription":{"problem":"Log
        Analytics agent should be installed on your Linux-based Azure Arc machines","solution":"Log
        Analytics agent should be installed on your Linux-based Azure Arc machines"},"extendedProperties":{"assessmentKey":"720a3e77-0b9a-4fa9-98b6-ddf0fd7e32c1","score":"30"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/qiaozhatest/providers/microsoft.hybridcompute/machines/myvm","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/qiaozhatest/providers/microsoft.hybridcompute/machines/myvm/providers/Microsoft.Security/assessments/720a3e77-0b9a-4fa9-98b6-ddf0fd7e32c1"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/qiaozhatest/providers/microsoft.hybridcompute/machines/myvm/providers/Microsoft.Advisor/recommendations/1bdf57b3-f070-e9e3-0ea1-73171c63e0f6","type":"Microsoft.Advisor/recommendations","name":"1bdf57b3-f070-e9e3-0ea1-73171c63e0f6"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"6ac66a74-761f-4a59-928a-d373eea3f028","shortDescription":{"problem":"Azure
        Defender for SQL servers on machines should be enabled","solution":"Azure
        Defender for SQL servers on machines should be enabled"},"extendedProperties":{"assessmentKey":"6ac66a74-761f-4a59-928a-d373eea3f028","score":"0"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/6ac66a74-761f-4a59-928a-d373eea3f028"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/0d284250-e42b-f42a-f2d3-88551efbc4d2","type":"Microsoft.Advisor/recommendations","name":"0d284250-e42b-f42a-f2d3-88551efbc4d2"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"53572822-d3fc-4363-bfb9-248645841612","shortDescription":{"problem":"Azure
        Defender for container registries should be enabled","solution":"Azure Defender
        for container registries should be enabled"},"extendedProperties":{"assessmentKey":"53572822-d3fc-4363-bfb9-248645841612","score":"0"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/53572822-d3fc-4363-bfb9-248645841612"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/d4e0e1d0-661b-dee2-3340-3219ddc0546a","type":"Microsoft.Advisor/recommendations","name":"d4e0e1d0-661b-dee2-3340-3219ddc0546a"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"b1af52e4-e968-4e2b-b6d0-6736c9651f0a","shortDescription":{"problem":"Azure
        Defender for Key Vault should be enabled","solution":"Azure Defender for Key
        Vault should be enabled"},"extendedProperties":{"assessmentKey":"b1af52e4-e968-4e2b-b6d0-6736c9651f0a","score":"0"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/b1af52e4-e968-4e2b-b6d0-6736c9651f0a"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/9ee6cd6a-795f-28b7-bc1e-0a7ebc569be0","type":"Microsoft.Advisor/recommendations","name":"9ee6cd6a-795f-28b7-bc1e-0a7ebc569be0"},{"properties":{"category":"Security","impact":"High","impactedField":"Microsoft.Subscriptions/subscriptions","impactedValue":"00000000-0000-0000-0000-000000000000","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"58d72d9d-0310-4792-9a3b-6dd111093cdb","shortDescription":{"problem":"Azure
        Defender for Azure SQL Database servers should be enabled","solution":"Azure
        Defender for Azure SQL Database servers should be enabled"},"extendedProperties":{"assessmentKey":"58d72d9d-0310-4792-9a3b-6dd111093cdb","score":"0"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000","source":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Security/assessments/58d72d9d-0310-4792-9a3b-6dd111093cdb"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Advisor/recommendations/464201b5-1b5f-ebd0-21bf-e229fbb47f8f","type":"Microsoft.Advisor/recommendations","name":"464201b5-1b5f-ebd0-21bf-e229fbb47f8f"},{"properties":{"category":"Security","impact":"Medium","impactedField":"Microsoft.Compute/virtualMachines","impactedValue":"myvm","lastUpdated":"2020-11-02T20:25:00.6353195Z","recommendationTypeId":"ffff0522-1e88-47fc-8382-2a80ba848f5d","shortDescription":{"problem":"Enable
        a vulnerability assessment solution on virtual machines","solution":"Enable
        a vulnerability assessment solution on virtual machines"},"extendedProperties":{"assessmentKey":"ffff0522-1e88-47fc-8382-2a80ba848f5d","score":"30"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/qiaozhatest/providers/microsoft.hybridcompute/machines/myvm","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/qiaozhatest/providers/Microsoft.HybridCompute/machines/MyVm/providers/Microsoft.Security/assessments/ffff0522-1e88-47fc-8382-2a80ba848f5d"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/qiaozhatest/providers/microsoft.hybridcompute/machines/myvm/providers/Microsoft.Advisor/recommendations/c2242fe5-86bb-d56b-6974-6461088a93d4","type":"Microsoft.Advisor/recommendations","name":"c2242fe5-86bb-d56b-6974-6461088a93d4"},{"properties":{"category":"Security","impact":"Low","impactedField":"Microsoft.ServiceBus/namespaces","impactedValue":"mynamespacexxyyzsecond","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889","shortDescription":{"problem":"Diagnostic
        logs in Service Bus should be enabled","solution":"Diagnostic logs in Service
        Bus should be enabled"},"extendedProperties":{"assessmentKey":"f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889","score":"5"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyzsecond","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyzsecond/providers/Microsoft.Security/assessments/f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyzsecond/providers/Microsoft.Advisor/recommendations/b9ee3ad3-2625-496d-55f2-de464001104d","type":"Microsoft.Advisor/recommendations","name":"b9ee3ad3-2625-496d-55f2-de464001104d"},{"properties":{"category":"Security","impact":"Low","impactedField":"Microsoft.ServiceBus/namespaces","impactedValue":"mynamespacexxyyz","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889","shortDescription":{"problem":"Diagnostic
        logs in Service Bus should be enabled","solution":"Diagnostic logs in Service
        Bus should be enabled"},"extendedProperties":{"assessmentKey":"f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889","score":"5"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyz","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyz/providers/Microsoft.Security/assessments/f19ab7d9-5ff2-f8fd-ab3b-0bf95dcb6889"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iyljd2wtoqh43dern43sawzmqxkeari3bcqiadgfste4outj7cdmmslvr4yfw2vmrsqeiogmitj/providers/microsoft.servicebus/namespaces/mynamespacexxyyz/providers/Microsoft.Advisor/recommendations/2aac2383-db35-6e1f-f28b-5f46cb269efe","type":"Microsoft.Advisor/recommendations","name":"2aac2383-db35-6e1f-f28b-5f46cb269efe"},{"properties":{"category":"Security","impact":"Low","impactedField":"Microsoft.EventHub/namespaces","impactedValue":"mynamespacexxyyzzy","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"1597605a-0faf-5860-eb74-462ae2e9fc21","shortDescription":{"problem":"Diagnostic
        logs in Event Hub should be enabled","solution":"Diagnostic logs in Event
        Hub should be enabled"},"extendedProperties":{"assessmentKey":"1597605a-0faf-5860-eb74-462ae2e9fc21","score":"5"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_cli_mgmt_servicebus_namespace_test_migration_configsa9a51771/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzy","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_cli_mgmt_servicebus_namespace_test_migration_configsa9a51771/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzy/providers/Microsoft.Security/assessments/1597605a-0faf-5860-eb74-462ae2e9fc21"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test_cli_mgmt_servicebus_namespace_test_migration_configsa9a51771/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzy/providers/Microsoft.Advisor/recommendations/62625752-71ea-6efb-183a-83e95d005ac0","type":"Microsoft.Advisor/recommendations","name":"62625752-71ea-6efb-183a-83e95d005ac0"},{"properties":{"category":"Security","impact":"Low","impactedField":"Microsoft.EventHub/namespaces","impactedValue":"mynamespacexxyyzzykk","lastUpdated":"2020-11-02T20:25:00.6196562Z","recommendationTypeId":"1597605a-0faf-5860-eb74-462ae2e9fc21","shortDescription":{"problem":"Diagnostic
        logs in Event Hub should be enabled","solution":"Diagnostic logs in Event
        Hub should be enabled"},"extendedProperties":{"assessmentKey":"1597605a-0faf-5860-eb74-462ae2e9fc21","score":"5"},"resourceMetadata":{"resourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/7vx5onejribdkm3bpke5mddlz57worfeu7edc4sdd5xec2dng2m4hhit6yy7d5u6asotq6vmh6a/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzykk","source":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/7vx5onejribdkm3bpke5mddlz57worfeu7edc4sdd5xec2dng2m4hhit6yy7d5u6asotq6vmh6a/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzykk/providers/Microsoft.Security/assessments/1597605a-0faf-5860-eb74-462ae2e9fc21"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/7vx5onejribdkm3bpke5mddlz57worfeu7edc4sdd5xec2dng2m4hhit6yy7d5u6asotq6vmh6a/providers/microsoft.eventhub/namespaces/mynamespacexxyyzzykk/providers/Microsoft.Advisor/recommendations/c5ffe929-3d60-3b49-eb44-05add20a8e37","type":"Microsoft.Advisor/recommendations","name":"c5ffe929-3d60-3b49-eb44-05add20a8e37"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '13844'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 03 Nov 2020 08:41:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '599'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-mgmt-advisor/9.0.0b1 Python/3.6.9 (Linux-4.9.184-linuxkit-x86_64-with-Ubuntu-18.04-bionic)
    method: GET
    uri: https://management.azure.com/%2Fsubscriptions%2F00000000-0000-0000-0000-000000000000%2Fresourcegroups%2F7vx5onejribdkm3bpke5mddlz57worfeu7edc4sdd5xec2dng2m4hhit6yy7d5u6asotq6vmh6a%2Fproviders%2Fmicrosoft.eventhub%2Fnamespaces%2Fmynamespacexxyyzzykk/providers/Microsoft.Advisor/recommendations/c5ffe929-3d60-3b49-eb44-05add20a8e37?api-version=2020-01-01
  response:
    body:
      string: '{"error":{"code":"ResourceGroupNotFound","message":"Resource group
        ''7vx5onejribdkm3bpke5mddlz57worfeu7edc4sdd5xec2dng2m4hhit6yy7d5u6asotq6vmh6a''
        could not be found."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '167'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 03 Nov 2020 08:41:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
version: 1
