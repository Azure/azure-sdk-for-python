interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "alertupdate60791632",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "city"}], "timestampColumn": "Timestamp", "dataStartFrom": "2019-10-01T00:00:00.000Z",
      "startOffsetInSeconds": 0, "maxConcurrency": -1, "minRetryIntervalInSeconds":
      -1, "stopRetryAfterInSeconds": -1, "dataSourceParameter": {"connectionString":
      "connectionstring", "query": "select * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '771'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id:
      - 119b4591-545b-4e72-8f9f-548c96562c7f
      content-length:
      - '0'
      date:
      - Mon, 26 Oct 2020 17:33:31 GMT
      location:
      - https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/4370db8b-907d-419f-b42e-c5cebcff45ee
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '682'
      x-request-id:
      - 119b4591-545b-4e72-8f9f-548c96562c7f
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/4370db8b-907d-419f-b42e-c5cebcff45ee
  response:
    body:
      string: '{"dataFeedId":"4370db8b-907d-419f-b42e-c5cebcff45ee","dataFeedName":"alertupdate60791632","metrics":[{"metricId":"f196d930-da0e-4d29-91fc-c5dffe025025","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"95b22dca-e00c-4697-b517-6658e2dc1422","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"city","dimensionDisplayName":"city"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"Timestamp","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","granularityAmount":null,"allUpIdentification":null,"needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","rollUpColumns":[],"dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["krpratic@microsoft.com"],"viewers":[],"creator":"krpratic@microsoft.com","status":"Active","createdTime":"2020-10-26T17:33:31Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"connectionString":"connectionstring","query":"select
        * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      apim-request-id:
      - b66caef1-d71e-4f6a-8c35-2f4c3a9725ee
      content-length:
      - '1487'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 26 Oct 2020 17:33:32 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '242'
      x-request-id:
      - b66caef1-d71e-4f6a-8c35-2f4c3a9725ee
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "alertupdate60791632", "description": "testing", "metricId": "f196d930-da0e-4d29-91fc-c5dffe025025",
      "wholeMetricConfiguration": {"smartDetectionCondition": {"sensitivity": 50.0,
      "anomalyDetectorDirection": "Both", "suppressCondition": {"minNumber": 50, "minRatio":
      50.0}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '283'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id:
      - eb6e35d8-cc5f-4816-8f8a-6c3b51b15fb3
      content-length:
      - '0'
      date:
      - Mon, 26 Oct 2020 17:33:32 GMT
      location:
      - https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/ff449192-ed0c-4e13-9c20-8ecd8d65f10f
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '124'
      x-request-id:
      - eb6e35d8-cc5f-4816-8f8a-6c3b51b15fb3
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/ff449192-ed0c-4e13-9c20-8ecd8d65f10f
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","name":"alertupdate60791632","description":"testing","metricId":"f196d930-da0e-4d29-91fc-c5dffe025025","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id:
      - 79d376d0-92f9-441f-9ff8-e5929a483865
      content-length:
      - '416'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 26 Oct 2020 17:33:32 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '149'
      x-request-id:
      - 79d376d0-92f9-441f-9ff8-e5929a483865
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "alertupdate60791632", "crossMetricsOperator": "AND", "hookIds":
      [], "metricAlertingConfigurations": [{"anomalyDetectionConfigurationId": "ff449192-ed0c-4e13-9c20-8ecd8d65f10f",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "valueFilter": {"lower": 1.0, "upper": 5.0, "direction": "Both", "metricId":
      "f196d930-da0e-4d29-91fc-c5dffe025025"}}, {"anomalyDetectionConfigurationId":
      "ff449192-ed0c-4e13-9c20-8ecd8d65f10f", "anomalyScopeType": "Dimension", "dimensionAnomalyScope":
      {"dimension": {"city": "Shenzhen"}}, "severityFilter": {"minAlertSeverity":
      "Low", "maxAlertSeverity": "High"}}, {"anomalyDetectionConfigurationId": "ff449192-ed0c-4e13-9c20-8ecd8d65f10f",
      "anomalyScopeType": "All", "severityFilter": {"minAlertSeverity": "Low", "maxAlertSeverity":
      "High"}}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '824'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id:
      - 23fb2cf2-2f4b-4b45-afe3-9c5f5213fb34
      content-length:
      - '0'
      date:
      - Mon, 26 Oct 2020 17:33:33 GMT
      location:
      - https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/35e7b6a0-1a47-4169-961a-a8f02ea34126
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '456'
      x-request-id:
      - 23fb2cf2-2f4b-4b45-afe3-9c5f5213fb34
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/35e7b6a0-1a47-4169-961a-a8f02ea34126
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"35e7b6a0-1a47-4169-961a-a8f02ea34126","name":"alertupdate60791632","description":"","crossMetricsOperator":"AND","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","metricId":"f196d930-da0e-4d29-91fc-c5dffe025025","triggerForMissing":false}},{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"Dimension","negationOperation":false,"dimensionAnomalyScope":{"dimension":{"city":"Shenzhen"}},"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"}},{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"All","negationOperation":false,"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"}}]}'
    headers:
      apim-request-id:
      - e0d1dfb5-940f-461a-af4e-beb9561fc587
      content-length:
      - '969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 26 Oct 2020 17:33:33 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '170'
      x-request-id:
      - e0d1dfb5-940f-461a-af4e-beb9561fc587
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "update", "crossMetricsOperator": "OR", "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "ff449192-ed0c-4e13-9c20-8ecd8d65f10f",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "severityFilter": {"minAlertSeverity": "Low", "maxAlertSeverity": "High"},
      "valueFilter": {"lower": 1.0, "upper": 5.0, "direction": "Both", "metricId":
      "f196d930-da0e-4d29-91fc-c5dffe025025"}}, {"anomalyDetectionConfigurationId":
      "ff449192-ed0c-4e13-9c20-8ecd8d65f10f", "anomalyScopeType": "Dimension", "dimensionAnomalyScope":
      {"dimension": {"city": "Shenzhen"}}, "severityFilter": {"minAlertSeverity":
      "Low", "maxAlertSeverity": "High"}, "valueFilter": {"lower": 1.0, "upper": 5.0,
      "direction": "Both"}}, {"anomalyDetectionConfigurationId": "ff449192-ed0c-4e13-9c20-8ecd8d65f10f",
      "anomalyScopeType": "All", "severityFilter": {"minAlertSeverity": "Low", "maxAlertSeverity":
      "High"}, "valueFilter": {"lower": 1.0, "upper": 5.0, "direction": "Both"}}],
      "description": "update description"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1039'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/35e7b6a0-1a47-4169-961a-a8f02ea34126
  response:
    body:
      string: ''
    headers:
      apim-request-id:
      - ec5c9347-8bc4-46d3-a5b2-5048a7329c74
      content-length:
      - '0'
      date:
      - Mon, 26 Oct 2020 17:33:34 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '445'
      x-request-id:
      - ec5c9347-8bc4-46d3-a5b2-5048a7329c74
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/35e7b6a0-1a47-4169-961a-a8f02ea34126
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"35e7b6a0-1a47-4169-961a-a8f02ea34126","name":"update","description":"update
        description","crossMetricsOperator":"OR","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","metricId":"f196d930-da0e-4d29-91fc-c5dffe025025","triggerForMissing":false}},{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"Dimension","negationOperation":false,"dimensionAnomalyScope":{"dimension":{"city":"Shenzhen"}},"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","triggerForMissing":false}},{"anomalyDetectionConfigurationId":"ff449192-ed0c-4e13-9c20-8ecd8d65f10f","anomalyScopeType":"All","negationOperation":false,"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","triggerForMissing":false}}]}'
    headers:
      apim-request-id:
      - 093fae84-b437-46cb-b5b2-f0705143c50d
      content-length:
      - '1213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 26 Oct 2020 17:33:34 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '122'
      x-request-id:
      - 093fae84-b437-46cb-b5b2-f0705143c50d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/4370db8b-907d-419f-b42e-c5cebcff45ee
  response:
    body:
      string: ''
    headers:
      apim-request-id:
      - a12dea91-b5e9-4712-8442-7058d22131d1
      content-length:
      - '0'
      date:
      - Mon, 26 Oct 2020 17:33:35 GMT
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-envoy-upstream-service-time:
      - '441'
      x-request-id:
      - a12dea91-b5e9-4712-8442-7058d22131d1
    status:
      code: 204
      message: No Content
version: 1
