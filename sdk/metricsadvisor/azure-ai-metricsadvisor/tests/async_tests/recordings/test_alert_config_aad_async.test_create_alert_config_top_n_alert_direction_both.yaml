interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnupap24pdlf63jjavdvbf",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "region"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "viewMode": "Private", "authenticationType": "Basic", "dataSourceParameter":
      {"connectionString": "connectionstring", "query": "select * from adsample2 where
      Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '800'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 8a452c03-a6a5-4158-a8ce-be9628768f30
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:01 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/258f22f0-598d-4250-95a2-cd3039a9a595
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '540'
      x-request-id: 8a452c03-a6a5-4158-a8ce-be9628768f30
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/258f22f0-598d-4250-95a2-cd3039a9a595
  response:
    body:
      string: '{"dataFeedId":"258f22f0-598d-4250-95a2-cd3039a9a595","dataFeedName":"topnupap24pdlf63jjavdvbf","metrics":[{"metricId":"b2abe62e-29f7-4d11-bc14-7913738c8492","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"d6d3fe0b-4a82-4cb6-9263-8ae42dc91b66","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"region","dimensionDisplayName":"region"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["f850650c-1fcf-4489-b46f-71af2e30d360"],"viewers":[],"creator":"f850650c-1fcf-4489-b46f-71af2e30d360","status":"Active","createdTime":"2021-09-29T19:39:01Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"query":"select
        * from adsample2 where Timestamp = @StartTime"},"authenticationType":"Basic"}'
    headers:
      apim-request-id: 0e3c5b94-1b31-4b91-bd85-ed8abf2d2aa9
      content-length: '1219'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '107'
      x-request-id: 0e3c5b94-1b31-4b91-bd85-ed8abf2d2aa9
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/258f22f0-598d-4250-95a2-cd3039a9a595
- request:
    body: '{"name": "topnupvgmbmtdbofhazfpg3o", "description": "testing", "metricId":
      "b2abe62e-29f7-4d11-bc14-7913738c8492", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 5, "minRatio": 5.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '286'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 9f3eb0b8-07a2-4d52-a6e5-4b8b0d6c06e7
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:01 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/79993fee-bc5b-4d9a-9d4d-c27ba2ae710e
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '124'
      x-request-id: 9f3eb0b8-07a2-4d52-a6e5-4b8b0d6c06e7
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/79993fee-bc5b-4d9a-9d4d-c27ba2ae710e
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"79993fee-bc5b-4d9a-9d4d-c27ba2ae710e","name":"topnupvgmbmtdbofhazfpg3o","description":"testing","metricId":"b2abe62e-29f7-4d11-bc14-7913738c8492","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":5,"minRatio":5.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: fb4b7eda-4d04-4aa4-8f65-17f7baf3701e
      content-length: '419'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '43'
      x-request-id: fb4b7eda-4d04-4aa4-8f65-17f7baf3701e
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/79993fee-bc5b-4d9a-9d4d-c27ba2ae710e
- request:
    body: '{"name": "testalert685203e", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "79993fee-bc5b-4d9a-9d4d-c27ba2ae710e",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "valueFilter": {"lower": 1.0, "upper": 5.0, "direction": "Both", "type":
      "Value", "metricId": "b2abe62e-29f7-4d11-bc14-7913738c8492"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '381'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 8bec8e96-3aef-4aaf-9a09-469ffb3c3a16
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:01 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '85'
      x-request-id: 8bec8e96-3aef-4aaf-9a09-469ffb3c3a16
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"e1728102-40b5-474b-8eaf-20609b55fdf2","name":"testalert685203e","description":"","splitAlertByDimensions":[],"hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"79993fee-bc5b-4d9a-9d4d-c27ba2ae710e","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","metricId":"b2abe62e-29f7-4d11-bc14-7913738c8492","triggerForMissing":false,"type":"Value"}}]}'
    headers:
      apim-request-id: f3877160-47bf-452b-bbf6-92953f0a3dbc
      content-length: '524'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '46'
      x-request-id: f3877160-47bf-452b-bbf6-92953f0a3dbc
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
  response:
    body:
      string: ''
    headers:
      apim-request-id: 3cadd11b-5040-4a37-a914-15a3f667e150
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '66'
      x-request-id: 3cadd11b-5040-4a37-a914-15a3f667e150
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: a241438b-adad-4561-a4ea-36bab7a43cc6"}'
    headers:
      apim-request-id: a241438b-adad-4561-a4ea-36bab7a43cc6
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '23'
      x-request-id: a241438b-adad-4561-a4ea-36bab7a43cc6
    status:
      code: 404
      message: Not Found
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/e1728102-40b5-474b-8eaf-20609b55fdf2
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/79993fee-bc5b-4d9a-9d4d-c27ba2ae710e
  response:
    body:
      string: ''
    headers:
      apim-request-id: 9c221794-bfe0-43cb-9b7a-0b84670d4e2d
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '61'
      x-request-id: 9c221794-bfe0-43cb-9b7a-0b84670d4e2d
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/79993fee-bc5b-4d9a-9d4d-c27ba2ae710e
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/258f22f0-598d-4250-95a2-cd3039a9a595
  response:
    body:
      string: ''
    headers:
      apim-request-id: ade5317c-7cf8-41ef-a244-d1a3446657a8
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:03 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '249'
      x-request-id: ade5317c-7cf8-41ef-a244-d1a3446657a8
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/258f22f0-598d-4250-95a2-cd3039a9a595
version: 1
