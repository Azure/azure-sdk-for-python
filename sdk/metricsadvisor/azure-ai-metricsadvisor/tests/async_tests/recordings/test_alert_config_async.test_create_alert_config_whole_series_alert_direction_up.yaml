interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "wholeseries527dd4gyca7si",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "region"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "viewMode": "Private", "authenticationType": "Basic", "dataSourceParameter":
      {"connectionString": "connectionstring", "query": "select * from adsample2 where
      Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '800'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: f7d37a14-dbe2-4855-9770-78d55a293b62
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:19 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48fc79f8-18ac-4452-8680-78ce6cc5c88b
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '509'
      x-request-id: f7d37a14-dbe2-4855-9770-78d55a293b62
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48fc79f8-18ac-4452-8680-78ce6cc5c88b
  response:
    body:
      string: '{"dataFeedId":"48fc79f8-18ac-4452-8680-78ce6cc5c88b","dataFeedName":"wholeseries527dd4gyca7si","metrics":[{"metricId":"01e79415-f802-41b8-85f3-9c80fbe67a33","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"1207e986-5077-44a7-a244-756c7dbb243e","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"region","dimensionDisplayName":"region"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["xiangyan@microsoft.com"],"viewers":[],"creator":"xiangyan@microsoft.com","status":"Active","createdTime":"2021-09-29T19:40:19Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"query":"select
        * from adsample2 where Timestamp = @StartTime"},"authenticationType":"Basic"}'
    headers:
      apim-request-id: c6e25b73-3029-486d-a426-3540b9a47cd7
      content-length: '1191'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:19 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '161'
      x-request-id: c6e25b73-3029-486d-a426-3540b9a47cd7
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/48fc79f8-18ac-4452-8680-78ce6cc5c88b
- request:
    body: '{"name": "wholeserieschutpvy7bvqx2", "description": "testing", "metricId":
      "01e79415-f802-41b8-85f3-9c80fbe67a33", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 5, "minRatio": 5.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '286'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 546a42b1-57b6-4ffb-b11c-ac37c678029f
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:20 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/2b9c2834-a943-4921-a7cd-2d7cde9440a0
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '191'
      x-request-id: 546a42b1-57b6-4ffb-b11c-ac37c678029f
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/2b9c2834-a943-4921-a7cd-2d7cde9440a0
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"2b9c2834-a943-4921-a7cd-2d7cde9440a0","name":"wholeserieschutpvy7bvqx2","description":"testing","metricId":"01e79415-f802-41b8-85f3-9c80fbe67a33","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":5,"minRatio":5.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: 5d32f09c-5645-4d61-acbe-8391e0600e83
      content-length: '419'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:20 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '92'
      x-request-id: 5d32f09c-5645-4d61-acbe-8391e0600e83
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/2b9c2834-a943-4921-a7cd-2d7cde9440a0
- request:
    body: '{"name": "testalert2eea20da", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "2b9c2834-a943-4921-a7cd-2d7cde9440a0",
      "anomalyScopeType": "All", "valueFilter": {"upper": 5.0, "direction": "Up",
      "type": "Value", "metricId": "01e79415-f802-41b8-85f3-9c80fbe67a33"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '301'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 04368d43-e4bb-4c38-b7f8-ade8dd19c31b
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:20 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '141'
      x-request-id: 04368d43-e4bb-4c38-b7f8-ade8dd19c31b
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"102b28b3-a232-4c3a-94e8-c846eb97a5c3","name":"testalert2eea20da","description":"","splitAlertByDimensions":[],"hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"2b9c2834-a943-4921-a7cd-2d7cde9440a0","anomalyScopeType":"All","negationOperation":false,"valueFilter":{"upper":5.0,"direction":"Up","metricId":"01e79415-f802-41b8-85f3-9c80fbe67a33","triggerForMissing":false,"type":"Value"}}]}'
    headers:
      apim-request-id: e0a456b6-df01-4973-868f-ffd9fc40ea78
      content-length: '453'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:20 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '92'
      x-request-id: e0a456b6-df01-4973-868f-ffd9fc40ea78
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
  response:
    body:
      string: ''
    headers:
      apim-request-id: 19a3a28c-3c92-4771-a76c-2953fd3019d8
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:20 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '127'
      x-request-id: 19a3a28c-3c92-4771-a76c-2953fd3019d8
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 892be48e-361f-48e1-af0b-dbafa7080bb2"}'
    headers:
      apim-request-id: 892be48e-361f-48e1-af0b-dbafa7080bb2
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:20 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '78'
      x-request-id: 892be48e-361f-48e1-af0b-dbafa7080bb2
    status:
      code: 404
      message: Not Found
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/102b28b3-a232-4c3a-94e8-c846eb97a5c3
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/2b9c2834-a943-4921-a7cd-2d7cde9440a0
  response:
    body:
      string: ''
    headers:
      apim-request-id: 96092dbe-6172-4fd0-b5d2-66d98f801362
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:20 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '113'
      x-request-id: 96092dbe-6172-4fd0-b5d2-66d98f801362
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/2b9c2834-a943-4921-a7cd-2d7cde9440a0
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48fc79f8-18ac-4452-8680-78ce6cc5c88b
  response:
    body:
      string: ''
    headers:
      apim-request-id: 8fe2be55-e112-4447-bddd-0d058645d5ca
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:21 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '292'
      x-request-id: 8fe2be55-e112-4447-bddd-0d058645d5ca
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/48fc79f8-18ac-4452-8680-78ce6cc5c88b
version: 1
