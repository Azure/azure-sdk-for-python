interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnupmz5up2kyjwnqhk2kbz",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "city"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "dataSourceParameter": {"connectionString": "connectionstring", "query":
      "select\u202f*\u202ffrom\u202fadsample2\u202fwhere\u202fTimestamp\u202f=\u202f@StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '779'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: d0d5b3eb-af7f-4690-a36a-6ad7a66f5b52
      content-length: '0'
      date: Fri, 21 May 2021 21:12:39 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/b6de2d77-52ab-42e3-b31d-b7037d1761ee
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '613'
      x-request-id: d0d5b3eb-af7f-4690-a36a-6ad7a66f5b52
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/b6de2d77-52ab-42e3-b31d-b7037d1761ee
  response:
    body:
      string: "{\"dataFeedId\":\"b6de2d77-52ab-42e3-b31d-b7037d1761ee\",\"dataFeedName\":\"topnupmz5up2kyjwnqhk2kbz\",\"metrics\":[{\"metricId\":\"8cf90218-3581-4a59-b553-cbc6cd7723e2\",\"metricName\":\"cost\",\"metricDisplayName\":\"cost\",\"metricDescription\":\"\"},{\"metricId\":\"0548d01b-08d5-44f2-8efc-cf19951ba5b1\",\"metricName\":\"revenue\",\"metricDisplayName\":\"revenue\",\"metricDescription\":\"\"}],\"dimension\":[{\"dimensionName\":\"category\",\"dimensionDisplayName\":\"category\"},{\"dimensionName\":\"city\",\"dimensionDisplayName\":\"city\"}],\"dataStartFrom\":\"2019-10-01T00:00:00Z\",\"dataSourceType\":\"SqlServer\",\"timestampColumn\":\"\",\"startOffsetInSeconds\":0,\"maxQueryPerMinute\":30.0,\"granularityName\":\"Daily\",\"needRollup\":\"NoRollup\",\"fillMissingPointType\":\"PreviousValue\",\"fillMissingPointValue\":0.0,\"rollUpMethod\":\"None\",\"dataFeedDescription\":\"\",\"stopRetryAfterInSeconds\":-1,\"minRetryIntervalInSeconds\":-1,\"maxConcurrency\":-1,\"viewMode\":\"Private\",\"admins\":[\"f850650c-1fcf-4489-b46f-71af2e30d360\"],\"viewers\":[],\"creator\":\"f850650c-1fcf-4489-b46f-71af2e30d360\",\"status\":\"Active\",\"createdTime\":\"2021-05-21T21:12:40Z\",\"isAdmin\":true,\"actionLinkTemplate\":\"\",\"dataSourceParameter\":{\"query\":\"select\u202F*\u202Ffrom\u202Fadsample2\u202Fwhere\u202FTimestamp\u202F=\u202F@StartTime\"},\"authenticationType\":\"Basic\"}"
    headers:
      apim-request-id: 8800057d-e81e-4324-a162-03f62a929b22
      content-length: '1229'
      content-type: application/json; charset=utf-8
      date: Fri, 21 May 2021 21:12:39 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '96'
      x-request-id: 8800057d-e81e-4324-a162-03f62a929b22
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/b6de2d77-52ab-42e3-b31d-b7037d1761ee
- request:
    body: '{"name": "topnupfbz23yjk2bkxsxjz6l", "description": "testing", "metricId":
      "8cf90218-3581-4a59-b553-cbc6cd7723e2", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 50, "minRatio": 50.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '288'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: e62e2023-c2fa-43d1-8c54-b214ed43123b
      content-length: '0'
      date: Fri, 21 May 2021 21:12:39 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/481056f5-6bd7-416e-8cef-4adfdf3ec39f
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '64'
      x-request-id: e62e2023-c2fa-43d1-8c54-b214ed43123b
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/481056f5-6bd7-416e-8cef-4adfdf3ec39f
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"481056f5-6bd7-416e-8cef-4adfdf3ec39f","name":"topnupfbz23yjk2bkxsxjz6l","description":"testing","metricId":"8cf90218-3581-4a59-b553-cbc6cd7723e2","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: fc58c89e-c1c0-4091-9d9c-2472202c6b87
      content-length: '421'
      content-type: application/json; charset=utf-8
      date: Fri, 21 May 2021 21:12:39 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '37'
      x-request-id: fc58c89e-c1c0-4091-9d9c-2472202c6b87
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/481056f5-6bd7-416e-8cef-4adfdf3ec39f
- request:
    body: '{"name": "testalert6992049", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "481056f5-6bd7-416e-8cef-4adfdf3ec39f",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "valueFilter": {"lower": 1.0, "direction": "Down", "type": "Value", "metricId":
      "8cf90218-3581-4a59-b553-cbc6cd7723e2"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '367'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: a0ee6faa-0258-42ad-95be-a6fbc1155210
      content-length: '0'
      date: Fri, 21 May 2021 21:12:39 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '79'
      x-request-id: a0ee6faa-0258-42ad-95be-a6fbc1155210
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"877a01ce-19aa-460a-bf5e-bd5bab5b0641","name":"testalert6992049","description":"","splitAlertByDimensions":[],"hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"481056f5-6bd7-416e-8cef-4adfdf3ec39f","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"valueFilter":{"lower":1.0,"direction":"Down","metricId":"8cf90218-3581-4a59-b553-cbc6cd7723e2","triggerForMissing":false,"type":"Value"}}]}'
    headers:
      apim-request-id: f047de1e-a14c-4014-979e-65ec664029ac
      content-length: '512'
      content-type: application/json; charset=utf-8
      date: Fri, 21 May 2021 21:12:40 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '40'
      x-request-id: f047de1e-a14c-4014-979e-65ec664029ac
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
  response:
    body:
      string: ''
    headers:
      apim-request-id: 4070a868-22d4-4dad-9b12-42a3a71a49b5
      content-length: '0'
      date: Fri, 21 May 2021 21:12:40 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '149'
      x-request-id: 4070a868-22d4-4dad-9b12-42a3a71a49b5
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 7370fcb2-466a-4034-b083-8751250f76ef"}'
    headers:
      apim-request-id: a11f3cef-d6f6-4984-80fc-8650a51397bb
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Fri, 21 May 2021 21:12:40 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '31'
      x-request-id: a11f3cef-d6f6-4984-80fc-8650a51397bb
    status:
      code: 404
      message: Not Found
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/877a01ce-19aa-460a-bf5e-bd5bab5b0641
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/481056f5-6bd7-416e-8cef-4adfdf3ec39f
  response:
    body:
      string: ''
    headers:
      apim-request-id: 10370e2e-f62a-442b-ab3f-63ea397177bd
      content-length: '0'
      date: Fri, 21 May 2021 21:12:40 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '49'
      x-request-id: 10370e2e-f62a-442b-ab3f-63ea397177bd
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/481056f5-6bd7-416e-8cef-4adfdf3ec39f
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b4 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/b6de2d77-52ab-42e3-b31d-b7037d1761ee
  response:
    body:
      string: ''
    headers:
      apim-request-id: 4c3736fd-180d-4e21-bf04-4c5558419979
      content-length: '0'
      date: Fri, 21 May 2021 21:12:40 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '332'
      x-request-id: 4c3736fd-180d-4e21-bf04-4c5558419979
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/b6de2d77-52ab-42e3-b31d-b7037d1761ee
version: 1
