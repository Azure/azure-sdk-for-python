interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnup51781df1", "granularityName":
      "Daily", "metrics": [{"metricName": "cost"}, {"metricName": "revenue"}], "dimension":
      [{"dimensionName": "category"}, {"dimensionName": "city"}], "timestampColumn":
      "Timestamp", "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "dataSourceParameter": {"connectionString": "connectionstring", "query":
      "select * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '766'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 2cf6cb9f-c2a6-4f82-b1b7-0b51d52c362f
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:58 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/042aafce-403d-4ac2-bc72-87b98a225364
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '654'
      x-request-id: 2cf6cb9f-c2a6-4f82-b1b7-0b51d52c362f
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/042aafce-403d-4ac2-bc72-87b98a225364
  response:
    body:
      string: '{"dataFeedId":"042aafce-403d-4ac2-bc72-87b98a225364","dataFeedName":"topnup51781df1","metrics":[{"metricId":"3bb79882-3380-4c33-adbd-5b1eda7d2798","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"8c5c28e9-1333-43e7-b2bc-d9d06858de88","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"city","dimensionDisplayName":"city"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"Timestamp","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","granularityAmount":null,"allUpIdentification":null,"needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","rollUpColumns":[],"dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["krpratic@microsoft.com"],"viewers":[],"creator":"krpratic@microsoft.com","status":"Active","createdTime":"2020-10-26T17:44:58Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"connectionString":"connectionstring","query":"select
        * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      apim-request-id: 5a0fe27b-ed1f-4f88-a07c-8a08d01f57b3
      content-length: '1482'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:58 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '319'
      x-request-id: 5a0fe27b-ed1f-4f88-a07c-8a08d01f57b3
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/042aafce-403d-4ac2-bc72-87b98a225364
- request:
    body: '{"name": "topnup51781df1", "description": "testing", "metricId": "3bb79882-3380-4c33-adbd-5b1eda7d2798",
      "wholeMetricConfiguration": {"smartDetectionCondition": {"sensitivity": 50.0,
      "anomalyDetectorDirection": "Both", "suppressCondition": {"minNumber": 50, "minRatio":
      50.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '278'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 2155205f-170c-4a3a-a998-884228b4f612
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:58 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/4a9faf20-7a05-4c41-bd48-858c1ebd8ea5
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '193'
      x-request-id: 2155205f-170c-4a3a-a998-884228b4f612
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/4a9faf20-7a05-4c41-bd48-858c1ebd8ea5
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"4a9faf20-7a05-4c41-bd48-858c1ebd8ea5","name":"topnup51781df1","description":"testing","metricId":"3bb79882-3380-4c33-adbd-5b1eda7d2798","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: fbe4a994-bc2b-4196-b4a5-e1571baf135b
      content-length: '411'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:58 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '126'
      x-request-id: fbe4a994-bc2b-4196-b4a5-e1571baf135b
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/4a9faf20-7a05-4c41-bd48-858c1ebd8ea5
- request:
    body: '{"name": "testalert51781df1", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "4a9faf20-7a05-4c41-bd48-858c1ebd8ea5",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "valueFilter": {"upper": 5.0, "direction": "Up", "metricId": "3bb79882-3380-4c33-adbd-5b1eda7d2798"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '349'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: e55715b5-0f0a-49fd-a642-e5178d7ace32
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:59 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '194'
      x-request-id: e55715b5-0f0a-49fd-a642-e5178d7ace32
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"cdf21c73-1cf9-4407-bb60-5c3536c3e635","name":"testalert51781df1","description":"","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"4a9faf20-7a05-4c41-bd48-858c1ebd8ea5","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"valueFilter":{"upper":5.0,"direction":"Up","metricId":"3bb79882-3380-4c33-adbd-5b1eda7d2798","triggerForMissing":false}}]}'
    headers:
      apim-request-id: 2e408549-389f-45c1-be7e-ab997ce4142c
      content-length: '468'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:59 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '164'
      x-request-id: 2e408549-389f-45c1-be7e-ab997ce4142c
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
  response:
    body:
      string: ''
    headers:
      apim-request-id: 09d52083-4663-4698-83d9-04fe012fddda
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:59 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '196'
      x-request-id: 09d52083-4663-4698-83d9-04fe012fddda
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 1cf36df1-509e-4ab4-8da3-0420fd15c186"}'
    headers:
      apim-request-id: 07e34424-ea03-4b8b-bf63-c2b99af3d7d8
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:59 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '134'
      x-request-id: 07e34424-ea03-4b8b-bf63-c2b99af3d7d8
    status:
      code: 404
      message: Not Found
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/cdf21c73-1cf9-4407-bb60-5c3536c3e635
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/4a9faf20-7a05-4c41-bd48-858c1ebd8ea5
  response:
    body:
      string: ''
    headers:
      apim-request-id: d2e248b7-5223-44fd-94fe-f47373a722b2
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:59 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '170'
      x-request-id: d2e248b7-5223-44fd-94fe-f47373a722b2
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/4a9faf20-7a05-4c41-bd48-858c1ebd8ea5
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/042aafce-403d-4ac2-bc72-87b98a225364
  response:
    body:
      string: ''
    headers:
      apim-request-id: c0c400af-8190-4b1b-b7b5-22cda5e321d8
      content-length: '0'
      date: Mon, 26 Oct 2020 17:45:00 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '613'
      x-request-id: c0c400af-8190-4b1b-b7b5-22cda5e321d8
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/042aafce-403d-4ac2-bc72-87b98a225364
version: 1
