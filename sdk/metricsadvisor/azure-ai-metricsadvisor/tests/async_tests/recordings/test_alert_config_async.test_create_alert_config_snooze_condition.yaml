interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnup6f2e1aba", "granularityName":
      "Daily", "metrics": [{"metricName": "cost"}, {"metricName": "revenue"}], "dimension":
      [{"dimensionName": "category"}, {"dimensionName": "city"}], "timestampColumn":
      "Timestamp", "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "dataSourceParameter": {"connectionString": "connectionstring", "query":
      "select * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '766'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 32662c7d-8477-4756-9fa0-693880b91c17
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:43 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/ead48a5f-aafb-4a8f-a2c6-001f84eb3842
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '685'
      x-request-id: 32662c7d-8477-4756-9fa0-693880b91c17
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/ead48a5f-aafb-4a8f-a2c6-001f84eb3842
  response:
    body:
      string: '{"dataFeedId":"ead48a5f-aafb-4a8f-a2c6-001f84eb3842","dataFeedName":"topnup6f2e1aba","metrics":[{"metricId":"5d553276-d318-4a3b-9bc2-fc7e54467afe","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"c1f80303-2e02-4a0d-a6a9-06602cd6def3","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"city","dimensionDisplayName":"city"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"Timestamp","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","granularityAmount":null,"allUpIdentification":null,"needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","rollUpColumns":[],"dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["krpratic@microsoft.com"],"viewers":[],"creator":"krpratic@microsoft.com","status":"Active","createdTime":"2020-10-26T17:44:43Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"connectionString":"connectionstring","query":"select
        * from adsample2 where Timestamp = @StartTime"}}'
    headers:
      apim-request-id: 52938128-7cba-4a81-86b3-24d03cf01f6f
      content-length: '1482'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:44 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '573'
      x-request-id: 52938128-7cba-4a81-86b3-24d03cf01f6f
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/ead48a5f-aafb-4a8f-a2c6-001f84eb3842
- request:
    body: '{"name": "topnup6f2e1aba", "description": "testing", "metricId": "5d553276-d318-4a3b-9bc2-fc7e54467afe",
      "wholeMetricConfiguration": {"smartDetectionCondition": {"sensitivity": 50.0,
      "anomalyDetectorDirection": "Both", "suppressCondition": {"minNumber": 50, "minRatio":
      50.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '278'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 91b71227-ad70-4b6d-9562-09453e68f9ab
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:44 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/cfdeb920-dce9-4443-a60f-dc759f58c573
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '180'
      x-request-id: 91b71227-ad70-4b6d-9562-09453e68f9ab
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/cfdeb920-dce9-4443-a60f-dc759f58c573
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"cfdeb920-dce9-4443-a60f-dc759f58c573","name":"topnup6f2e1aba","description":"testing","metricId":"5d553276-d318-4a3b-9bc2-fc7e54467afe","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: 99625539-575b-4d8b-b509-b684b58f243e
      content-length: '411'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:44 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '207'
      x-request-id: 99625539-575b-4d8b-b509-b684b58f243e
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/cfdeb920-dce9-4443-a60f-dc759f58c573
- request:
    body: '{"name": "testalert6f2e1aba", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "cfdeb920-dce9-4443-a60f-dc759f58c573",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "snoozeFilter": {"autoSnooze": 5, "snoozeScope": "Metric", "onlyForSuccessive":
      true}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '334'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 67681d0c-a8f5-4b81-9d12-c7340c3dfdc8
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:44 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '190'
      x-request-id: 67681d0c-a8f5-4b81-9d12-c7340c3dfdc8
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"5c1b777f-9f08-426f-b87c-a8e0d38beb92","name":"testalert6f2e1aba","description":"","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"cfdeb920-dce9-4443-a60f-dc759f58c573","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"snoozeFilter":{"autoSnooze":5,"snoozeScope":"Metric","onlyForSuccessive":true}}]}'
    headers:
      apim-request-id: f9b43d71-363f-4753-a2db-dac9076ef070
      content-length: '427'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:44 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '135'
      x-request-id: f9b43d71-363f-4753-a2db-dac9076ef070
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
  response:
    body:
      string: ''
    headers:
      apim-request-id: bfed4748-f71e-4f29-8443-1bee1c9a3036
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:45 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '263'
      x-request-id: bfed4748-f71e-4f29-8443-1bee1c9a3036
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 2a61ec69-add8-4028-be13-2d9b85cd63ca"}'
    headers:
      apim-request-id: cc71d1f1-0170-4df7-a50e-ae32486a6cb7
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Mon, 26 Oct 2020 17:44:45 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '111'
      x-request-id: cc71d1f1-0170-4df7-a50e-ae32486a6cb7
    status:
      code: 404
      message: Not Found
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/5c1b777f-9f08-426f-b87c-a8e0d38beb92
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/cfdeb920-dce9-4443-a60f-dc759f58c573
  response:
    body:
      string: ''
    headers:
      apim-request-id: afc5a713-4cb2-4e23-b434-2c60b84ea345
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:45 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '172'
      x-request-id: afc5a713-4cb2-4e23-b434-2c60b84ea345
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/cfdeb920-dce9-4443-a60f-dc759f58c573
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.8.5 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/ead48a5f-aafb-4a8f-a2c6-001f84eb3842
  response:
    body:
      string: ''
    headers:
      apim-request-id: a2433b06-aaeb-47a8-8246-4fc5bc54fdff
      content-length: '0'
      date: Mon, 26 Oct 2020 17:44:46 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '639'
      x-request-id: a2433b06-aaeb-47a8-8246-4fc5bc54fdff
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/ead48a5f-aafb-4a8f-a2c6-001f84eb3842
version: 1
