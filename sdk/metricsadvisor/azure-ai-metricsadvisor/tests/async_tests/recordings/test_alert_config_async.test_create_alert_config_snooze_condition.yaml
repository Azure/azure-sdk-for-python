interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnuppgrf24qaapr23kohkb",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "region"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "viewMode": "Private", "authenticationType": "Basic", "dataSourceParameter":
      {"connectionString": "connectionstring", "query": "select * from adsample2 where
      Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '800'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 186b5c2d-d92b-41ba-bb57-3b6819e4d19f
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:52 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48184b1c-053c-4f3b-84de-44e9e0d6c6a9
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '472'
      x-request-id: 186b5c2d-d92b-41ba-bb57-3b6819e4d19f
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48184b1c-053c-4f3b-84de-44e9e0d6c6a9
  response:
    body:
      string: '{"dataFeedId":"48184b1c-053c-4f3b-84de-44e9e0d6c6a9","dataFeedName":"topnuppgrf24qaapr23kohkb","metrics":[{"metricId":"e47962fd-aec5-487d-af7c-c9c51fb7fda6","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"b4378c9f-cdbc-4dc6-9706-a35a933a70ad","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"region","dimensionDisplayName":"region"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["xiangyan@microsoft.com"],"viewers":[],"creator":"xiangyan@microsoft.com","status":"Active","createdTime":"2021-09-29T19:39:52Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"query":"select
        * from adsample2 where Timestamp = @StartTime"},"authenticationType":"Basic"}'
    headers:
      apim-request-id: f3d323da-fb12-4f16-a651-b04ae1d40cb0
      content-length: '1191'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:52 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '185'
      x-request-id: f3d323da-fb12-4f16-a651-b04ae1d40cb0
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/48184b1c-053c-4f3b-84de-44e9e0d6c6a9
- request:
    body: '{"name": "topnuptlgk32oleoag5lv3fu", "description": "testing", "metricId":
      "e47962fd-aec5-487d-af7c-c9c51fb7fda6", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 5, "minRatio": 5.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '286'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 839fb43f-4ba1-448a-aa07-385d2347ae15
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:53 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/b9554c6d-62c2-4174-97bf-14fb24344646
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '165'
      x-request-id: 839fb43f-4ba1-448a-aa07-385d2347ae15
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/b9554c6d-62c2-4174-97bf-14fb24344646
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"b9554c6d-62c2-4174-97bf-14fb24344646","name":"topnuptlgk32oleoag5lv3fu","description":"testing","metricId":"e47962fd-aec5-487d-af7c-c9c51fb7fda6","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":5,"minRatio":5.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: 3b576d22-5d97-4a15-b18e-6c4d204e50d0
      content-length: '419'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:53 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '100'
      x-request-id: 3b576d22-5d97-4a15-b18e-6c4d204e50d0
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/b9554c6d-62c2-4174-97bf-14fb24344646
- request:
    body: '{"name": "testalert6f2e1aba", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "b9554c6d-62c2-4174-97bf-14fb24344646",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "snoozeFilter": {"autoSnooze": 5, "snoozeScope": "Metric", "onlyForSuccessive":
      true}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '334'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 3586011d-d6e2-483e-b0cb-93a3bd879318
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:53 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '128'
      x-request-id: 3586011d-d6e2-483e-b0cb-93a3bd879318
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"74730882-3afc-4fa6-b777-07c7b6541570","name":"testalert6f2e1aba","description":"","splitAlertByDimensions":[],"hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"b9554c6d-62c2-4174-97bf-14fb24344646","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"snoozeFilter":{"autoSnooze":5,"snoozeScope":"Metric","onlyForSuccessive":true}}]}'
    headers:
      apim-request-id: 570bd242-5050-40bf-970d-3a5a672153e6
      content-length: '455'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:53 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '102'
      x-request-id: 570bd242-5050-40bf-970d-3a5a672153e6
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
  response:
    body:
      string: ''
    headers:
      apim-request-id: a1e66cfa-1402-4982-b691-4a78f2280b73
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:53 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '116'
      x-request-id: a1e66cfa-1402-4982-b691-4a78f2280b73
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 96adf21f-fc20-47d3-9e11-58d407a999a5"}'
    headers:
      apim-request-id: 96adf21f-fc20-47d3-9e11-58d407a999a5
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:53 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '79'
      x-request-id: 96adf21f-fc20-47d3-9e11-58d407a999a5
    status:
      code: 404
      message: Not Found
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/74730882-3afc-4fa6-b777-07c7b6541570
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/b9554c6d-62c2-4174-97bf-14fb24344646
  response:
    body:
      string: ''
    headers:
      apim-request-id: 4e66564c-3b53-47eb-9d0a-7a8e30d57b3d
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:54 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '121'
      x-request-id: 4e66564c-3b53-47eb-9d0a-7a8e30d57b3d
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/b9554c6d-62c2-4174-97bf-14fb24344646
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/48184b1c-053c-4f3b-84de-44e9e0d6c6a9
  response:
    body:
      string: ''
    headers:
      apim-request-id: 18edc6be-98b9-4995-8f5a-6efacf0b5279
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:54 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '315'
      x-request-id: 18edc6be-98b9-4995-8f5a-6efacf0b5279
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/48184b1c-053c-4f3b-84de-44e9e0d6c6a9
version: 1
