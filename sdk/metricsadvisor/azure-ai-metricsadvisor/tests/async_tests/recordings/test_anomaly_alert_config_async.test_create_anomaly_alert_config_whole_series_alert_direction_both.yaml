interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "wholeseriesc7b92842",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "city"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "dataSourceParameter": {"connectionString": "connectionstring", "query":
      "select\u202f*\u202ffrom\u202fadsample2\u202fwhere\u202fTimestamp\u202f=\u202f@StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '774'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 110dfde6-e66a-4ed6-ba67-5294e3147056
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:22 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/add1469b-15cc-43b3-85aa-fda396ecdbac
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '557'
      x-request-id: 110dfde6-e66a-4ed6-ba67-5294e3147056
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/add1469b-15cc-43b3-85aa-fda396ecdbac
  response:
    body:
      string: "{\"dataFeedId\":\"add1469b-15cc-43b3-85aa-fda396ecdbac\",\"dataFeedName\"\
        :\"wholeseriesc7b92842\",\"metrics\":[{\"metricId\":\"000d89df-09bb-4e29-8578-e6b3a395d9fa\"\
        ,\"metricName\":\"cost\",\"metricDisplayName\":\"cost\",\"metricDescription\"\
        :\"\"},{\"metricId\":\"eedc0b9f-8e54-4ac7-9bf3-93b3d86653b7\",\"metricName\"\
        :\"revenue\",\"metricDisplayName\":\"revenue\",\"metricDescription\":\"\"\
        }],\"dimension\":[{\"dimensionName\":\"category\",\"dimensionDisplayName\"\
        :\"category\"},{\"dimensionName\":\"city\",\"dimensionDisplayName\":\"city\"\
        }],\"dataStartFrom\":\"2019-10-01T00:00:00Z\",\"dataSourceType\":\"SqlServer\"\
        ,\"timestampColumn\":\"\",\"startOffsetInSeconds\":0,\"maxQueryPerMinute\"\
        :30.0,\"granularityName\":\"Daily\",\"granularityAmount\":null,\"allUpIdentification\"\
        :null,\"needRollup\":\"NoRollup\",\"fillMissingPointType\":\"PreviousValue\"\
        ,\"fillMissingPointValue\":0.0,\"rollUpMethod\":\"None\",\"rollUpColumns\"\
        :[],\"dataFeedDescription\":\"\",\"stopRetryAfterInSeconds\":-1,\"minRetryIntervalInSeconds\"\
        :-1,\"maxConcurrency\":-1,\"viewMode\":\"Private\",\"admins\":[\"krpratic@microsoft.com\"\
        ],\"viewers\":[],\"creator\":\"krpratic@microsoft.com\",\"status\":\"Active\"\
        ,\"createdTime\":\"2020-10-22T15:52:23Z\",\"isAdmin\":true,\"actionLinkTemplate\"\
        :\"\",\"dataSourceParameter\":{\"connectionString\":\"connectionstring\",\"\
        query\":\"select\u202F*\u202Ffrom\u202Fadsample2\u202Fwhere\u202FTimestamp\u202F\
        =\u202F@StartTime\"}}"
    headers:
      apim-request-id: a03f5ea4-953a-41b2-8c3a-520d565afbf1
      content-length: '1492'
      content-type: application/json; charset=utf-8
      date: Thu, 22 Oct 2020 15:52:23 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '262'
      x-request-id: a03f5ea4-953a-41b2-8c3a-520d565afbf1
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/add1469b-15cc-43b3-85aa-fda396ecdbac
- request:
    body: '{"name": "wholeseriesc7b92842", "description": "testing", "metricId": "000d89df-09bb-4e29-8578-e6b3a395d9fa",
      "wholeMetricConfiguration": {"smartDetectionCondition": {"sensitivity": 50.0,
      "anomalyDetectorDirection": "Both", "suppressCondition": {"minNumber": 50, "minRatio":
      50.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '283'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 992bb1ce-c3e4-410c-b16c-9b2962ad7d1a
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:23 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/8603da2c-6a41-4b36-a890-8769885c4717
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '177'
      x-request-id: 992bb1ce-c3e4-410c-b16c-9b2962ad7d1a
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/8603da2c-6a41-4b36-a890-8769885c4717
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"8603da2c-6a41-4b36-a890-8769885c4717","name":"wholeseriesc7b92842","description":"testing","metricId":"000d89df-09bb-4e29-8578-e6b3a395d9fa","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: cf801058-b86f-47bf-b297-1f58a1181263
      content-length: '416'
      content-type: application/json; charset=utf-8
      date: Thu, 22 Oct 2020 15:52:23 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '120'
      x-request-id: cf801058-b86f-47bf-b297-1f58a1181263
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/8603da2c-6a41-4b36-a890-8769885c4717
- request:
    body: '{"name": "testalertc7b92842", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "8603da2c-6a41-4b36-a890-8769885c4717",
      "anomalyScopeType": "All", "valueFilter": {"lower": 1.0, "upper": 5.0, "direction":
      "Both", "metricId": "000d89df-09bb-4e29-8578-e6b3a395d9fa"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '300'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 94b1bdcb-c060-418a-81cb-e048ee2d8224
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:23 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '195'
      x-request-id: 94b1bdcb-c060-418a-81cb-e048ee2d8224
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"4b4b0720-7467-4d59-a545-f4b886619a40","name":"testalertc7b92842","description":"","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"8603da2c-6a41-4b36-a890-8769885c4717","anomalyScopeType":"All","negationOperation":false,"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","metricId":"000d89df-09bb-4e29-8578-e6b3a395d9fa","triggerForMissing":false}}]}'
    headers:
      apim-request-id: b592ca97-8327-4d1e-80ca-73c486d3ad08
      content-length: '424'
      content-type: application/json; charset=utf-8
      date: Thu, 22 Oct 2020 15:52:24 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '154'
      x-request-id: b592ca97-8327-4d1e-80ca-73c486d3ad08
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
  response:
    body:
      string: ''
    headers:
      apim-request-id: bfd55003-b3c4-42e5-ba86-b1fc1df182bf
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:24 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '185'
      x-request-id: bfd55003-b3c4-42e5-ba86-b1fc1df182bf
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 05811071-12fa-4a93-875d-294599869af5"}'
    headers:
      apim-request-id: 6ec025fd-1457-4b3a-bf37-5c627519a5f7
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Thu, 22 Oct 2020 15:52:24 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '103'
      x-request-id: 6ec025fd-1457-4b3a-bf37-5c627519a5f7
    status:
      code: 404
      message: Not Found
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/4b4b0720-7467-4d59-a545-f4b886619a40
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/8603da2c-6a41-4b36-a890-8769885c4717
  response:
    body:
      string: ''
    headers:
      apim-request-id: bbf40713-8237-44c9-acce-f126953694eb
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:24 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '161'
      x-request-id: bbf40713-8237-44c9-acce-f126953694eb
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/8603da2c-6a41-4b36-a890-8769885c4717
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b2 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/add1469b-15cc-43b3-85aa-fda396ecdbac
  response:
    body:
      string: ''
    headers:
      apim-request-id: 1c16e5b9-fe4b-4d00-b76c-166c44a7c092
      content-length: '0'
      date: Thu, 22 Oct 2020 15:52:25 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '553'
      x-request-id: 1c16e5b9-fe4b-4d00-b76c-166c44a7c092
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/add1469b-15cc-43b3-85aa-fda396ecdbac
version: 1
