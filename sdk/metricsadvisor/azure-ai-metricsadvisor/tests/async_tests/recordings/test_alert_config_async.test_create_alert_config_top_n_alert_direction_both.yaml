interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnup5fmqmw4ascn5ih6mao",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "region"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "viewMode": "Private", "authenticationType": "Basic", "dataSourceParameter":
      {"connectionString": "connectionstring", "query": "select * from adsample2 where
      Timestamp = @StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '800'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: 118da8e2-9ad9-429b-aafd-db80c415f3a4
      content-length: '0'
      date: Wed, 29 Sep 2021 19:39:55 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '493'
      x-request-id: 118da8e2-9ad9-429b-aafd-db80c415f3a4
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b
  response:
    body:
      string: '{"dataFeedId":"c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b","dataFeedName":"topnup5fmqmw4ascn5ih6mao","metrics":[{"metricId":"8cae5500-9198-4930-8553-e00b668d4c92","metricName":"cost","metricDisplayName":"cost","metricDescription":""},{"metricId":"b150b85e-8437-4533-8ce2-3de51661034e","metricName":"revenue","metricDisplayName":"revenue","metricDescription":""}],"dimension":[{"dimensionName":"category","dimensionDisplayName":"category"},{"dimensionName":"region","dimensionDisplayName":"region"}],"dataStartFrom":"2019-10-01T00:00:00Z","dataSourceType":"SqlServer","timestampColumn":"","startOffsetInSeconds":0,"maxQueryPerMinute":30.0,"granularityName":"Daily","needRollup":"NoRollup","fillMissingPointType":"PreviousValue","fillMissingPointValue":0.0,"rollUpMethod":"None","dataFeedDescription":"","stopRetryAfterInSeconds":-1,"minRetryIntervalInSeconds":-1,"maxConcurrency":-1,"viewMode":"Private","admins":["xiangyan@microsoft.com"],"viewers":[],"creator":"xiangyan@microsoft.com","status":"Active","createdTime":"2021-09-29T19:39:55Z","isAdmin":true,"actionLinkTemplate":"","dataSourceParameter":{"query":"select
        * from adsample2 where Timestamp = @StartTime"},"authenticationType":"Basic"}'
    headers:
      apim-request-id: ee045aba-6823-4d8f-ba95-a8187c7e22a7
      content-length: '1191'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:39:55 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '163'
      x-request-id: ee045aba-6823-4d8f-ba95-a8187c7e22a7
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b
- request:
    body: '{"name": "topnupa5lz7cn25o3cotdl3j", "description": "testing", "metricId":
      "8cae5500-9198-4930-8553-e00b668d4c92", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 5, "minRatio": 5.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '286'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: eac0bed5-21b9-4787-a7e7-da6d1b44b512
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:00 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/3d3d634f-61ff-4175-843f-baa37be3e488
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '5289'
      x-request-id: eac0bed5-21b9-4787-a7e7-da6d1b44b512
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/3d3d634f-61ff-4175-843f-baa37be3e488
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"3d3d634f-61ff-4175-843f-baa37be3e488","name":"topnupa5lz7cn25o3cotdl3j","description":"testing","metricId":"8cae5500-9198-4930-8553-e00b668d4c92","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":5,"minRatio":5.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: c844f332-5070-40c6-b8a6-b060c0d24bf1
      content-length: '419'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '221'
      x-request-id: c844f332-5070-40c6-b8a6-b060c0d24bf1
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/3d3d634f-61ff-4175-843f-baa37be3e488
- request:
    body: '{"name": "testalert8e5b1eb9", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "3d3d634f-61ff-4175-843f-baa37be3e488",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "valueFilter": {"lower": 1.0, "upper": 5.0, "direction": "Both", "type":
      "Value", "metricId": "8cae5500-9198-4930-8553-e00b668d4c92"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '382'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 051fe997-df06-4e69-9a33-0059863fb328
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:01 GMT
      location: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '113'
      x-request-id: 051fe997-df06-4e69-9a33-0059863fb328
    status:
      code: 201
      message: Created
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"274f1fab-4af6-4f35-a11f-1dc501bc74d6","name":"testalert8e5b1eb9","description":"","splitAlertByDimensions":[],"hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"3d3d634f-61ff-4175-843f-baa37be3e488","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"valueFilter":{"lower":1.0,"upper":5.0,"direction":"Both","metricId":"8cae5500-9198-4930-8553-e00b668d4c92","triggerForMissing":false,"type":"Value"}}]}'
    headers:
      apim-request-id: 7bd5196a-a53b-4bce-8b5f-188686c54897
      content-length: '525'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '88'
      x-request-id: 7bd5196a-a53b-4bce-8b5f-188686c54897
    status:
      code: 200
      message: OK
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
  response:
    body:
      string: ''
    headers:
      apim-request-id: 07139dea-9497-44ad-9bf2-95ca2806f62d
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '120'
      x-request-id: 07139dea-9497-44ad-9bf2-95ca2806f62d
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: 15c1ac0c-8f52-458d-a985-5de996f0ab35"}'
    headers:
      apim-request-id: 15c1ac0c-8f52-458d-a985-5de996f0ab35
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Wed, 29 Sep 2021 19:40:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '74'
      x-request-id: 15c1ac0c-8f52-458d-a985-5de996f0ab35
    status:
      code: 404
      message: Not Found
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/274f1fab-4af6-4f35-a11f-1dc501bc74d6
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/3d3d634f-61ff-4175-843f-baa37be3e488
  response:
    body:
      string: ''
    headers:
      apim-request-id: e491de27-2911-4a68-bc48-b434a1787eeb
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:01 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '95'
      x-request-id: e491de27-2911-4a68-bc48-b434a1787eeb
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/3d3d634f-61ff-4175-843f-baa37be3e488
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.1 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://ga-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b
  response:
    body:
      string: ''
    headers:
      apim-request-id: 33b850e5-53b0-4e80-945c-a43735e3be65
      content-length: '0'
      date: Wed, 29 Sep 2021 19:40:02 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '277'
      x-request-id: 33b850e5-53b0-4e80-945c-a43735e3be65
    status:
      code: 204
      message: No Content
    url: https://ga-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/c6b275c0-e0c1-4429-af9f-4b66e9dd5a4b
version: 1
