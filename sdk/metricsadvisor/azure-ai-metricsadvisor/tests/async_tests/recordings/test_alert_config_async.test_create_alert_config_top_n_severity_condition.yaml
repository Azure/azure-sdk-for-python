interactions:
- request:
    body: '{"dataSourceType": "SqlServer", "dataFeedName": "topnupthajsu7ljdmzcbsmwf",
      "granularityName": "Daily", "metrics": [{"metricName": "cost"}, {"metricName":
      "revenue"}], "dimension": [{"dimensionName": "category"}, {"dimensionName":
      "city"}], "dataStartFrom": "2019-10-01T00:00:00.000Z", "startOffsetInSeconds":
      0, "maxConcurrency": -1, "minRetryIntervalInSeconds": -1, "stopRetryAfterInSeconds":
      -1, "dataSourceParameter": {"connectionString": "connectionstring", "query":
      "select\u202f*\u202ffrom\u202fadsample2\u202fwhere\u202fTimestamp\u202f=\u202f@StartTime"}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '779'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds
  response:
    body:
      string: ''
    headers:
      apim-request-id: e6b6a711-e7a8-4533-a0f5-a52f2ceb30ef
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:50 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/1a615c04-e3d2-40d5-b18a-a58cf21835d5
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '511'
      x-request-id: e6b6a711-e7a8-4533-a0f5-a52f2ceb30ef
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/1a615c04-e3d2-40d5-b18a-a58cf21835d5
  response:
    body:
      string: "{\"dataFeedId\":\"1a615c04-e3d2-40d5-b18a-a58cf21835d5\",\"dataFeedName\":\"topnupthajsu7ljdmzcbsmwf\",\"metrics\":[{\"metricId\":\"7ff04d38-c1d1-49f0-86de-5a81817281f6\",\"metricName\":\"cost\",\"metricDisplayName\":\"cost\",\"metricDescription\":\"\"},{\"metricId\":\"94d24af8-f9c0-4bc4-bfe0-b4e8c404d9f0\",\"metricName\":\"revenue\",\"metricDisplayName\":\"revenue\",\"metricDescription\":\"\"}],\"dimension\":[{\"dimensionName\":\"category\",\"dimensionDisplayName\":\"category\"},{\"dimensionName\":\"city\",\"dimensionDisplayName\":\"city\"}],\"dataStartFrom\":\"2019-10-01T00:00:00Z\",\"dataSourceType\":\"SqlServer\",\"timestampColumn\":\"\",\"startOffsetInSeconds\":0,\"maxQueryPerMinute\":30.0,\"granularityName\":\"Daily\",\"granularityAmount\":null,\"allUpIdentification\":null,\"needRollup\":\"NoRollup\",\"fillMissingPointType\":\"PreviousValue\",\"fillMissingPointValue\":0.0,\"rollUpMethod\":\"None\",\"rollUpColumns\":[],\"dataFeedDescription\":\"\",\"stopRetryAfterInSeconds\":-1,\"minRetryIntervalInSeconds\":-1,\"maxConcurrency\":-1,\"viewMode\":\"Private\",\"admins\":[\"krpratic@microsoft.com\"],\"viewers\":[],\"creator\":\"krpratic@microsoft.com\",\"status\":\"Active\",\"createdTime\":\"2021-01-22T01:04:51Z\",\"isAdmin\":true,\"actionLinkTemplate\":\"\",\"dataSourceParameter\":{\"connectionString\":\"connectionstring\",\"query\":\"select\u202F*\u202Ffrom\u202Fadsample2\u202Fwhere\u202FTimestamp\u202F=\u202F@StartTime\"}}"
    headers:
      apim-request-id: d7241180-7364-4e1c-8c9d-414c4e7e910a
      content-length: '1497'
      content-type: application/json; charset=utf-8
      date: Fri, 22 Jan 2021 01:04:50 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '177'
      x-request-id: d7241180-7364-4e1c-8c9d-414c4e7e910a
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/1a615c04-e3d2-40d5-b18a-a58cf21835d5
- request:
    body: '{"name": "topnupdeyttqdri6rz2n5xwc", "description": "testing", "metricId":
      "7ff04d38-c1d1-49f0-86de-5a81817281f6", "wholeMetricConfiguration": {"smartDetectionCondition":
      {"sensitivity": 50.0, "anomalyDetectorDirection": "Both", "suppressCondition":
      {"minNumber": 50, "minRatio": 50.0}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '288'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 493e3d9e-eef0-4ae3-bfe5-21fe4bc8f36a
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:50 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/d49454db-c997-4e2e-adaa-5ca494800173
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '96'
      x-request-id: 493e3d9e-eef0-4ae3-bfe5-21fe4bc8f36a
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/d49454db-c997-4e2e-adaa-5ca494800173
  response:
    body:
      string: '{"anomalyDetectionConfigurationId":"d49454db-c997-4e2e-adaa-5ca494800173","name":"topnupdeyttqdri6rz2n5xwc","description":"testing","metricId":"7ff04d38-c1d1-49f0-86de-5a81817281f6","wholeMetricConfiguration":{"smartDetectionCondition":{"sensitivity":50.0,"anomalyDetectorDirection":"Both","suppressCondition":{"minNumber":50,"minRatio":50.0}}},"dimensionGroupOverrideConfigurations":[],"seriesOverrideConfigurations":[]}'
    headers:
      apim-request-id: eab410d4-393d-4e50-a118-c01a25f56bc9
      content-length: '421'
      content-type: application/json; charset=utf-8
      date: Fri, 22 Jan 2021 01:04:51 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '82'
      x-request-id: eab410d4-393d-4e50-a118-c01a25f56bc9
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/d49454db-c997-4e2e-adaa-5ca494800173
- request:
    body: '{"name": "testalert53ba1e16", "hookIds": [], "metricAlertingConfigurations":
      [{"anomalyDetectionConfigurationId": "d49454db-c997-4e2e-adaa-5ca494800173",
      "anomalyScopeType": "TopN", "topNAnomalyScope": {"top": 5, "period": 10, "minTopCount":
      9}, "severityFilter": {"minAlertSeverity": "Low", "maxAlertSeverity": "High"}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '322'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations
  response:
    body:
      string: ''
    headers:
      apim-request-id: 3f1752ad-c8c7-431f-b107-60387db604eb
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:51 GMT
      location: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '122'
      x-request-id: 3f1752ad-c8c7-431f-b107-60387db604eb
    status:
      code: 201
      message: Created
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
  response:
    body:
      string: '{"anomalyAlertingConfigurationId":"8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb","name":"testalert53ba1e16","description":"","hookIds":[],"metricAlertingConfigurations":[{"anomalyDetectionConfigurationId":"d49454db-c997-4e2e-adaa-5ca494800173","anomalyScopeType":"TopN","negationOperation":false,"topNAnomalyScope":{"top":5,"period":10,"minTopCount":9},"severityFilter":{"minAlertSeverity":"Low","maxAlertSeverity":"High"}}]}'
    headers:
      apim-request-id: e61899f0-31f9-4f09-8d92-a931b05543b8
      content-length: '417'
      content-type: application/json; charset=utf-8
      date: Fri, 22 Jan 2021 01:04:51 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '92'
      x-request-id: e61899f0-31f9-4f09-8d92-a931b05543b8
    status:
      code: 200
      message: OK
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
  response:
    body:
      string: ''
    headers:
      apim-request-id: cae931d4-c144-4f83-baba-b7194496cf81
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:51 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '106'
      x-request-id: cae931d4-c144-4f83-baba-b7194496cf81
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
  response:
    body:
      string: '{"code":"Not Found","message":"Not found this AnomalyAlertingConfiguration.
        TraceId: e3bea3c3-135e-4629-b7f9-6e238baec2f4"}'
    headers:
      apim-request-id: 3f653822-9818-4351-bb57-2386345262ef
      content-length: '123'
      content-type: application/json; charset=utf-8
      date: Fri, 22 Jan 2021 01:04:51 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '75'
      x-request-id: 3f653822-9818-4351-bb57-2386345262ef
    status:
      code: 404
      message: Not Found
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/alert/anomaly/configurations/8cc66b6f-7fe2-48e2-a11b-4c49e3ad39bb
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/d49454db-c997-4e2e-adaa-5ca494800173
  response:
    body:
      string: ''
    headers:
      apim-request-id: 3565564c-4b77-4536-8694-d5f3bff82267
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:51 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '115'
      x-request-id: 3565564c-4b77-4536-8694-d5f3bff82267
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/enrichment/anomalyDetection/configurations/d49454db-c997-4e2e-adaa-5ca494800173
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-ai-metricsadvisor/1.0.0b3 Python/3.8.6 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://js-metrics-advisor.cognitiveservices.azure.com/metricsadvisor/v1.0/dataFeeds/1a615c04-e3d2-40d5-b18a-a58cf21835d5
  response:
    body:
      string: ''
    headers:
      apim-request-id: c5e53491-854e-4abe-aecf-e6b917287784
      content-length: '0'
      date: Fri, 22 Jan 2021 01:04:52 GMT
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      x-content-type-options: nosniff
      x-envoy-upstream-service-time: '365'
      x-request-id: c5e53491-854e-4abe-aecf-e6b917287784
    status:
      code: 204
      message: No Content
    url: https://js-metrics-advisor.cognitiveservices.azure.com//metricsadvisor/v1.0/dataFeeds/1a615c04-e3d2-40d5-b18a-a58cf21835d5
version: 1
