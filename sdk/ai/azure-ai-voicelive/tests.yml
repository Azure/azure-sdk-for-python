extends:
    template: /eng/pipelines/templates/stages/archetype-sdk-tests.yml
    parameters:
      BuildTargetingString: 'azure-ai-voicelive'
      JobName: chat
      ServiceDirectory: ai
      TestResourceDirectories:
      - ai/azure-ai-voicelive
      MatrixConfigs:
        - Name: ai_ci_matrix
          Path: sdk/ai/platform-matrix.json
          Selection: sparse
          GenerateVMJobs: true
      EnvVars:
        AZURE_TEST_RUN_LIVE: 'true'
        AZURE_TEST_USE_CLI_AUTH: 'true'
        AZURE_SKIP_LIVE_RECORDING: 'true'
        VOICELIVE_OPENAI_ENDPOINT: $(VoiceLiveOpenAIEndpoint)
        VOICELIVE_OPENAI_API_KEY: $(VoiceLiveOpenAIApiKey)