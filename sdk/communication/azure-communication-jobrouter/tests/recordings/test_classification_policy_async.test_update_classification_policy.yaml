interactions:
- request:
    body: '{"name": "test_update_classification_policy_tst_dp_async", "offerTTLSeconds":
      10.0, "mode": {"kind": "round-robin", "minConcurrentOffers": 1, "maxConcurrentOffers":
      1}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '168'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:17 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/distributionPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "test_update_classification_policy_tst_dp_async",
      "offerTTLSeconds": 10, "mode": {"kind": "round-robin", "minConcurrentOffers":
      1, "maxConcurrentOffers": 1, "bypassSelectors": false}}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:01 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:09 GMT
      request-context: appId=
      trace-id: d05b89390ef11f2f36626f7620ae37db
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/distributionPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "test_update_classification_policy_tst_q_async", "distributionPolicyId":
      "sanitized", "labels": {"key1": "QueueKey", "key2": 10, "key3": true, "key4":
      false, "key5": 10.1}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '218'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:18 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/queues/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "test_update_classification_policy_tst_q_async",
      "distributionPolicyId": "sanitized", "labels": {"key1": "QueueKey", "key2":
      10, "key3": true, "key4": false, "key5": 10.1, "Id": "sanitized"}}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:10 GMT
      request-context: appId=
      trace-id: 5202b48763296465c6fb0b364397d029
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/queues/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '452'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule",
      "value": 1}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:10 GMT
      request-context: appId=
      trace-id: 7e997b68030ed5f7043f7e3f53d97b9b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '486'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:10 GMT
      request-context: appId=
      trace-id: 188f8e10eafc31fc3c156a00f9543eac
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '513'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule",
      "value": 1}, "workerSelectors": [{"kind": "conditional", "condition": {"kind":
      "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:10 GMT
      request-context: appId=
      trace-id: b6424fd4cc77131b675bfb7c5b55939d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 8606701c597932dee89de67d2f6990e5
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '376'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule",
      "value": 1}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 1741f12d98d79d4d68a5852122833f8d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '410'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:19 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 4312f7909a7371e7077dedd8fca7978c
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '518'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "static-rule",
      "value": 1}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: ebadc63d5f8cd14a0e3b77794747e951
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '552'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:03 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 0d0c8b18af6357ae32f7221beb91df74
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '486'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 5f70dbecb90c5fcd9054213f7ef55d9e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '486'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:11 GMT
      request-context: appId=
      trace-id: 02de7437849e7b34ec4c388583fd5854
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: aeb7b0542f9e16bdc32cb3235ef25f42
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: 2cc30c06db9e593064491854a27310a0
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '410'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: 5a091fd34cc9384d73390733531fc2e8
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '410'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:20 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: eca48099d2650a6265525e653c8dee18
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '552'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: b86c212daa65b226de4651009292e740
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '552'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:04 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: 624977bbf49a4a3b05e3c8b93b49301a
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '506'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: 560610271ad0510a16a2137a9fa1b68e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '486'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:12 GMT
      request-context: appId=
      trace-id: 5b3bf9755333146ec041349967248514
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '567'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: adc3b2b3acf7abcee6f23193dfd49f4c
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 2f04eee9dd258ed7d5219ff17db8b1bf
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '430'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 5554cff31b5b84ef82077ff41f6a3e3b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '410'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:21 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 0eb25d9a0909d769386ced6cdd9bd0a1
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '572'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 944b66f2306c11763266ab68c40d2ae2
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '552'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:05 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: ddd6cd6e78b275883a6dfeae115047da
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "static", "labelSelector": {"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '548'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 0cb911839fc6de0a564acf92a3a720a3
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '486'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:13 GMT
      request-context: appId=
      trace-id: 7880bfecd1cf1562ddeca84a51f43213
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "conditional", "condition": {"kind":
      "static-rule", "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '609'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "conditional", "condition": {"kind":
      "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: 81750121a19d0ac72ed6e2856d9c08b3
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: c535645bbc0e58068c7ae09f06818efb
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '472'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: 04b0a2272cd092929d15338b7bace609
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '410'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:22 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: 0a2708f3fa0a2868a913b5c75d90310f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '614'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:06 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: b00a1c1ef25dbf3e5fb668d27924aa35
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '552'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: 27399838996203a7dd93dbf035c7a7b3
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '513'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: f05acbf2a135141afa41b29af988d429
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:14 GMT
      request-context: appId=
      trace-id: e70f8423b54dc01693be0dcb5891d352
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '574'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 8bfd8c1d2d5486121c957c8d208d606d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '608'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 64c049c37b9126af430a8957281b7820
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '437'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 53672d79d40743d97e2f0570a94b1ab1
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '471'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:23 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 39293716383cd911e34c464d507cafae
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '579'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:07 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: dc318e6215f0f4de641b2b42875b97ee
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 1fda0531dbee107da356844c45813b9b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 91dfd88127de86fe731af031c8de1484
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:15 GMT
      request-context: appId=
      trace-id: 3bfaf167a724c9fc650eb165c3d5cb79
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '608'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: 769d05fd517c43ed39c1f4a1973dee2b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '608'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: f6d1c4961d666bc64375bc921bc27ab6
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '471'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:24 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: d7ea9cc91db75cc0675fc9bb61e3e971
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '471'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:08 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: 45fe560eb11f181011b6cf52c9d287c4
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: a14ad119e7c517edb421b13889ce30bc
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: 9f1bf310bcab1eb965c02f557b0a57fe
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '567'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:16 GMT
      request-context: appId=
      trace-id: f996ee01cffd54fa2bc8e72cc79b4872
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:17 GMT
      request-context: appId=
      trace-id: 9cf2e7e3ff74cf99588869b778cc0f2b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '628'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:17 GMT
      request-context: appId=
      trace-id: 4bceb830f262c0acfe0a2557626987a2
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '608'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:25 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:17 GMT
      request-context: appId=
      trace-id: 5ba72e4693303b79bf57aa1f8a85c775
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '491'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:17 GMT
      request-context: appId=
      trace-id: bae1ee0ce606ca0688809d8ab7779f0a
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '471'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:09 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:17 GMT
      request-context: appId=
      trace-id: 2ab570d4ef106e7e2319da3e2c7aca95
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '633'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:10 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: c6f9bb9bb4569671436108f043664d5f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:10 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: 6ec7a112be7cd2bf08776aa2c3ef5559
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '609'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:10 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: a88058208cef8178368975278bd2ea70
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '547'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:26 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:10 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: 85d8468ce5182db060adf17ee1fa68a5
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '670'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "conditional", "condition": {"kind":
      "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:10 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: c114024b4fc538ce2b8e9dda8c6f687b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '608'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: f0cfaee19fb1b0cfb13ceca8bd0a8967
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '533'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:18 GMT
      request-context: appId=
      trace-id: 1352d0d506afb21b2bf7755d62755cb4
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '471'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: 7c8500878cea852991f968495f3d53f4
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '675'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: fd74d3c123d9343f414acc00f9920334
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: aa5a2941bcecd5c3d02e7067e609a70d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "static-rule", "value": 1}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '415'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:27 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: bee2d80dada1113a9d90445f3e7fcac8
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '449'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "static", "labelSelector":
      {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:11 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: 39b72a2ab74f7db8b882299df096f58f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "static-rule", "value": 1}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '476'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: 6ad3e17fd6707e9f1a9c2cac20bcf31a
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '510'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "conditional", "condition":
      {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:19 GMT
      request-context: appId=
      trace-id: fc938ed5c5f064c5f59223bef9216861
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "static-rule", "value": 1}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '339'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: 0912279d7656b26a519850d22bc1e274
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '373'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: 82b0954acf18926f6b9a3bff11797ba8
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "static-rule", "value": 1}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '481'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: 3595722d12dcb27bac1d963eac07e88d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '515'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:28 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: dd0ff92f492bf47a89f72efa262eeeda
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "1"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '449'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "1"}, "workerSelectors": [{"kind": "static", "labelSelector":
      {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:12 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: ec20790c87dbfc840255df79eff69c99
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '449'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "static", "labelSelector":
      {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: 49fb519da9f882a33c7cb7b705829a7f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "1"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '510'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "1"}, "workerSelectors": [{"kind": "conditional", "condition":
      {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: a2224a6ecbdca273b9e1fbba6391736f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '510'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "conditional", "condition":
      {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:20 GMT
      request-context: appId=
      trace-id: 44d85f38430921f6a35227dd93a7dcdb
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "1"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '373'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "1"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: e962c93e9bcba4de309af07cd8ae078e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '373'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: 822691c7a78a395457f8cc984d6b7389
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "1"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '515'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:29 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: 41338fac7ebe5d97d27b8cb37282817a
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '515'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: c1c2ba08267a32c1871fbadf71b5ef88
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '469'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:13 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: 69b8356a4b7830ad74fc99463bad3b2d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '449'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "static", "labelSelector":
      {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: 6724f08e676995e9d82a7a612030d5df
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '530'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: b502db043cff1694fad8a0c81a898401
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '510'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "conditional", "condition":
      {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:21 GMT
      request-context: appId=
      trace-id: 2fb19b21c88de12db9b0399552bf167e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '393'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 82f6cd6b9a30d758aea915674c19e85b
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '373'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 7a1001127720cf3b8983772e731bbe96
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '535'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:30 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: d91ea3275130fb7d694d2a7e37b2f987
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '515'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 7d06a4baec478a4c30fe8df00ded7a83
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '511'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey": "fakeKey"}},
      "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:14 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 45cbb026ae03634b02344ab262c1d3bd
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '449'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "static", "labelSelector":
      {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator": "equal",
      "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 480c1cbbf846128ebfda10bec7abcbf7
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '572'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey": "fakeKey"}},
      "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:22 GMT
      request-context: appId=
      trace-id: 07fc7f76a9c0694c6a191450d1b85043
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '510'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "conditional", "condition":
      {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: b25ee9e368ea4c6608f80d54986928d0
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '435'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:31 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey": "fakeKey"}},
      "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: 4968856971828e792784805e6214de5e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '373'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: b06cb3100ab8726be6878d0ef45a3825
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '577'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "azure-function-rule", "functionUrl":
      "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey": "fakeKey"}},
      "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:15 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: bf2be04290747c0de9b91029fcebaeb3
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}], "prioritizationRule":
      {"kind": "expression-rule", "language": "powerFx", "expression": "2"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '515'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}], "prioritizationRule": {"kind": "expression-rule", "language": "powerFx",
      "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: aa186c0e850e61750e5c6a76b4c283c0
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '517'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds": 10,
      "expedite": false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:23 GMT
      request-context: appId=
      trace-id: 2f13eee6870d5fa151891c280b7792d6
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '551'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 1cda7684af57102436b68609c5901a7f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '578'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: bd3bfd0878f3872e2df01c100e8ecf72
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '612'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 653665c185f760c4a311c63d38328f1d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '441'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:32 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 97efad61613b18f349eb0543ae674555
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '475'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:16 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 6d389caa6525d5a19ee71ccef7bf28b8
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "static-rule", "value": 1}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value":
      "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '583'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "static-rule", "value":
      1}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 01a8f6b4515974874c897710998220ea
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '617'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:24 GMT
      request-context: appId=
      trace-id: 5de3bc64391e72e10a1c8ee50d9e87cd
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '551'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 38912c36fcbacf2c14d3192ad54ef966
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '551'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 8174de1d34421872608053a13a12ace9
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '612'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 90169a654f5d31184cff470733d372e6
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '612'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:33 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 3023c538e9459e20babc157b0039ecd9
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '475'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:17 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 50023516bec3517b5deeceb34a09dcf7
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '475'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: d7ce9d5038d070d696e4ebec7912a905
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '617'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "1"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:25 GMT
      request-context: appId=
      trace-id: 9ad8fc40922d59f1573c661c8e9ba453
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '617'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 431f0668ce8f710a08245eba5abad31a
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '571'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "static", "labelSelector": {"ttlSeconds": 10, "expedite": false, "key":
      "test_key", "labelOperator": "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 0f606534a5efe85b2b9353060e0ebda2
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '551'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:34 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: cb6a34e2c8083ba597ab6f80ae68ffaa
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '632'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "conditional", "condition": {"kind": "static-rule", "value": true},
      "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:18 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 7802d2c8ef96e95d4f75d0fc7bc5ed4e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '612'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 272f2f133b61b803dc2a6f9cdae314a4
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '495'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "pass-through", "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 640242ef68ee349f9744e3471c72702d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '475'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:26 GMT
      request-context: appId=
      trace-id: 95d3cc7afb69374d012769ffc4b45535
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule"},
      "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '637'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule"}, "workerSelectors":
      [{"kind": "weighted-allocation-worker-selector", "allocations": [{"weight":
      1, "labelSelectors": [{"ttlSeconds": 10, "expedite": false, "key": "test_key",
      "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 10c7a3f539e1cac7bea0ca847727f061
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '617'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 6b115c5b8b8064b9cd73d7714afffd0e
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"key": "test_key", "labelOperator": "equal", "value": "test_value",
      "ttlSeconds": 10.0, "expedite": false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '613'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:35 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "static", "labelSelector": {"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 81dc41c91d7ab6946e612a076f2e6a2d
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "static", "labelSelector": {"key": "test_key",
      "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite":
      false}}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '551'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "static",
      "labelSelector": {"ttlSeconds": 10, "expedite": false, "key": "test_key", "labelOperator":
      "equal", "value": "test_value"}}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: e3587001f62012290f5315470bc6bc66
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"key":
      "test_key", "labelOperator": "equal", "value": "test_value", "ttlSeconds": 10.0,
      "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '674'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "conditional", "condition": {"kind":
      "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:19 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 00d783961a36c65e60f541f4eaf47e72
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "conditional", "condition": {"kind": "static-rule",
      "value": true}, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '612'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "conditional",
      "condition": {"kind": "static-rule", "value": true}, "labelSelectors": [{"ttlSeconds":
      10, "expedite": false, "key": "test_key", "labelOperator": "equal", "value":
      "test_value"}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:20 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 2bb71cfa5fc1dbf99aba11c7bcdc7fc3
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '537'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "pass-through", "key": "testKey",
      "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:20 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:27 GMT
      request-context: appId=
      trace-id: 1a660a1ded16105093e49df4f531326f
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "pass-through", "key": "testKey", "labelOperator":
      "equal"}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '475'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "pass-through",
      "key": "testKey", "labelOperator": "equal"}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:20 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: e59c914091ced2d7e13108d9e608a8e5
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "azure-function-rule", "functionUrl": "https://fake.azurewebsites.net/fakeRule",
      "credential": {"functionKey": "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator":
      "equal", "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '679'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "azure-function-rule",
      "functionUrl": "https://fake.azurewebsites.net/fakeRule", "credential": {"functionKey":
      "fakeKey"}}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:20 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: 83a24bbd247bbbe7dbf33e12ab4066f8
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: '{"name": "tst_update_cp_async", "fallbackQueueId": "sanitized", "queueSelectors":
      [{"kind": "weighted-allocation-queue-selector", "allocations": [{"weight": 1.0,
      "labelSelectors": [{"key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}],
      "prioritizationRule": {"kind": "expression-rule", "language": "powerFx", "expression":
      "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector", "allocations":
      [{"weight": 1.0, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value", "ttlSeconds": 10.0, "expedite": false}]}]}]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '617'
      Content-Type:
      - application/merge-patch+json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: PATCH
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body: '{"id": "sanitized", "name": "tst_update_cp_async", "fallbackQueueId": "sanitized",
      "queueSelectors": [{"kind": "weighted-allocation-queue-selector", "allocations":
      [{"weight": 1, "labelSelectors": [{"key": "test_key", "labelOperator": "equal",
      "value": "test_value"}]}]}], "prioritizationRule": {"kind": "expression-rule",
      "language": "powerFx", "expression": "2"}, "workerSelectors": [{"kind": "weighted-allocation-worker-selector",
      "allocations": [{"weight": 1, "labelSelectors": [{"ttlSeconds": 10, "expedite":
      false, "key": "test_key", "labelOperator": "equal", "value": "test_value"}]}]}]}'
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      connection: keep-alive
      content-type: application/json; charset=utf-8
      date: Fri, 06 May 2022 01:37:20 GMT
      etag: REDACTED
      last-modified: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: 2bc414d4e736b1423c0ea735443b62b9
      transfer-encoding: chunked
      x-cache: CONFIG_NOCACHE
    status:
      code: 200
      message: OK
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: ''
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:36 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: DELETE
    uri: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body:
      string: ''
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      date: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: 68ef2166d0067bc8b76469ce6199c5d2
      x-cache: CONFIG_NOCACHE
    status:
      code: 204
      message: No Content
    url: https://sanitized.int.communication.azure.net/routing/classificationPolicies/sanitized?api-version=2021-10-20-preview2
- request:
    body: ''
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:37 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: DELETE
    uri: https://sanitized.int.communication.azure.net/routing/queues/sanitized?api-version=2021-10-20-preview2
  response:
    body:
      string: ''
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      date: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: 6b8e763416693c21e6dbd2599b60e0fe
      x-cache: CONFIG_NOCACHE
    status:
      code: 204
      message: No Content
    url: https://sanitized.int.communication.azure.net/routing/queues/sanitized?api-version=2021-10-20-preview2
- request:
    body: ''
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-communication-jobrouter/1.0.0 Python/3.9.12 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Fri, 06 May 2022 01:37:37 GMT
      x-ms-return-client-request-id:
      - 'true'
    method: DELETE
    uri: https://sanitized.int.communication.azure.net/routing/distributionPolicies/sanitized?api-version=2021-10-20-preview2
  response:
    body:
      string: ''
    headers:
      api-supported-versions: 2021-04-07-preview1, 2021-10-20-preview2
      date: Fri, 06 May 2022 01:37:28 GMT
      request-context: appId=
      trace-id: 57920491b5253fd756e460f9e5469577
      x-cache: CONFIG_NOCACHE
    status:
      code: 204
      message: No Content
    url: https://sanitized.int.communication.azure.net/routing/distributionPolicies/sanitized?api-version=2021-10-20-preview2
version: 1
