{
  "swagger": "2.0",
  "info": {
    "title": "Azure Communication Routing Service",
    "description": "Azure Communication Routing Service",
    "version": "2021-10-20-preview2"
  },
  "paths": {
    "/routing/classificationPolicies": {
      "post": {
        "tags": [
          "ClassificationPolicies"
        ],
        "summary": "Creates a new classification policy.",
        "operationId": "JobRouter_CreateClassificationPolicy",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "classificationPolicy",
            "description": "Model of classification policy to create",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ClassificationPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "201": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ClassificationPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Creates a Classification policy": {
            "$ref": "./examples/ClassificationPolicies_CreateClassificationPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "ClassificationPolicies"
        ],
        "summary": "Retrieves existing classification policies",
        "operationId": "JobRouter_ListClassificationPolicies",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Maximum page size",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ClassificationPolicyCollection"
            }
          }
        },
        "x-ms-examples": {
          "Get Classification policies with pagination (max page size)": {
            "$ref": "./examples/ClassificationPolicies_ListClassificationPoliciesWithPageSize.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/classificationPolicies/{id}": {
      "patch": {
        "tags": [
          "ClassificationPolicies"
        ],
        "summary": "Updates a classification policy.",
        "operationId": "JobRouter_UpdateClassificationPolicy",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "The id of classification policy.",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "JSON Document contained the partial update for the classification policy.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ClassificationPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ClassificationPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Update a Classification policy": {
            "$ref": "./examples/ClassificationPolicies_UpdateClassificationPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "ClassificationPolicies"
        ],
        "summary": "Retrieves an existing classification policy by Id",
        "operationId": "JobRouter_GetClassificationPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the classification policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ClassificationPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Classification policy": {
            "$ref": "./examples/ClassificationPolicies_GetClassificationPolicy.json"
          }
        }
      },
      "delete": {
        "tags": [
          "ClassificationPolicies"
        ],
        "summary": "Delete a classification policy by Id",
        "operationId": "JobRouter_DeleteClassificationPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the classification policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Delete a Classification policy": {
            "$ref": "./examples/ClassificationPolicies_DeleteClassificationPolicy.json"
          }
        }
      }
    },
    "/routing/distributionPolicies": {
      "post": {
        "tags": [
          "DistributionPolicies"
        ],
        "summary": "Creates a new distribution policy.",
        "operationId": "JobRouter_CreateDistributionPolicy",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "distributionPolicy",
            "description": "Request to create distribution policy",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DistributionPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "201": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/DistributionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Creates a Distribution policy": {
            "$ref": "./examples/DistributionPolicies_CreateDistributionPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "DistributionPolicies"
        ],
        "summary": "Retrieves existing distribution policies",
        "operationId": "JobRouter_ListDistributionPolicies",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Maximum page size",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/DistributionPolicyCollection"
            }
          }
        },
        "x-ms-examples": {
          "Get Distribution policies with pagination (max page size)": {
            "$ref": "./examples/DistributionPolicies_ListDistributionPoliciesWithPageSize.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/distributionPolicies/{id}": {
      "patch": {
        "tags": [
          "DistributionPolicies"
        ],
        "summary": "Updates a distribution policy.",
        "operationId": "JobRouter_UpdateDistributionPolicy",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the distribution policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "Model of distribution policy properties to be patched. See also: https://datatracker.ietf.org/doc/html/rfc7386",
            "schema": {
              "$ref": "#/definitions/DistributionPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/DistributionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Update a Distribution policy": {
            "$ref": "./examples/DistributionPolicies_UpdateDistributionPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "DistributionPolicies"
        ],
        "summary": "Retrieves an existing distribution policy by Id",
        "operationId": "JobRouter_GetDistributionPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the distribution policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/DistributionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Distribution policy": {
            "$ref": "./examples/DistributionPolicies_GetDistributionPolicy.json"
          }
        }
      },
      "delete": {
        "tags": [
          "DistributionPolicies"
        ],
        "summary": "Delete a distribution policy by Id",
        "operationId": "JobRouter_DeleteDistributionPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the distribution policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Delete a Distribution policy": {
            "$ref": "./examples/DistributionPolicies_DeleteDistributionPolicy.json"
          }
        }
      }
    },
    "/routing/exceptionPolicies": {
      "post": {
        "tags": [
          "ExceptionPolicies"
        ],
        "summary": "Creates an exception policy",
        "operationId": "JobRouter_CreateExceptionPolicy",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "exceptionPolicy",
            "description": "Model of exception policy to be created",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ExceptionPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "201": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ExceptionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Create a Exception policy": {
            "$ref": "./examples/ExceptionPolicies_CreateExceptionPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "ExceptionPolicies"
        ],
        "summary": "Retrieves existing exception policies",
        "operationId": "JobRouter_ListExceptionPolicies",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Number of objects to return per page",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ExceptionPolicyCollection"
            }
          }
        },
        "x-ms-examples": {
          "Get Exception policies with pagination (max page size)": {
            "$ref": "./examples/ExceptionPolicies_ListExceptionPoliciesWithPageSize.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/exceptionPolicies/{id}": {
      "patch": {
        "tags": [
          "ExceptionPolicies"
        ],
        "summary": "Updates an exception policy",
        "operationId": "JobRouter_UpdateExceptionPolicy",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the exception policy",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "Model of exception policy to be updated",
            "schema": {
              "$ref": "#/definitions/ExceptionPolicy"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ExceptionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Update a Exception policy": {
            "$ref": "./examples/ExceptionPolicies_UpdateExceptionPolicy.json"
          }
        }
      },
      "get": {
        "tags": [
          "ExceptionPolicies"
        ],
        "summary": "Retrieves an existing exception policy by Id",
        "operationId": "JobRouter_GetExceptionPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the exception policy to retrieve",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ExceptionPolicy"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Exception policy": {
            "$ref": "./examples/ExceptionPolicies_GetExceptionPolicy.json"
          }
        }
      },
      "delete": {
        "tags": [
          "ExceptionPolicies"
        ],
        "summary": "Deletes a exception policy by Id",
        "operationId": "JobRouter_DeleteExceptionPolicy",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the exception policy to delete",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Delete a Exception policy": {
            "$ref": "./examples/ExceptionPolicies_DeleteExceptionPolicy.json"
          }
        }
      }
    },
    "/routing/jobs": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Creates a new job to be routed.",
        "operationId": "JobRouter_CreateJob",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "routerJob",
            "description": "Model of job to be created",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "201": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        },
        "x-ms-examples": {
          "Creates a new Job": {
            "$ref": "./examples/Jobs_CreateJob.json"
          }
        }
      },
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Retrieves list of jobs based on filter parameters",
        "operationId": "JobRouter_ListJobs",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "description": "(Optional) If specified, filter jobs by status.",
            "type": "string",
            "default": "all",
            "enum": [
              "all",
              "pendingClassification",
              "queued",
              "assigned",
              "completed",
              "closed",
              "cancelled",
              "classificationFailed",
              "active"
            ],
            "x-ms-enum": {
              "name": "JobStateSelector",
              "modelAsString": false
            }
          },
          {
            "in": "query",
            "name": "queueId",
            "description": "(Optional) If specified, filter jobs by queue.",
            "type": "string"
          },
          {
            "in": "query",
            "name": "channelId",
            "description": "(Optional) If specified, filter jobs by channel.",
            "type": "string"
          },
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Number of objects to return per page",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/JobCollection"
            }
          }
        },
        "x-ms-examples": {
          "Gets a list of jobs with pagination (max page size)": {
            "$ref": "./examples/Jobs_GetJobsWithPageSize.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/jobs/{id}": {
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Retrieves an existing job by Id",
        "operationId": "JobRouter_GetJob",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job to retrieve",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Job": {
            "$ref": "./examples/Jobs_GetJob.json"
          }
        }
      },
      "patch": {
        "tags": [
          "Jobs"
        ],
        "summary": "Update job by id.",
        "operationId": "JobRouter_UpdateJob",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "Request model for patching a job",
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        },
        "x-ms-examples": {
          "Update a job": {
            "$ref": "./examples/Jobs_UpdateJob.json"
          }
        }
      },
      "delete": {
        "tags": [
          "Jobs"
        ],
        "summary": "Deletes a job and all of its traces.",
        "operationId": "JobRouter_DeleteJob",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Deletes a job and all of its traces": {
            "$ref": "./examples/Jobs_DeleteJob.json"
          }
        }
      }
    },
    "/routing/jobs/{id}/reclassify": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Reclassify a job.",
        "operationId": "JobRouter_ReclassifyJob",
        "consumes": [
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "reclassifyJobRequest",
            "schema": {
              "$ref": "#/definitions/ReclassifyJobRequest"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterJob"
            }
          }
        },
        "x-ms-examples": {
          "Update a job": {
            "$ref": "./examples/Jobs_ReclassifyJob.json"
          }
        }
      }
    },
    "/routing/jobs/{id}:cancel": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Submits request to cancel an existing job by Id while supplying free-form cancellation reason.",
        "operationId": "JobRouter_CancelJobAction",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "cancelJobRequest",
            "description": "Request model for cancelling job",
            "schema": {
              "$ref": "#/definitions/CancelJobRequest"
            },
            "x-ms-client-flatten": true
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/CancelJobResponse"
            }
          }
        },
        "x-ms-examples": {
          "Cancels a job": {
            "$ref": "./examples/Jobs_RequestJobCancel.json"
          }
        }
      }
    },
    "/routing/jobs/{id}:complete": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Completes an assigned job.",
        "operationId": "JobRouter_CompleteJobAction",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "completeJobRequest",
            "description": "Request model for completing job",
            "schema": {
              "$ref": "#/definitions/CompleteJobRequest"
            },
            "x-ms-client-flatten": true
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/CompleteJobResponse"
            }
          }
        },
        "x-ms-examples": {
          "Completes a job": {
            "$ref": "./examples/Jobs_CompleteJob.json"
          }
        }
      }
    },
    "/routing/jobs/{id}:close": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Closes a completed job.",
        "operationId": "JobRouter_CloseJobAction",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "closeJobRequest",
            "description": "Request model for closing job",
            "schema": {
              "$ref": "#/definitions/CloseJobRequest"
            },
            "x-ms-client-flatten": true
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/CloseJobResponse"
            }
          },
          "202": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/CloseJobResponse"
            }
          }
        },
        "x-ms-examples": {
          "Closes a job": {
            "$ref": "./examples/Jobs_CloseJob.json"
          }
        }
      }
    },
    "/routing/jobs/{id}/position": {
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Gets a job's position details.",
        "operationId": "JobRouter_GetInQueuePosition",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the job",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/JobPositionDetails"
            }
          }
        },
        "x-ms-examples": {
          "Gets a job position in a queue": {
            "$ref": "./examples/Jobs_GetInQueuePosition.json"
          }
        }
      }
    },
    "/routing/workers/{workerId}/offers/{offerId}:accept": {
      "post": {
        "tags": [
          "Offers"
        ],
        "summary": "Accepts an offer to work on a job and returns a 409/Conflict if another agent accepted the job already.",
        "operationId": "JobRouter_AcceptJobAction",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "offerId",
            "description": "Id of the offer",
            "required": true,
            "type": "string"
          },
          {
            "in": "path",
            "name": "workerId",
            "description": "Id of the worker",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/AcceptJobOfferResponse"
            }
          }
        },
        "x-ms-examples": {
          "Accept a Job Offer": {
            "$ref": "./examples/Offers_AcceptJobOffer.json"
          }
        }
      }
    },
    "/routing/workers/{workerId}/offers/{offerId}:decline": {
      "post": {
        "tags": [
          "Offers"
        ],
        "summary": "Declines an offer to work on a job.",
        "operationId": "JobRouter_DeclineJobAction",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "offerId",
            "description": "Id of the offer",
            "required": true,
            "type": "string"
          },
          {
            "in": "path",
            "name": "workerId",
            "description": "Id of the worker",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/DeclineJobOfferResponse"
            }
          }
        },
        "x-ms-examples": {
          "Decline a Job Offer": {
            "$ref": "./examples/Offers_DeclineJobOffer.json"
          }
        }
      }
    },
    "/routing/queues": {
      "post": {
        "tags": [
          "Queues"
        ],
        "summary": "Creates a queue.",
        "operationId": "JobRouter_CreateQueue",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "jobQueue",
            "description": "Model of queue to be created",
            "required": true,
            "schema": {
              "$ref": "#/definitions/JobQueue"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "201": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/JobQueue"
            }
          }
        },
        "x-ms-examples": {
          "Create a Queue": {
            "$ref": "./examples/Queues_CreateQueue.json"
          }
        }
      },
      "get": {
        "tags": [
          "Queues"
        ],
        "summary": "Retrieves existing queues",
        "operationId": "JobRouter_ListQueues",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Number of objects to return per page",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/QueueCollection"
            }
          }
        },
        "x-ms-examples": {
          "Get Queues with pagination (max page size)": {
            "$ref": "./examples/Queues_ListQueuesWithPageSize.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/queues/{id}": {
      "patch": {
        "tags": [
          "Queues"
        ],
        "summary": "Updates a queue.",
        "operationId": "JobRouter_UpdateQueue",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the queue",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "Model of queue properties to be patched. See also: https://datatracker.ietf.org/doc/html/rfc7386",
            "schema": {
              "$ref": "#/definitions/JobQueue"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/JobQueue"
            }
          }
        },
        "x-ms-examples": {
          "Create or Update a Queue": {
            "$ref": "./examples/Queues_UpdateQueue.json"
          }
        }
      },
      "get": {
        "tags": [
          "Queues"
        ],
        "summary": "Retrieves an existing queue by Id",
        "operationId": "JobRouter_GetQueue",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the queue to retrieve",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/JobQueue"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Queue": {
            "$ref": "./examples/Queues_GetQueue.json"
          }
        }
      },
      "delete": {
        "tags": [
          "Queues"
        ],
        "summary": "Deletes a queue by Id",
        "operationId": "JobRouter_DeleteQueue",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the queue to delete",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Delete a Queue": {
            "$ref": "./examples/Queues_DeleteQueue.json"
          }
        }
      }
    },
    "/routing/queues/{id}/statistics": {
      "get": {
        "tags": [
          "Queues"
        ],
        "summary": "Retrieves a queue's statistics",
        "operationId": "JobRouter_GetQueueStatistics",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Id of the queue to retrieve statistics",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/QueueStatistics"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Queue": {
            "$ref": "./examples/Queues_GetQueueStatistics.json"
          }
        }
      }
    },
    "/routing/workers": {
      "post": {
        "tags": [
          "Workers"
        ],
        "summary": "Create a worker to process jobs.",
        "operationId": "JobRouter_CreateWorker",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "repeatability-request-id",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "in": "header",
            "name": "repeatability-first-sent",
            "description": "As described in https://docs.oasis-open.org/odata/repeatable-requests/v1.0/cs01/repeatable-requests-v1.0-cs01.html.",
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "routerWorker",
            "description": "Request to create a worker",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RouterWorker"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterWorker"
            }
          }
        },
        "x-ms-examples": {
          "Create a Worker": {
            "$ref": "./examples/Workers_CreateWorker.json"
          }
        }
      },
      "get": {
        "tags": [
          "Workers"
        ],
        "summary": "Retrieves existing workers.",
        "operationId": "JobRouter_ListWorkers",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "description": "(Optional) If specified, select workers by worker status.",
            "type": "string",
            "default": "all",
            "enum": [
              "active",
              "draining",
              "inactive",
              "all"
            ],
            "x-ms-enum": {
              "name": "WorkerStateSelector",
              "modelAsString": false
            }
          },
          {
            "in": "query",
            "name": "channelId",
            "description": "(Optional) If specified, select workers who have a channel configuration with this channel",
            "type": "string"
          },
          {
            "in": "query",
            "name": "queueId",
            "description": "(Optional) If specified, select workers who are assigned to this queue",
            "type": "string"
          },
          {
            "in": "query",
            "name": "hasCapacity",
            "description": "(Optional) If set to true, select only workers who have capacity for the channel specified by `channelId` or for any channel\r\n            if `channelId` not specified. If set to false, then will return all workers including workers without any capacity for jobs. Defaults to false.",
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "maxpagesize",
            "description": "Number of objects to return per page",
            "type": "integer",
            "format": "int32",
            "default": 20
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/WorkerCollection"
            }
          }
        },
        "x-ms-examples": {
          "List workers with pagination (max page size)": {
            "$ref": "./examples/Workers_GetWorkersWithPageSize.json"
          },
          "List available Workers by channel": {
            "$ref": "./examples/Workers_GetAvailableWorkersByChannel.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink",
          "itemName": "value"
        }
      }
    },
    "/routing/workers/{workerId}": {
      "patch": {
        "tags": [
          "Workers"
        ],
        "summary": "Updates a worker.",
        "operationId": "JobRouter_UpdateWorker",
        "consumes": [
          "application/merge-patch+json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "workerId",
            "description": "Id of the worker",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "in": "body",
            "name": "patch",
            "description": "Model of worker properties to be patched. See also: https://datatracker.ietf.org/doc/html/rfc7386",
            "schema": {
              "$ref": "#/definitions/RouterWorker"
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterWorker"
            }
          }
        },
        "x-ms-examples": {
          "Update a Worker properties": {
            "$ref": "./examples/Workers_UpdateWorker.json"
          },
          "Register a Worker": {
            "$ref": "./examples/Workers_RegisterWorker.json"
          },
          "Deregister an active Worker": {
            "$ref": "./examples/Workers_DeregisterActiveWorker.json"
          },
          "Deregister a inactive Worker": {
            "$ref": "./examples/Workers_DeregisterInactiveWorker.json"
          }
        }
      },
      "get": {
        "tags": [
          "Workers"
        ],
        "summary": "Retrieves an existing worker by Id",
        "operationId": "JobRouter_GetWorker",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "workerId",
            "description": "Id of the worker to retrieve",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RouterWorker"
            }
          }
        },
        "x-ms-examples": {
          "Get a single Worker": {
            "$ref": "./examples/Workers_GetWorker.json"
          }
        }
      },
      "delete": {
        "tags": [
          "Workers"
        ],
        "summary": "Deletes a worker and all of its traces.",
        "operationId": "JobRouter_DeleteWorker",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "workerId",
            "description": "Id of the worker to delete",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/CommunicationErrorResponse"
            }
          },
          "204": {
            "description": "Success"
          }
        },
        "x-ms-examples": {
          "Delete a Worker and all of its traces": {
            "$ref": "./examples/Workers_DeleteWorker.json"
          }
        }
      }
    }
  },
  "definitions": {
    "AcceptJobOfferResponse": {
      "required": [
        "assignmentId",
        "jobId",
        "workerId"
      ],
      "type": "object",
      "properties": {
        "assignmentId": {
          "description": "The assignment Id that assigns a worker that has accepted an offer to a job.",
          "type": "string"
        },
        "jobId": {
          "description": "The Id of the job assigned.",
          "type": "string"
        },
        "workerId": {
          "description": "The Id of the worker that has been assigned this job.",
          "type": "string"
        }
      }
    },
    "AzureFunctionRule": {
      "description": "A rule providing a binding to an HTTP Triggered Azure Function.",
      "required": [
        "functionUrl"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RouterRule"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "functionUrl": {
          "format": "uri",
          "description": "URL for Azure Function",
          "type": "string"
        },
        "credential": {
          "$ref": "#/definitions/AzureFunctionRuleCredential"
        }
      },
      "x-ms-discriminator-value": "azure-function-rule"
    },
    "AzureFunctionRuleCredential": {
      "description": "Credentials used to access Azure function rule",
      "type": "object",
      "properties": {
        "functionKey": {
          "description": "(Optional) Access key scoped to a particular function",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "appKey": {
          "description": "(Optional) Access key scoped to a Azure Function app.\r\nThis key grants access to all functions under the app.",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "clientId": {
          "description": "(Optional) Client id, when AppKey is provided\r\nIn context of Azure function, this is usually the name of the key",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        }
      }
    },
    "BestWorkerMode": {
      "description": "Jobs are distributed to the worker with the strongest abilities available.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/DistributionMode"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "scoringRule": {
          "$ref": "#/definitions/RouterRule"
        },
        "scoringRuleOptions": {
          "$ref": "#/definitions/ScoringRuleOptions"
        }
      },
      "x-ms-discriminator-value": "best-worker"
    },
    "CancelExceptionAction": {
      "description": "An action that marks a job as cancelled",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/ExceptionAction"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "note": {
          "description": "(Optional) A note that will be appended to the jobs' Notes collection with th current timestamp.",
          "maxLength": 2000,
          "minLength": 0,
          "type": "string"
        },
        "dispositionCode": {
          "description": "(Optional) Indicates the outcome of the job, populate this field with your own custom values.",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "cancel"
    },
    "CancelJobRequest": {
      "description": "Request payload for deleting a job",
      "type": "object",
      "properties": {
        "note": {
          "description": "(Optional) A note that will be appended to the jobs' Notes collection with th current timestamp.",
          "maxLength": 2000,
          "minLength": 0,
          "type": "string"
        },
        "dispositionCode": {
          "description": "Indicates the outcome of the job, populate this field with your own custom values.\r\nIf not provided, default value of \"Cancelled\" is set.",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        }
      }
    },
    "CancelJobResponse": {
      "type": "object"
    },
    "ChannelConfiguration": {
      "required": [
        "capacityCostPerJob"
      ],
      "type": "object",
      "properties": {
        "capacityCostPerJob": {
          "format": "int32",
          "description": "The amount of capacity that an instance of a job of this channel will consume of the total worker capacity.",
          "type": "integer"
        }
      }
    },
    "ClassificationPolicy": {
      "description": "A container for the rules that govern how jobs are classified.",
      "type": "object",
      "properties": {
        "id": {
          "description": "Unique identifier of this policy.",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "Friendly name of this policy.",
          "type": "string"
        },
        "fallbackQueueId": {
          "description": "The fallback queue to select if the queue selector doesn't find a match.",
          "type": "string"
        },
        "queueSelectors": {
          "description": "The queue selectors to resolve a queue for a given job.",
          "type": "array",
          "items": { }
        },
        "prioritizationRule": {
          "$ref": "#/definitions/RouterRule"
        },
        "workerSelectors": {
          "description": "The worker label selectors to attach to a given job.",
          "type": "array",
          "items": { }
        }
      }
    },
    "ClassificationPolicyCollection": {
      "description": "A paged collection of classification policies.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedClassificationPolicy"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "CloseJobRequest": {
      "description": "Request payload for completing jobs",
      "required": [
        "assignmentId"
      ],
      "type": "object",
      "properties": {
        "assignmentId": {
          "description": "The assignment within which the job is to be closed.",
          "maxLength": 50,
          "minLength": 0,
          "type": "string"
        },
        "dispositionCode": {
          "description": "Indicates the outcome of the job, populate this field with your own custom values.",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "closeTime": {
          "format": "date-time",
          "description": "If not provided, worker capacity is released immediately along with a JobClosedEvent notification.\r\nIf provided, worker capacity is released along with a JobClosedEvent notification at a future time.",
          "type": "string"
        },
        "note": {
          "description": "(Optional) A note that will be appended to the jobs' Notes collection with th current timestamp.",
          "maxLength": 2000,
          "minLength": 0,
          "type": "string"
        }
      }
    },
    "CloseJobResponse": {
      "type": "object"
    },
    "CommunicationErrorResponse": {
      "$ref": "https://github.com/Azure/azure-rest-api-specs/blob/4b3d05177ad63685fbbb69f147ab104b85ecd7f4/specification/communication/data-plane/Common/stable/2021-03-07/common.json#/definitions/CommunicationErrorResponse"
    },
    "CompleteJobRequest": {
      "description": "Request payload for completing jobs",
      "required": [
        "assignmentId"
      ],
      "type": "object",
      "properties": {
        "assignmentId": {
          "description": "The assignment within the job to complete.",
          "maxLength": 50,
          "minLength": 0,
          "type": "string"
        },
        "note": {
          "description": "(Optional) A note that will be appended to the jobs' Notes collection with th current timestamp.",
          "maxLength": 2000,
          "minLength": 0,
          "type": "string"
        }
      }
    },
    "CompleteJobResponse": {
      "type": "object"
    },
    "ConditionalQueueSelector": {
      "description": "Describes a set of label selectors that will be attached if the given condition resolves to true",
      "required": [
        "condition",
        "labelSelectors"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/QueueSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "condition": {
          "$ref": "#/definitions/RouterRule"
        },
        "labelSelectors": {
          "description": "The label selectors to attach",
          "type": "array",
          "items": {
            "$ref": "#/definitions/QueueSelector"
          }
        }
      },
      "x-ms-discriminator-value": "conditional"
    },
    "ConditionalWorkerSelector": {
      "description": "Describes a set of label selectors that will be attached if the given condition resolves to true",
      "required": [
        "condition",
        "labelSelectors"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/WorkerSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "condition": {
          "$ref": "#/definitions/RouterRule"
        },
        "labelSelectors": {
          "description": "The label selectors to attach",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          }
        }
      },
      "x-ms-discriminator-value": "conditional"
    },
    "DeclineJobOfferResponse": {
      "type": "object"
    },
    "DirectMapRule": {
      "description": "A rule that return the same labels as the input labels.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RouterRule"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "direct-map-rule"
    },
    "DistributionMode": {
      "description": "Abstract base class for defining a distribution mode",
      "required": [
        "kind",
        "maxConcurrentOffers",
        "minConcurrentOffers"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing a sub-type of Mode",
          "type": "string"
        },
        "minConcurrentOffers": {
          "format": "int32",
          "description": "Governs the minimum desired number of active concurrent offers a job can have.",
          "type": "integer"
        },
        "maxConcurrentOffers": {
          "format": "int32",
          "description": "Governs the maximum number of active concurrent offers a job can have.",
          "type": "integer"
        },
        "bypassSelectors": {
          "description": "(Optional)\r\nIf set to true, then router will match workers to jobs even if they don't match label selectors.\r\nWarning: You may get workers that are not qualified for the job they are matched with if you set this\r\nvariable to true. This flag is intended more for temporary usage.\r\nBy default, set to false.",
          "type": "boolean"
        }
      },
      "discriminator": "kind"
    },
    "DistributionPolicy": {
      "description": "Policy governing how jobs are distributed to workers",
      "required": [
        "mode",
        "offerTTLSeconds"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The unique identifier of the policy.",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "The human readable name of the policy.",
          "type": "string"
        },
        "offerTTLSeconds": {
          "format": "double",
          "description": "The expiry time of any offers created under this policy will be governed by the offer time to live.",
          "type": "number"
        },
        "mode": {
          "$ref": "#/definitions/DistributionMode"
        }
      }
    },
    "DistributionPolicyCollection": {
      "description": "A paged collection of distribution policies.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedDistributionPolicy"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "ExceptionAction": {
      "description": "The action to take when the exception is triggered",
      "required": [
        "kind"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing a sub-type of ExceptionAction",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "ExceptionPolicy": {
      "description": "A policy that defines actions to execute when exception are triggered.",
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of the exception policy",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "(Optional) The name of the exception policy.",
          "type": "string"
        },
        "exceptionRules": {
          "description": "(Optional) A dictionary collection of exception rules on the exception policy. Key is the Id of each exception rule.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ExceptionRule"
          }
        }
      }
    },
    "ExceptionPolicyCollection": {
      "description": "A paged collection of exception policies.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedExceptionPolicy"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "ExceptionRule": {
      "description": "A rule that defines actions to execute upon a specific trigger.",
      "required": [
        "actions",
        "trigger"
      ],
      "type": "object",
      "properties": {
        "trigger": {
          "$ref": "#/definitions/JobExceptionTrigger"
        },
        "actions": {
          "description": "A dictionary collection of actions to perform once the exception is triggered. Key is the Id of each exception action.",
          "type": "object",
          "additionalProperties": {
            "description": "The action to take when the exception is triggered"
          }
        }
      }
    },
    "ExpressionRule": {
      "description": "A rule providing inline expression rules.",
      "required": [
        "expression",
        "language"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RouterRule"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "language": {
          "description": "The expression language to compile to and execute",
          "enum": [
            "powerFx"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "ExpressionLanguage",
            "modelAsString": false
          }
        },
        "expression": {
          "description": "The string containing the expression to evaluate. Should contain return statement with calculated values.",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "expression-rule"
    },
    "JobAssignment": {
      "required": [
        "assignTime",
        "id"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of the job assignment.",
          "type": "string"
        },
        "workerId": {
          "description": "The Id of the Worker assigned to the job.",
          "type": "string"
        },
        "assignTime": {
          "format": "date-time",
          "description": "The assignment time of the job.",
          "type": "string"
        },
        "completeTime": {
          "format": "date-time",
          "description": "The time the job was marked as completed after being assigned.",
          "type": "string"
        },
        "closeTime": {
          "format": "date-time",
          "description": "The time the job was marked as closed after being completed.",
          "type": "string"
        }
      }
    },
    "JobCollection": {
      "description": "A paged collection of jobs.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedJob"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "JobExceptionTrigger": {
      "description": "The trigger for this exception rule",
      "required": [
        "kind"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing a sub-type of ExceptionTrigger",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "JobOffer": {
      "required": [
        "capacityCost",
        "id",
        "jobId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of the offer.",
          "type": "string"
        },
        "jobId": {
          "description": "The Id of the job.",
          "type": "string"
        },
        "capacityCost": {
          "format": "int32",
          "description": "The capacity cost consumed by the job offer.",
          "type": "integer"
        },
        "offerTimeUtc": {
          "format": "date-time",
          "description": "The time the offer was created.",
          "type": "string"
        },
        "expiryTimeUtc": {
          "format": "date-time",
          "description": "The time that the offer will expire.",
          "type": "string"
        }
      }
    },
    "JobPositionDetails": {
      "description": "Dto for JobPositionDetails.",
      "required": [
        "estimatedWaitTimeMinutes",
        "jobId",
        "position",
        "queueId",
        "queueLength"
      ],
      "type": "object",
      "properties": {
        "jobId": {
          "description": "Id of the job these details are about.",
          "type": "string"
        },
        "position": {
          "format": "int32",
          "description": "Position of the job in question within that queue.",
          "type": "integer"
        },
        "queueId": {
          "description": "Id of the queue this job is enqueued in.",
          "type": "string"
        },
        "queueLength": {
          "format": "int32",
          "description": "Length of the queue: total number of enqueued jobs.",
          "type": "integer"
        },
        "estimatedWaitTimeMinutes": {
          "format": "double",
          "description": "Estimated wait time of the job rounded up to the nearest minute",
          "type": "number"
        }
      }
    },
    "JobQueue": {
      "description": "A queue that can contain jobs to be routed.",
      "required": [
        "distributionPolicyId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of this queue",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "The name of this queue.",
          "type": "string"
        },
        "distributionPolicyId": {
          "description": "The ID of the distribution policy that will determine how a job is distributed to workers.",
          "type": "string"
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "exceptionPolicyId": {
          "description": "(Optional) The ID of the exception policy that determines various job escalation rules.",
          "type": "string"
        }
      }
    },
    "LongestIdleMode": {
      "description": "Jobs are directed to the worker who has been idle longest.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/DistributionMode"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "longest-idle"
    },
    "ManualReclassifyExceptionAction": {
      "description": "An action that manually reclassifies a job by providing the queue, priority and worker selectors.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/ExceptionAction"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "queueId": {
          "description": "Updated QueueId.",
          "maxLength": 50,
          "minLength": 0,
          "type": "string"
        },
        "priority": {
          "format": "int32",
          "description": "Updated Priority.",
          "type": "integer"
        },
        "workerSelectors": {
          "description": "Updated WorkerSelectors.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          }
        }
      },
      "x-ms-discriminator-value": "manual-reclassify"
    },
    "PagedClassificationPolicy": {
      "type": "object",
      "properties": {
        "id": {
          "description": "Unique identifier of this policy.",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "Friendly name of this policy.",
          "type": "string"
        },
        "fallbackQueueId": {
          "description": "The fallback queue to select if the queue selector doesn't find a match.",
          "type": "string"
        },
        "queueSelectors": {
          "description": "The queue selectors to resolve a queue for a given job.",
          "type": "array",
          "items": { }
        },
        "prioritizationRule": {
          "$ref": "#/definitions/RouterRule"
        },
        "workerSelectors": {
          "description": "The worker label selectors to attach to a given job.",
          "type": "array",
          "items": { }
        }
      }
    },
    "PagedDistributionPolicy": {
      "required": [
        "mode",
        "offerTTLSeconds"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The unique identifier of the policy.",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "The human readable name of the policy.",
          "type": "string"
        },
        "offerTTLSeconds": {
          "format": "double",
          "description": "The expiry time of any offers created under this policy will be governed by the offer time to live.",
          "type": "number"
        },
        "mode": {
          "$ref": "#/definitions/DistributionMode"
        }
      }
    },
    "PagedExceptionPolicy": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of the exception policy",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "(Optional) The name of the exception policy.",
          "type": "string"
        },
        "exceptionRules": {
          "description": "(Optional) A dictionary collection of exception rules on the exception policy. Key is the Id of each exception rule.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ExceptionRule"
          }
        }
      }
    },
    "PagedJob": {
      "required": [
        "channelId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The id of the job.",
          "type": "string",
          "readOnly": true
        },
        "channelReference": {
          "description": "Reference to an external parent context, eg. call ID.",
          "type": "string"
        },
        "jobStatus": {
          "description": "The state of the Job.",
          "enum": [
            "pendingClassification",
            "queued",
            "assigned",
            "completed",
            "closed",
            "cancelled",
            "classificationFailed"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "JobStatus",
            "modelAsString": false
          }
        },
        "enqueueTimeUtc": {
          "format": "date-time",
          "description": "The time a job was queued.",
          "type": "string",
          "readOnly": true
        },
        "channelId": {
          "description": "The channel identifier. eg. voice, chat, etc.",
          "type": "string"
        },
        "classificationPolicyId": {
          "description": "The Id of the Classification policy used for classifying a job.",
          "type": "string"
        },
        "queueId": {
          "description": "The Id of the Queue that this job is queued to.",
          "type": "string"
        },
        "priority": {
          "format": "int32",
          "description": "The priority of this job.",
          "type": "integer"
        },
        "dispositionCode": {
          "description": "Reason code for cancelled or closed jobs.",
          "type": "string"
        },
        "requestedWorkerSelectors": {
          "description": "A collection of manually specified label selectors, which a worker must satisfy in order to process this job.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          }
        },
        "attachedWorkerSelectors": {
          "description": "A collection of label selectors attached by a classification policy, which a worker must satisfy in order to process this job.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          },
          "readOnly": true
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "assignments": {
          "description": "A collection of the assignments of the job.\r\nKey is AssignmentId.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/JobAssignment"
          },
          "readOnly": true
        },
        "tags": {
          "description": "A set of non-identifying attributes attached to this job",
          "type": "object",
          "additionalProperties": { }
        },
        "notes": {
          "description": "Notes attached to a job, sorted by timestamp",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      }
    },
    "PagedQueue": {
      "required": [
        "distributionPolicyId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of this queue",
          "type": "string",
          "readOnly": true
        },
        "name": {
          "description": "The name of this queue.",
          "type": "string"
        },
        "distributionPolicyId": {
          "description": "The ID of the distribution policy that will determine how a job is distributed to workers.",
          "type": "string"
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "exceptionPolicyId": {
          "description": "(Optional) The ID of the exception policy that determines various job escalation rules.",
          "type": "string"
        }
      }
    },
    "PagedWorker": {
      "required": [
        "totalCapacity"
      ],
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "readOnly": true
        },
        "state": {
          "description": "The current state of the worker.",
          "enum": [
            "active",
            "draining",
            "inactive"
          ],
          "type": "string",
          "readOnly": true
        },
        "queueAssignments": {
          "description": "The queue(s) that this worker can receive work from.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/QueueAssignment"
          }
        },
        "totalCapacity": {
          "format": "int32",
          "description": "The total capacity score this worker has to manage multiple concurrent jobs.",
          "type": "integer"
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "tags": {
          "description": "A set of non-identifying attributes attached to this worker.",
          "type": "object",
          "additionalProperties": { }
        },
        "channelConfigurations": {
          "description": "The channel(s) this worker can handle and their impact on the workers capacity.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ChannelConfiguration"
          }
        },
        "offers": {
          "description": "A list of active offers issued to this worker.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/JobOffer"
          },
          "readOnly": true
        },
        "assignedJobs": {
          "description": "A list of assigned jobs attached to this worker.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerAssignment"
          },
          "readOnly": true
        },
        "loadRatio": {
          "format": "double",
          "description": "A value indicating the workers capacity. A value of '1' means all capacity is consumed. A value of '0' means no capacity is currently consumed.",
          "type": "number",
          "readOnly": true
        },
        "availableForOffers": {
          "description": "A flag indicating this worker is open to receive offers or not.",
          "type": "boolean"
        }
      }
    },
    "PassThroughQueueSelector": {
      "description": "Attaches a label selector where the value is pass through from the job label with the same key",
      "required": [
        "key",
        "labelOperator"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/QueueSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "key": {
          "description": "The label key to query against",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "labelOperator": {
          "description": "Describes how the value of the label is compared to the value pass through",
          "enum": [
            "equal",
            "notEqual",
            "lessThan",
            "lessThanEqual",
            "greaterThan",
            "greaterThanEqual"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "LabelOperator",
            "modelAsString": false
          }
        }
      },
      "x-ms-discriminator-value": "pass-through"
    },
    "PassThroughWorkerSelector": {
      "description": "Attaches a label selector where the value is pass through from the job label with the same key",
      "required": [
        "key",
        "labelOperator"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/WorkerSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "key": {
          "description": "The label key to query against",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "labelOperator": {
          "description": "Describes how the value of the label is compared to the value pass through",
          "enum": [
            "equal",
            "notEqual",
            "lessThan",
            "lessThanEqual",
            "greaterThan",
            "greaterThanEqual"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "LabelOperator",
            "modelAsString": false
          }
        },
        "ttlSeconds": {
          "format": "double",
          "description": "Describes how long the attached label selector is valid in seconds.",
          "type": "number"
        }
      },
      "x-ms-discriminator-value": "pass-through"
    },
    "QueueAssignment": {
      "description": "An assignment of a worker to a queue",
      "type": "object"
    },
    "QueueCollection": {
      "description": "A paged collection of queues.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedQueue"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "QueueLengthExceptionTrigger": {
      "description": "Trigger for an exception action on exceeding queue length",
      "required": [
        "threshold"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/JobExceptionTrigger"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "threshold": {
          "format": "int32",
          "description": "Threshold of number of jobs ahead in the queue to for this trigger to fire.",
          "type": "integer"
        }
      },
      "x-ms-discriminator-value": "queue-length"
    },
    "QueueSelector": {
      "required": [
        "key",
        "labelOperator"
      ],
      "type": "object",
      "properties": {
        "key": {
          "description": "The label key to query against",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "labelOperator": {
          "description": "Describes how the value of the label is compared to the value defined on the label selector",
          "enum": [
            "equal",
            "notEqual",
            "lessThan",
            "lessThanEqual",
            "greaterThan",
            "greaterThanEqual"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "LabelOperator",
            "modelAsString": false
          }
        },
        "value": {
          "description": "The value to compare against the actual label value with the given operator",
          "type": "object"
        }
      }
    },
    "QueueSelectorAttachment": {
      "required": [
        "kind"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing the type of label selector attachment",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "QueueStatistics": {
      "description": "Statistics for the queue",
      "required": [
        "length",
        "queueId"
      ],
      "type": "object",
      "properties": {
        "queueId": {
          "description": "Id of the queue these details are about.",
          "type": "string"
        },
        "length": {
          "format": "int32",
          "description": "Length of the queue: total number of enqueued jobs.",
          "type": "integer"
        },
        "estimatedWaitTimeMinutes": {
          "description": "The estimated wait time of this queue rounded up to the nearest minute, grouped by job priority",
          "type": "object",
          "additionalProperties": {
            "format": "double",
            "type": "number"
          }
        },
        "longestJobWaitTimeMinutes": {
          "format": "double",
          "description": "The wait time of the job that has been enqueued in this queue for the longest.",
          "type": "number"
        }
      }
    },
    "QueueWeightedAllocation": {
      "required": [
        "labelSelectors",
        "weight"
      ],
      "type": "object",
      "properties": {
        "weight": {
          "format": "double",
          "description": "The percentage of this weight, expressed as a fraction of 1.",
          "type": "number"
        },
        "labelSelectors": {
          "description": "A collection of label selectors that will be applied if this allocation is selected.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/QueueSelector"
          }
        }
      }
    },
    "ReclassifyExceptionAction": {
      "description": "An action that modifies labels on a job and then reclassifies it",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/ExceptionAction"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "classificationPolicyId": {
          "description": "(optional) The new classification policy that will determine queue, priority and worker selectors.",
          "maxLength": 50,
          "minLength": 0,
          "type": "string"
        },
        "labelsToUpsert": {
          "description": "(optional) Dictionary containing the labels to update (or add if not existing) in key-value pairs",
          "type": "object",
          "additionalProperties": { }
        }
      },
      "x-ms-discriminator-value": "reclassify"
    },
    "ReclassifyJobRequest": {
      "type": "object"
    },
    "RoundRobinMode": {
      "description": "Jobs are distributed in order to workers, starting with the worker that is after the last worker to receive a job.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/DistributionMode"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "round-robin"
    },
    "RouterJob": {
      "description": "A unit of work to be routed",
      "required": [
        "channelId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The id of the job.",
          "type": "string",
          "readOnly": true
        },
        "channelReference": {
          "description": "Reference to an external parent context, eg. call ID.",
          "type": "string"
        },
        "jobStatus": {
          "description": "The state of the Job.",
          "enum": [
            "pendingClassification",
            "queued",
            "assigned",
            "completed",
            "closed",
            "cancelled",
            "classificationFailed"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "JobStatus",
            "modelAsString": false
          }
        },
        "enqueueTimeUtc": {
          "format": "date-time",
          "description": "The time a job was queued.",
          "type": "string",
          "readOnly": true
        },
        "channelId": {
          "description": "The channel identifier. eg. voice, chat, etc.",
          "type": "string"
        },
        "classificationPolicyId": {
          "description": "The Id of the Classification policy used for classifying a job.",
          "type": "string"
        },
        "queueId": {
          "description": "The Id of the Queue that this job is queued to.",
          "type": "string"
        },
        "priority": {
          "format": "int32",
          "description": "The priority of this job.",
          "type": "integer"
        },
        "dispositionCode": {
          "description": "Reason code for cancelled or closed jobs.",
          "type": "string"
        },
        "requestedWorkerSelectors": {
          "description": "A collection of manually specified label selectors, which a worker must satisfy in order to process this job.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          }
        },
        "attachedWorkerSelectors": {
          "description": "A collection of label selectors attached by a classification policy, which a worker must satisfy in order to process this job.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          },
          "readOnly": true
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "assignments": {
          "description": "A collection of the assignments of the job.\r\nKey is AssignmentId.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/JobAssignment"
          },
          "readOnly": true
        },
        "tags": {
          "description": "A set of non-identifying attributes attached to this job",
          "type": "object",
          "additionalProperties": { }
        },
        "notes": {
          "description": "Notes attached to a job, sorted by timestamp",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      }
    },
    "RouterRule": {
      "description": "A rule of one of the following types:\r\n            \r\nStaticRule:  A rule providing static rules that always return the same result, regardless of input.\r\nDirectMapRule:  A rule that return the same labels as the input labels.\r\nExpressionRule: A rule providing inline expression rules.\r\nAzureFunctionRule: A rule providing a binding to an HTTP Triggered Azure Function.",
      "required": [
        "kind"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing a sub-type of Rule",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "RouterWorker": {
      "required": [
        "totalCapacity"
      ],
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "readOnly": true
        },
        "state": {
          "description": "The current state of the worker.",
          "enum": [
            "active",
            "draining",
            "inactive"
          ],
          "type": "string",
          "readOnly": true
        },
        "queueAssignments": {
          "description": "The queue(s) that this worker can receive work from.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/QueueAssignment"
          }
        },
        "totalCapacity": {
          "format": "int32",
          "description": "The total capacity score this worker has to manage multiple concurrent jobs.",
          "type": "integer"
        },
        "labels": {
          "description": "A set of key/value pairs that are identifying attributes used by the rules engines to make decisions.",
          "type": "object",
          "additionalProperties": { }
        },
        "tags": {
          "description": "A set of non-identifying attributes attached to this worker.",
          "type": "object",
          "additionalProperties": { }
        },
        "channelConfigurations": {
          "description": "The channel(s) this worker can handle and their impact on the workers capacity.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ChannelConfiguration"
          }
        },
        "offers": {
          "description": "A list of active offers issued to this worker.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/JobOffer"
          },
          "readOnly": true
        },
        "assignedJobs": {
          "description": "A list of assigned jobs attached to this worker.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerAssignment"
          },
          "readOnly": true
        },
        "loadRatio": {
          "format": "double",
          "description": "A value indicating the workers capacity. A value of '1' means all capacity is consumed. A value of '0' means no capacity is currently consumed.",
          "type": "number",
          "readOnly": true
        },
        "availableForOffers": {
          "description": "A flag indicating this worker is open to receive offers or not.",
          "type": "boolean"
        }
      }
    },
    "RuleEngineQueueSelector": {
      "required": [
        "rule"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/QueueSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "rule": {
          "$ref": "#/definitions/RouterRule"
        }
      },
      "x-ms-discriminator-value": "rule-engine"
    },
    "RuleEngineWorkerSelector": {
      "required": [
        "rule"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/WorkerSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "rule": {
          "$ref": "#/definitions/RouterRule"
        }
      },
      "x-ms-discriminator-value": "rule-engine"
    },
    "ScoringRuleOptions": {
      "description": "Encapsulates all options that can be passed as parameters for scoring rule with BestWorkerMode",
      "type": "object",
      "properties": {
        "batchSize": {
          "format": "int32",
          "description": "(Optional) Set batch size when AllowScoringBatchOfWorkers is set to true",
          "type": "integer"
        },
        "scoringParameters": {
          "description": "(Optional) List of extra parameters from the job that will be sent as part of the payload to scoring rule.\r\nIf not set, the job's labels (sent in the payload as `job`) and the job's worker selectors (sent in the payload as `selectors`)\r\nare added to the payload of the scoring rule by default.\r\nNote: Worker labels are always sent with scoring payload.",
          "type": "array",
          "items": {
            "description": "Supported parameters for scoring workers",
            "enum": [
              "jobLabels",
              "workerSelectors"
            ],
            "type": "string",
            "x-ms-enum": {
              "name": "ScoringRuleParameterSelector",
              "modelAsString": false
            }
          }
        },
        "allowScoringBatchOfWorkers": {
          "description": "(Optional)\r\nIf set to true, will score workers in batches, and the parameter name of the worker labels will be sent as `workers`.\r\nBy default, set to false and the parameter name for the worker labels will be sent as `worker`.\r\nNote: If enabled, use BatchSize to set batch size.",
          "type": "boolean"
        },
        "descendingOrder": {
          "description": "(Optional)\r\nIf false, will sort scores by ascending order. By default, set to true.",
          "type": "boolean"
        }
      }
    },
    "StaticQueueSelector": {
      "description": "Describes a label selector that will always be attached",
      "required": [
        "labelSelector"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/QueueSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "labelSelector": {
          "$ref": "#/definitions/QueueSelector"
        }
      },
      "x-ms-discriminator-value": "static"
    },
    "StaticRule": {
      "description": "A rule providing static rules that always return the same result, regardless of input.",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RouterRule"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "value": {
          "description": "The static value this rule always returns.",
          "maxLength": 500,
          "minLength": 0,
          "type": "object"
        }
      },
      "x-ms-discriminator-value": "static-rule"
    },
    "StaticWorkerSelector": {
      "description": "Describes a label selector that will always be attached",
      "required": [
        "labelSelector"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/WorkerSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "labelSelector": {
          "$ref": "#/definitions/WorkerSelector"
        }
      },
      "x-ms-discriminator-value": "static"
    },
    "WaitTimeExceptionTrigger": {
      "description": "Trigger for an exception action on exceeding wait time",
      "required": [
        "threshold"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/JobExceptionTrigger"
        }
      ],
      "properties": {
        "kind": {
          "type": "string"
        },
        "threshold": {
          "description": "Threshold for wait time for this trigger. Requires input conforming to ISO8601 duration format.",
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "wait-time"
    },
    "WeightedAllocationQueueSelector": {
      "description": "Describes multiple sets of label selectors, of which one will be selected and attached according to a weighting",
      "required": [
        "allocations"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/QueueSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "allocations": {
          "description": "A collection of percentage based weighted allocations.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/QueueWeightedAllocation"
          }
        }
      },
      "x-ms-discriminator-value": "weighted-allocation-queue-selector"
    },
    "WeightedAllocationWorkerSelector": {
      "description": "Describes multiple sets of label selectors, of which one will be selected and attached according to a weighting",
      "required": [
        "allocations"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/WorkerSelectorAttachment"
        }
      ],
      "properties": {
        "kind": {
          "type": "string",
          "readOnly": true
        },
        "allocations": {
          "description": "A collection of percentage based weighted allocations.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerWeightedAllocation"
          }
        }
      },
      "x-ms-discriminator-value": "weighted-allocation-worker-selector"
    },
    "WorkerAssignment": {
      "required": [
        "assignTime",
        "capacityCost",
        "id",
        "jobId"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of the assignment.",
          "type": "string"
        },
        "jobId": {
          "description": "The Id of the Job assigned.",
          "type": "string"
        },
        "capacityCost": {
          "format": "int32",
          "description": "The amount of capacity this assignment has consumed on the worker.",
          "type": "integer"
        },
        "assignTime": {
          "format": "date-time",
          "description": "The assignment time of the job.",
          "type": "string"
        }
      }
    },
    "WorkerCollection": {
      "description": "A paged collection of workers.",
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PagedWorker"
          }
        },
        "nextLink": {
          "type": "string",
          "readOnly": true
        }
      }
    },
    "WorkerSelector": {
      "required": [
        "key",
        "labelOperator"
      ],
      "type": "object",
      "properties": {
        "key": {
          "description": "The label key to query against",
          "maxLength": 500,
          "minLength": 0,
          "type": "string"
        },
        "labelOperator": {
          "description": "Describes how the value of the label is compared to the value defined on the label selector",
          "enum": [
            "equal",
            "notEqual",
            "lessThan",
            "lessThanEqual",
            "greaterThan",
            "greaterThanEqual"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "LabelOperator",
            "modelAsString": false
          }
        },
        "value": {
          "description": "The value to compare against the actual label value with the given operator",
          "type": "object"
        },
        "ttlSeconds": {
          "format": "double",
          "description": "Describes how long this label selector is valid in seconds.",
          "type": "number"
        },
        "expedite": {
          "description": "Pushes the job to the front of the queue as long as this selector is active.",
          "type": "boolean"
        }
      }
    },
    "WorkerSelectorAttachment": {
      "required": [
        "kind"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "The type discriminator describing the type of label selector attachment",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "WorkerWeightedAllocation": {
      "required": [
        "labelSelectors",
        "weight"
      ],
      "type": "object",
      "properties": {
        "weight": {
          "format": "double",
          "description": "The percentage of this weight, expressed as a fraction of 1.",
          "type": "number"
        },
        "labelSelectors": {
          "description": "A collection of label selectors that will be applied if this allocation is selected.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/WorkerSelector"
          }
        }
      }
    }
  },
  "parameters": {
    "ApiVersionParameter": {
      "in": "query",
      "name": "api-version",
      "description": "Version of API to invoke.",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method"
    },
    "Endpoint": {
      "in": "path",
      "name": "endpoint",
      "description": "The endpoint of the Azure Communication resource.",
      "required": true,
      "type": "string",
      "x-ms-skip-url-encoding": true,
      "x-ms-parameter-location": "client"
    }
  },
  "x-ms-parameterized-host": {
    "hostTemplate": "{endpoint}",
    "useSchemePrefix": false,
    "parameters": [
      {
        "$ref": "#/parameters/Endpoint"
      }
    ]
  }
}