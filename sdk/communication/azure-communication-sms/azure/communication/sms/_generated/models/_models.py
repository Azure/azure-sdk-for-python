# coding=utf-8
# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is regenerated.
# --------------------------------------------------------------------------

from collections.abc import MutableMapping
import datetime
from typing import Any, Optional, TYPE_CHECKING, Union

from .._utils import serialization as _serialization

if TYPE_CHECKING:
    from .. import models as _models
JSON = MutableMapping[str, Any]


class DeliveryAttempt(_serialization.Model):
    """Details of a delivery attempt.

    All required parameters must be populated in order to send to server.

    :ivar timestamp: The timestamp of the delivery attempt. Required.
    :vartype timestamp: ~datetime.datetime
    :ivar segments_succeeded: Number of message segments that were successfully delivered.
     Required.
    :vartype segments_succeeded: int
    :ivar segments_failed: Number of message segments that failed to be delivered. Required.
    :vartype segments_failed: int
    """

    _validation = {
        "timestamp": {"required": True},
        "segments_succeeded": {"required": True, "minimum": 0},
        "segments_failed": {"required": True, "minimum": 0},
    }

    _attribute_map = {
        "timestamp": {"key": "timestamp", "type": "iso-8601"},
        "segments_succeeded": {"key": "segmentsSucceeded", "type": "int"},
        "segments_failed": {"key": "segmentsFailed", "type": "int"},
    }

    def __init__(
        self, *, timestamp: datetime.datetime, segments_succeeded: int, segments_failed: int, **kwargs: Any
    ) -> None:
        """
        :keyword timestamp: The timestamp of the delivery attempt. Required.
        :paramtype timestamp: ~datetime.datetime
        :keyword segments_succeeded: Number of message segments that were successfully delivered.
         Required.
        :paramtype segments_succeeded: int
        :keyword segments_failed: Number of message segments that failed to be delivered. Required.
        :paramtype segments_failed: int
        """
        super().__init__(**kwargs)
        self.timestamp = timestamp
        self.segments_succeeded = segments_succeeded
        self.segments_failed = segments_failed


class DeliveryReport(_serialization.Model):
    """Delivery report for an outgoing SMS message.

    All required parameters must be populated in order to send to server.

    :ivar delivery_status: The delivery status of the message. Required. Known values are:
     "Delivered" and "Failed".
    :vartype delivery_status: str or ~azure.communication.sms.models.DeliveryReportDeliveryStatus
    :ivar delivery_status_details: Detailed information about the delivery status.
    :vartype delivery_status_details: str
    :ivar delivery_attempts: Array of delivery attempts made for this message.
    :vartype delivery_attempts: list[~azure.communication.sms.models.DeliveryAttempt]
    :ivar received_timestamp: The timestamp when the delivery report was received.
    :vartype received_timestamp: ~datetime.datetime
    :ivar tag: Custom tag provided when sending the message.
    :vartype tag: str
    :ivar messaging_connect_partner_message_id: Message ID generated by Messaging Connect Partner.
     Only present for delivery reports created during Messaging Connect flow.
    :vartype messaging_connect_partner_message_id: str
    :ivar message_id: The identifier of the outgoing message. Required.
    :vartype message_id: str
    :ivar from_property: The sender's phone number in E.164 format. Required.
    :vartype from_property: str
    :ivar to: The recipient's phone number in E.164 format. Required.
    :vartype to: str
    """

    _validation = {
        "delivery_status": {"required": True},
        "message_id": {"required": True},
        "from_property": {"required": True},
        "to": {"required": True},
    }

    _attribute_map = {
        "delivery_status": {"key": "deliveryStatus", "type": "str"},
        "delivery_status_details": {"key": "deliveryStatusDetails", "type": "str"},
        "delivery_attempts": {"key": "deliveryAttempts", "type": "[DeliveryAttempt]"},
        "received_timestamp": {"key": "receivedTimestamp", "type": "iso-8601"},
        "tag": {"key": "tag", "type": "str"},
        "messaging_connect_partner_message_id": {"key": "messagingConnectPartnerMessageId", "type": "str"},
        "message_id": {"key": "messageId", "type": "str"},
        "from_property": {"key": "from", "type": "str"},
        "to": {"key": "to", "type": "str"},
    }

    def __init__(
        self,
        *,
        delivery_status: Union[str, "_models.DeliveryReportDeliveryStatus"],
        message_id: str,
        from_property: str,
        to: str,
        delivery_status_details: Optional[str] = None,
        delivery_attempts: Optional[list["_models.DeliveryAttempt"]] = None,
        received_timestamp: Optional[datetime.datetime] = None,
        tag: Optional[str] = None,
        messaging_connect_partner_message_id: Optional[str] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword delivery_status: The delivery status of the message. Required. Known values are:
         "Delivered" and "Failed".
        :paramtype delivery_status: str or ~azure.communication.sms.models.DeliveryReportDeliveryStatus
        :keyword delivery_status_details: Detailed information about the delivery status.
        :paramtype delivery_status_details: str
        :keyword delivery_attempts: Array of delivery attempts made for this message.
        :paramtype delivery_attempts: list[~azure.communication.sms.models.DeliveryAttempt]
        :keyword received_timestamp: The timestamp when the delivery report was received.
        :paramtype received_timestamp: ~datetime.datetime
        :keyword tag: Custom tag provided when sending the message.
        :paramtype tag: str
        :keyword messaging_connect_partner_message_id: Message ID generated by Messaging Connect
         Partner. Only present for delivery reports created during Messaging Connect flow.
        :paramtype messaging_connect_partner_message_id: str
        :keyword message_id: The identifier of the outgoing message. Required.
        :paramtype message_id: str
        :keyword from_property: The sender's phone number in E.164 format. Required.
        :paramtype from_property: str
        :keyword to: The recipient's phone number in E.164 format. Required.
        :paramtype to: str
        """
        super().__init__(**kwargs)
        self.delivery_status = delivery_status
        self.delivery_status_details = delivery_status_details
        self.delivery_attempts = delivery_attempts
        self.received_timestamp = received_timestamp
        self.tag = tag
        self.messaging_connect_partner_message_id = messaging_connect_partner_message_id
        self.message_id = message_id
        self.from_property = from_property
        self.to = to


class MessagingConnectOptions(_serialization.Model):
    """Defines optional parameters for connecting with the Messaging Connect Partner to deliver SMS.

    All required parameters must be populated in order to send to server.

    :ivar partner: Specifies the partner name for message delivery. Required.
    :vartype partner: str
    :ivar partner_params: Partner-specific parameters as key-value pairs. Must contain at least one
     parameter required by the messaging connect partner (e.g., apiKey, servicePlanId, authToken,
     etc.). Required.
    :vartype partner_params: JSON
    """

    _validation = {
        "partner": {"required": True},
        "partner_params": {"required": True},
    }

    _attribute_map = {
        "partner": {"key": "partner", "type": "str"},
        "partner_params": {"key": "partnerParams", "type": "object"},
    }

    def __init__(self, *, partner: str, partner_params: JSON, **kwargs: Any) -> None:
        """
        :keyword partner: Specifies the partner name for message delivery. Required.
        :paramtype partner: str
        :keyword partner_params: Partner-specific parameters as key-value pairs. Must contain at least
         one parameter required by the messaging connect partner (e.g., apiKey, servicePlanId,
         authToken, etc.). Required.
        :paramtype partner_params: JSON
        """
        super().__init__(**kwargs)
        self.partner = partner
        self.partner_params = partner_params


class OptOutRecipient(_serialization.Model):
    """A single opt out recipient number.

    All required parameters must be populated in order to send to server.

    :ivar to: The recipient's phone number (in E.164 format). Required.
    :vartype to: str
    """

    _validation = {
        "to": {"required": True, "min_length": 1},
    }

    _attribute_map = {
        "to": {"key": "to", "type": "str"},
    }

    def __init__(self, *, to: str, **kwargs: Any) -> None:
        """
        :keyword to: The recipient's phone number (in E.164 format). Required.
        :paramtype to: str
        """
        super().__init__(**kwargs)
        self.to = to


class OptOutRequest(_serialization.Model):
    """An opt out request.

    All required parameters must be populated in order to send to server.

    :ivar from_property: The sender's identifier (typically phone number in E.164 format) that is
     owned by the authenticated account. Required.
    :vartype from_property: str
    :ivar recipients: Required.
    :vartype recipients: list[~azure.communication.sms.models.OptOutRecipient]
    """

    _validation = {
        "from_property": {"required": True, "min_length": 1},
        "recipients": {"required": True, "max_items": 100, "min_items": 1},
    }

    _attribute_map = {
        "from_property": {"key": "from", "type": "str"},
        "recipients": {"key": "recipients", "type": "[OptOutRecipient]"},
    }

    def __init__(self, *, from_property: str, recipients: list["_models.OptOutRecipient"], **kwargs: Any) -> None:
        """
        :keyword from_property: The sender's identifier (typically phone number in E.164 format) that
         is owned by the authenticated account. Required.
        :paramtype from_property: str
        :keyword recipients: Required.
        :paramtype recipients: list[~azure.communication.sms.models.OptOutRecipient]
        """
        super().__init__(**kwargs)
        self.from_property = from_property
        self.recipients = recipients


class OptOutResponse(_serialization.Model):
    """Response for an opt out request. Validate the returned items in the response to see which
    recipients were successfully added or removed from the opt outs list.

    All required parameters must be populated in order to send to server.

    :ivar value: Required.
    :vartype value: list[~azure.communication.sms.models.OptOutResponseItem]
    """

    _validation = {
        "value": {"required": True},
    }

    _attribute_map = {
        "value": {"key": "value", "type": "[OptOutResponseItem]"},
    }

    def __init__(self, *, value: list["_models.OptOutResponseItem"], **kwargs: Any) -> None:
        """
        :keyword value: Required.
        :paramtype value: list[~azure.communication.sms.models.OptOutResponseItem]
        """
        super().__init__(**kwargs)
        self.value = value


class OptOutResponseItem(_serialization.Model):
    """OptOutResponseItem.

    All required parameters must be populated in order to send to server.

    :ivar to: The recipient phone number (in E.164 format). Required.
    :vartype to: str
    :ivar http_status_code: Required.
    :vartype http_status_code: int
    :ivar is_opted_out: Optional flag specifying if number was Opted Out from receiving messages.
    :vartype is_opted_out: bool
    :ivar error_message: Optional error message in case of 4xx/5xx errors.
    :vartype error_message: str
    """

    _validation = {
        "to": {"required": True, "min_length": 1},
        "http_status_code": {"required": True},
    }

    _attribute_map = {
        "to": {"key": "to", "type": "str"},
        "http_status_code": {"key": "httpStatusCode", "type": "int"},
        "is_opted_out": {"key": "isOptedOut", "type": "bool"},
        "error_message": {"key": "errorMessage", "type": "str"},
    }

    def __init__(
        self,
        *,
        to: str,
        http_status_code: int,
        is_opted_out: Optional[bool] = None,
        error_message: Optional[str] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword to: The recipient phone number (in E.164 format). Required.
        :paramtype to: str
        :keyword http_status_code: Required.
        :paramtype http_status_code: int
        :keyword is_opted_out: Optional flag specifying if number was Opted Out from receiving
         messages.
        :paramtype is_opted_out: bool
        :keyword error_message: Optional error message in case of 4xx/5xx errors.
        :paramtype error_message: str
        """
        super().__init__(**kwargs)
        self.to = to
        self.http_status_code = http_status_code
        self.is_opted_out = is_opted_out
        self.error_message = error_message


class SendMessageRequest(_serialization.Model):
    """Represents the properties of a send message request.

    All required parameters must be populated in order to send to server.

    :ivar from_property: The sender's phone number in E.164 format that is owned by the
     authenticated account. Required.
    :vartype from_property: str
    :ivar sms_recipients: The recipient's phone number in E.164 format. In this version, a minimum
     of 1 and upto 100 recipients in the list are supported. Required.
    :vartype sms_recipients: list[~azure.communication.sms.models.SmsRecipient]
    :ivar message: The contents of the message that will be sent to the recipient. The allowable
     content is defined by RFC 5724. Required.
    :vartype message: str
    :ivar sms_send_options: Optional configuration for sending SMS messages.
    :vartype sms_send_options: ~azure.communication.sms.models.SmsSendOptions
    """

    _validation = {
        "from_property": {"required": True},
        "sms_recipients": {"required": True},
        "message": {"required": True, "max_length": 2048},
    }

    _attribute_map = {
        "from_property": {"key": "from", "type": "str"},
        "sms_recipients": {"key": "smsRecipients", "type": "[SmsRecipient]"},
        "message": {"key": "message", "type": "str"},
        "sms_send_options": {"key": "smsSendOptions", "type": "SmsSendOptions"},
    }

    def __init__(
        self,
        *,
        from_property: str,
        sms_recipients: list["_models.SmsRecipient"],
        message: str,
        sms_send_options: Optional["_models.SmsSendOptions"] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword from_property: The sender's phone number in E.164 format that is owned by the
         authenticated account. Required.
        :paramtype from_property: str
        :keyword sms_recipients: The recipient's phone number in E.164 format. In this version, a
         minimum of 1 and upto 100 recipients in the list are supported. Required.
        :paramtype sms_recipients: list[~azure.communication.sms.models.SmsRecipient]
        :keyword message: The contents of the message that will be sent to the recipient. The allowable
         content is defined by RFC 5724. Required.
        :paramtype message: str
        :keyword sms_send_options: Optional configuration for sending SMS messages.
        :paramtype sms_send_options: ~azure.communication.sms.models.SmsSendOptions
        """
        super().__init__(**kwargs)
        self.from_property = from_property
        self.sms_recipients = sms_recipients
        self.message = message
        self.sms_send_options = sms_send_options


class SmsRecipient(_serialization.Model):
    """Recipient details for sending SMS messages.

    All required parameters must be populated in order to send to server.

    :ivar to: The recipient's phone number in E.164 format. Required.
    :vartype to: str
    :ivar repeatability_request_id: If specified, the client directs that the request is
     repeatable; that is, the client can make the request multiple times with the same
     Repeatability-Request-ID and get back an appropriate response without the server executing the
     request multiple times. The value of the Repeatability-Request-ID is an opaque string
     representing a client-generated, 36-character hexadecimal case-insensitive encoding of a UUID
     (GUID), identifier for the request.
    :vartype repeatability_request_id: str
    :ivar repeatability_first_sent: MUST be sent by clients to specify that a request is
     repeatable. Repeatability-First-Sent is used to specify the date and time at which the request
     was first created.eg- Tue, 26 Mar 2019 16:06:51 GMT.
    :vartype repeatability_first_sent: str
    """

    _validation = {
        "to": {"required": True},
    }

    _attribute_map = {
        "to": {"key": "to", "type": "str"},
        "repeatability_request_id": {"key": "repeatabilityRequestId", "type": "str"},
        "repeatability_first_sent": {"key": "repeatabilityFirstSent", "type": "str"},
    }

    def __init__(
        self,
        *,
        to: str,
        repeatability_request_id: Optional[str] = None,
        repeatability_first_sent: Optional[str] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword to: The recipient's phone number in E.164 format. Required.
        :paramtype to: str
        :keyword repeatability_request_id: If specified, the client directs that the request is
         repeatable; that is, the client can make the request multiple times with the same
         Repeatability-Request-ID and get back an appropriate response without the server executing the
         request multiple times. The value of the Repeatability-Request-ID is an opaque string
         representing a client-generated, 36-character hexadecimal case-insensitive encoding of a UUID
         (GUID), identifier for the request.
        :paramtype repeatability_request_id: str
        :keyword repeatability_first_sent: MUST be sent by clients to specify that a request is
         repeatable. Repeatability-First-Sent is used to specify the date and time at which the request
         was first created.eg- Tue, 26 Mar 2019 16:06:51 GMT.
        :paramtype repeatability_first_sent: str
        """
        super().__init__(**kwargs)
        self.to = to
        self.repeatability_request_id = repeatability_request_id
        self.repeatability_first_sent = repeatability_first_sent


class SmsSendOptions(_serialization.Model):
    """Optional configuration for sending SMS messages.

    All required parameters must be populated in order to send to server.

    :ivar enable_delivery_report: Enable this flag to receive a delivery report for this message on
     the Azure Resource EventGrid. Required.
    :vartype enable_delivery_report: bool
    :ivar tag: Use this field to provide metadata that will then be sent back in the corresponding
     Delivery Report.
    :vartype tag: str
    :ivar delivery_report_timeout_in_seconds: Time to wait for a delivery report. After this time a
     delivery report with timeout error code is generated.
    :vartype delivery_report_timeout_in_seconds: int
    :ivar messaging_connect: Defines optional parameters for connecting with the Messaging Connect
     Partner to deliver SMS.
    :vartype messaging_connect: ~azure.communication.sms.models.MessagingConnectOptions
    """

    _validation = {
        "enable_delivery_report": {"required": True},
        "delivery_report_timeout_in_seconds": {"maximum": 43200, "minimum": 60},
    }

    _attribute_map = {
        "enable_delivery_report": {"key": "enableDeliveryReport", "type": "bool"},
        "tag": {"key": "tag", "type": "str"},
        "delivery_report_timeout_in_seconds": {"key": "deliveryReportTimeoutInSeconds", "type": "int"},
        "messaging_connect": {"key": "messagingConnect", "type": "MessagingConnectOptions"},
    }

    def __init__(
        self,
        *,
        enable_delivery_report: bool,
        tag: Optional[str] = None,
        delivery_report_timeout_in_seconds: Optional[int] = None,
        messaging_connect: Optional["_models.MessagingConnectOptions"] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword enable_delivery_report: Enable this flag to receive a delivery report for this message
         on the Azure Resource EventGrid. Required.
        :paramtype enable_delivery_report: bool
        :keyword tag: Use this field to provide metadata that will then be sent back in the
         corresponding Delivery Report.
        :paramtype tag: str
        :keyword delivery_report_timeout_in_seconds: Time to wait for a delivery report. After this
         time a delivery report with timeout error code is generated.
        :paramtype delivery_report_timeout_in_seconds: int
        :keyword messaging_connect: Defines optional parameters for connecting with the Messaging
         Connect Partner to deliver SMS.
        :paramtype messaging_connect: ~azure.communication.sms.models.MessagingConnectOptions
        """
        super().__init__(**kwargs)
        self.enable_delivery_report = enable_delivery_report
        self.tag = tag
        self.delivery_report_timeout_in_seconds = delivery_report_timeout_in_seconds
        self.messaging_connect = messaging_connect


class SmsSendResponse(_serialization.Model):
    """Response for a successful or multi status send Sms request.

    All required parameters must be populated in order to send to server.

    :ivar value: Required.
    :vartype value: list[~azure.communication.sms.models.SmsSendResponseItem]
    """

    _validation = {
        "value": {"required": True},
    }

    _attribute_map = {
        "value": {"key": "value", "type": "[SmsSendResponseItem]"},
    }

    def __init__(self, *, value: list["_models.SmsSendResponseItem"], **kwargs: Any) -> None:
        """
        :keyword value: Required.
        :paramtype value: list[~azure.communication.sms.models.SmsSendResponseItem]
        """
        super().__init__(**kwargs)
        self.value = value


class SmsSendResponseItem(_serialization.Model):
    """Response for a single recipient.

    All required parameters must be populated in order to send to server.

    :ivar to: The recipient's phone number in E.164 format. Required.
    :vartype to: str
    :ivar message_id: The identifier of the outgoing Sms message. Only present if message
     processed.
    :vartype message_id: str
    :ivar http_status_code: HTTP Status code. Required.
    :vartype http_status_code: int
    :ivar repeatability_result: The result of a repeatable request with one of the case-insensitive
     values accepted or rejected. Known values are: "accepted" and "rejected".
    :vartype repeatability_result: str or
     ~azure.communication.sms.models.SmsSendResponseItemRepeatabilityResult
    :ivar successful: Indicates if the message is processed successfully or not. Required.
    :vartype successful: bool
    :ivar error_message: Optional error message in case of 4xx/5xx/repeatable errors.
    :vartype error_message: str
    """

    _validation = {
        "to": {"required": True},
        "http_status_code": {"required": True},
        "successful": {"required": True},
    }

    _attribute_map = {
        "to": {"key": "to", "type": "str"},
        "message_id": {"key": "messageId", "type": "str"},
        "http_status_code": {"key": "httpStatusCode", "type": "int"},
        "repeatability_result": {"key": "repeatabilityResult", "type": "str"},
        "successful": {"key": "successful", "type": "bool"},
        "error_message": {"key": "errorMessage", "type": "str"},
    }

    def __init__(
        self,
        *,
        to: str,
        http_status_code: int,
        successful: bool,
        message_id: Optional[str] = None,
        repeatability_result: Optional[Union[str, "_models.SmsSendResponseItemRepeatabilityResult"]] = None,
        error_message: Optional[str] = None,
        **kwargs: Any
    ) -> None:
        """
        :keyword to: The recipient's phone number in E.164 format. Required.
        :paramtype to: str
        :keyword message_id: The identifier of the outgoing Sms message. Only present if message
         processed.
        :paramtype message_id: str
        :keyword http_status_code: HTTP Status code. Required.
        :paramtype http_status_code: int
        :keyword repeatability_result: The result of a repeatable request with one of the
         case-insensitive values accepted or rejected. Known values are: "accepted" and "rejected".
        :paramtype repeatability_result: str or
         ~azure.communication.sms.models.SmsSendResponseItemRepeatabilityResult
        :keyword successful: Indicates if the message is processed successfully or not. Required.
        :paramtype successful: bool
        :keyword error_message: Optional error message in case of 4xx/5xx/repeatable errors.
        :paramtype error_message: str
        """
        super().__init__(**kwargs)
        self.to = to
        self.message_id = message_id
        self.http_status_code = http_status_code
        self.repeatability_result = repeatability_result
        self.successful = successful
        self.error_message = error_message
