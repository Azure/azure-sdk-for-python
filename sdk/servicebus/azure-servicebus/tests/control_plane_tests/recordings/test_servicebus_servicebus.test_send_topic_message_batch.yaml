interactions:
- request:
    body: <?xml version="1.0" encoding="utf-8" standalone="yes"?><entry xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices"
      xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" xmlns="http://www.w3.org/2005/Atom"><title></title><updated>2017-01-12T00:11:57.418988+00:00</updated><author><name></name></author><id></id><content
      type="application/xml"><TopicDescription xmlns:i="http://www.w3.org/2001/XMLSchema-instance"
      xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"></TopicDescription></content></entry>
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['555']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.3]
    method: PUT
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f
  response:
    body: {string: '<entry xmlns="http://www.w3.org/2005/Atom"><id>https://fakesbnamespace.servicebus.windows.net/uttopic9797170f</id><title
        type="text">uttopic9797170f</title><published>2017-01-12T00:11:59Z</published><updated>2017-01-12T00:11:59Z</updated><author><name>fakesbnamespace</name></author><link
        rel="self" href="https://fakesbnamespace.servicebus.windows.net/uttopic9797170f"/><content
        type="application/xml"><TopicDescription xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><DefaultMessageTimeToLive>P10675199DT2H48M5.4775807S</DefaultMessageTimeToLive><MaxSizeInMegabytes>1024</MaxSizeInMegabytes><RequiresDuplicateDetection>false</RequiresDuplicateDetection><DuplicateDetectionHistoryTimeWindow>PT10M</DuplicateDetectionHistoryTimeWindow><EnableBatchedOperations>true</EnableBatchedOperations><SizeInBytes>0</SizeInBytes><CreatedAt>2017-01-12T00:11:59.187</CreatedAt><UpdatedAt>2017-01-12T00:11:59.217</UpdatedAt></TopicDescription></content></entry>'}
    headers:
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      Date: ['Thu, 12 Jan 2017 00:11:57 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: <?xml version="1.0" encoding="utf-8" standalone="yes"?><entry xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices"
      xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" xmlns="http://www.w3.org/2005/Atom"><title></title><updated>2017-01-12T00:11:58.462997+00:00</updated><author><name></name></author><id></id><content
      type="application/xml"><SubscriptionDescription xmlns:i="http://www.w3.org/2001/XMLSchema-instance"
      xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"></SubscriptionDescription></content></entry>
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['569']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.3]
    method: PUT
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription
  response:
    body: {string: '<entry xmlns="http://www.w3.org/2005/Atom"><id>https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription</id><title
        type="text">MySubscription</title><published>2017-01-12T00:11:58Z</published><updated>2017-01-12T00:11:58Z</updated><link
        rel="self" href="https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription"/><content
        type="application/xml"><SubscriptionDescription xmlns="http://schemas.microsoft.com/netservices/2010/10/servicebus/connect"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><LockDuration>PT1M</LockDuration><RequiresSession>false</RequiresSession><DefaultMessageTimeToLive>P10675199DT2H48M5.4775807S</DefaultMessageTimeToLive><DeadLetteringOnMessageExpiration>false</DeadLetteringOnMessageExpiration><DeadLetteringOnFilterEvaluationExceptions>true</DeadLetteringOnFilterEvaluationExceptions><MessageCount>0</MessageCount><MaxDeliveryCount>10</MaxDeliveryCount><EnableBatchedOperations>true</EnableBatchedOperations></SubscriptionDescription></content></entry>'}
    headers:
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      Date: ['Thu, 12 Jan 2017 00:11:57 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: '[{"BrokerProperties": {"Label": "M1", "TimeToLiveTimeSpan": "0.00:00:40"},
      "Body": "This is the first message"}, {"UserProperties": {"Priority": "Low"},
      "BrokerProperties": {"Label": "M2"}, "Body": "This is the second message"},
      {"UserProperties": {"Priority": "Medium", "Customer": "ABC"}, "BrokerProperties":
      {"Label": "M3"}, "Body": "This is the third message"}]'
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['365']
      Content-Type: [application/vnd.microsoft.servicebus.json]
      User-Agent: [pyazure/0.20.3]
    method: POST
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/messages
  response:
    body: {string: ''}
    headers:
      Content-Type: [application/xml; charset=utf-8]
      Date: ['Thu, 12 Jan 2017 00:11:58 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.3]
    method: DELETE
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription/messages/head?timeout=60
  response:
    body: {string: This is the first message}
    headers:
      BrokerProperties: ['{"DeliveryCount":1,"EnqueuedSequenceNumber":1,"EnqueuedTimeUtc":"Thu,
          12 Jan 2017 00:11:57 GMT","Label":"M1","MessageId":"152222cc675d4351b5a9182f7f67be38","SequenceNumber":1,"State":"Active","TimeToLive":40}']
      Content-Type: [application/xml; charset=utf-8]
      Date: ['Thu, 12 Jan 2017 00:11:58 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.3]
    method: DELETE
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription/messages/head?timeout=60
  response:
    body: {string: This is the second message}
    headers:
      BrokerProperties: ['{"DeliveryCount":1,"EnqueuedSequenceNumber":2,"EnqueuedTimeUtc":"Thu,
          12 Jan 2017 00:11:57 GMT","Label":"M2","MessageId":"c98d214ef1cd489ab26d5b4b3dc86ea7","SequenceNumber":2,"State":"Active","TimeToLive":922337203685.47754}']
      Content-Type: [application/xml; charset=utf-8]
      Date: ['Thu, 12 Jan 2017 00:11:58 GMT']
      Priority: ['"Low"']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/atom+xml;type=entry;charset=utf-8]
      User-Agent: [pyazure/0.20.3]
    method: DELETE
    uri: https://fakesbnamespace.servicebus.windows.net/uttopic9797170f/subscriptions/MySubscription/messages/head?timeout=60
  response:
    body: {string: This is the third message}
    headers:
      BrokerProperties: ['{"DeliveryCount":1,"EnqueuedSequenceNumber":3,"EnqueuedTimeUtc":"Thu,
          12 Jan 2017 00:11:57 GMT","Label":"M3","MessageId":"74ada69b2f004e36959ee6693a587bba","SequenceNumber":3,"State":"Active","TimeToLive":922337203685.47754}']
      Content-Type: [application/xml; charset=utf-8]
      Customer: ['"ABC"']
      Date: ['Thu, 12 Jan 2017 00:11:58 GMT']
      Priority: ['"Medium"']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
    status: {code: 200, message: OK}
version: 1
