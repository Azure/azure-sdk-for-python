# coding=utf-8
# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
# Code generated by Microsoft (R) Python Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is regenerated.
# --------------------------------------------------------------------------

from azure.ai.language.conversations.authoring import ConversationAuthoringProjectClient

"""
# PREREQUISITES
    pip install azure-ai-language-conversations-authoring
# USAGE
    python successful_import_project.py
"""


def main():
    client = ConversationAuthoringProjectClient(
        endpoint="{Endpoint}",
        credential="CREDENTIAL",
        project_name="PROJECT_NAME",
    )

    client.project.begin_import_method(
        project_name="EmailApp",
        body={
            "assets": {
                "entities": [
                    {"category": "Sender", "description": "The description of Sender"},
                    {
                        "category": "Number",
                        "description": "The description of Number",
                        "regex": {
                            "expressions": [
                                {
                                    "language": "en-us",
                                    "regexKey": "UK Phone numbers",
                                    "regexPattern": "/^\\(?([0-9]{3})\\)?[-.\\s]?([0-9]{3})[-.\\s]?([0-9]{4})$/",
                                }
                            ]
                        },
                    },
                ],
                "intents": [
                    {
                        "associatedEntities": [{"category": "Sender"}],
                        "category": "Read",
                        "description": "The read intent",
                    },
                    {"category": "Delete", "description": "The delete intent"},
                ],
                "projectKind": "Conversation",
                "utterances": [
                    {
                        "dataset": "Train",
                        "entities": [{"category": "Sender", "length": 5, "offset": 5}],
                        "intent": "Read",
                        "text": "Open Blake's email",
                    },
                    {
                        "dataset": "Test",
                        "entities": [],
                        "intent": "Delete",
                        "language": "en-gb",
                        "text": "Delete last email",
                    },
                ],
            },
            "metadata": {
                "description": "Trying out CLU",
                "language": "en-us",
                "multilingual": True,
                "projectKind": "Conversation",
                "projectName": "EmailApp",
                "settings": {"confidenceThreshold": 0.7},
            },
            "projectFileVersion": "2022-05-01",
            "stringIndexType": "Utf16CodeUnit",
        },
    ).result()


# x-ms-original-file: 2025-05-15-preview/analyzeconversations-authoring/SuccessfulImportProject.json
if __name__ == "__main__":
    main()
