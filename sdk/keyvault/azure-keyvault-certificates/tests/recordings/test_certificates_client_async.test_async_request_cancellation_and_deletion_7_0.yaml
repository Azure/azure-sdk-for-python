interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control: no-cache
      content-length: '87'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:28 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      www-authenticate: Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 401
      message: Unauthorized
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/create?api-version=7.1
- request:
    body: '{"policy": {"x509_props": {"sans": {}, "subject": "CN=DefaultPolicy"},
      "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '99'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending","issuer":{"name":"Self"},"csr":"MIICqDCCAZACAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBua2xFXfyX2MPUFUC//+3Ow1/LDAx/hnPJ1gLXRKHZjjjcB5aWyfQC5cnp/LiRsrtDddvb8t3I5maHNbY2er9cD1nxa8PcPg0lvlWUfyvso13EnFJrHCYhctpIkqzz8F+mEVLQIPn3LxSrO6a1zEi1O1SmQUZ98UCl2e9Tv9HJu3LQmxQclX/vxjjoMsAw0ZsRY5Qjy9hqjvztk2AycGTjtvRa13MOi/QBZnjCtqxlnPWbNgNyei+5TN5cKyRnOLUZ7+6y8fG1FYElFb7yUoJ1+8MVOyrdOFL42JGdPtAkczBooPVFc97EM7uhTG1pqekRLw3sqW5S0iMG7eC1hIkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA7IjlUv7hvYyR87qtqdQGlOL27glfMMpbUtao1/AawEgclYsCIYQ0BwU9sqcE7VgUJjSTskL4NTZZq//jhpkq/Jb9stj/o16hKHg9E7v0FIf0WInFI3MPw6004ankyt2k1LNnKW5QB4dseNFz2ksVLTI8ZbOaJSrwrxSorxFUP1AXzGA7zxIzZV7+wjnfLhWSrCelJc9LKcU1rl26dlGOKEWKfTKyo9oFl7c+IA6gdZG4XRsTXVQoL6TZ5Bl4s0wbm4FEM5gl01NeqYPA1bvYFClqyTMGmM8qccFtRHsYb1dhadMqcfSp2ViuIQBjLeEp/1HN7bA3yNY2XUlBrth6B","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"517ed9b00f3644d2a7fb63bdcfbdbc3c"}'
    headers:
      cache-control: no-cache
      content-length: '1320'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:29 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1&request_id=517ed9b00f3644d2a7fb63bdcfbdbc3c
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 202
      message: Accepted
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/create?api-version=7.1
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending","issuer":{"name":"Self"},"csr":"MIICqDCCAZACAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBua2xFXfyX2MPUFUC//+3Ow1/LDAx/hnPJ1gLXRKHZjjjcB5aWyfQC5cnp/LiRsrtDddvb8t3I5maHNbY2er9cD1nxa8PcPg0lvlWUfyvso13EnFJrHCYhctpIkqzz8F+mEVLQIPn3LxSrO6a1zEi1O1SmQUZ98UCl2e9Tv9HJu3LQmxQclX/vxjjoMsAw0ZsRY5Qjy9hqjvztk2AycGTjtvRa13MOi/QBZnjCtqxlnPWbNgNyei+5TN5cKyRnOLUZ7+6y8fG1FYElFb7yUoJ1+8MVOyrdOFL42JGdPtAkczBooPVFc97EM7uhTG1pqekRLw3sqW5S0iMG7eC1hIkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA7IjlUv7hvYyR87qtqdQGlOL27glfMMpbUtao1/AawEgclYsCIYQ0BwU9sqcE7VgUJjSTskL4NTZZq//jhpkq/Jb9stj/o16hKHg9E7v0FIf0WInFI3MPw6004ankyt2k1LNnKW5QB4dseNFz2ksVLTI8ZbOaJSrwrxSorxFUP1AXzGA7zxIzZV7+wjnfLhWSrCelJc9LKcU1rl26dlGOKEWKfTKyo9oFl7c+IA6gdZG4XRsTXVQoL6TZ5Bl4s0wbm4FEM5gl01NeqYPA1bvYFClqyTMGmM8qccFtRHsYb1dhadMqcfSp2ViuIQBjLeEp/1HN7bA3yNY2XUlBrth6B","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"517ed9b00f3644d2a7fb63bdcfbdbc3c"}'
    headers:
      cache-control: no-cache
      content-length: '1320'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:29 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending","issuer":{"name":"Self"},"csr":"MIICqDCCAZACAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBua2xFXfyX2MPUFUC//+3Ow1/LDAx/hnPJ1gLXRKHZjjjcB5aWyfQC5cnp/LiRsrtDddvb8t3I5maHNbY2er9cD1nxa8PcPg0lvlWUfyvso13EnFJrHCYhctpIkqzz8F+mEVLQIPn3LxSrO6a1zEi1O1SmQUZ98UCl2e9Tv9HJu3LQmxQclX/vxjjoMsAw0ZsRY5Qjy9hqjvztk2AycGTjtvRa13MOi/QBZnjCtqxlnPWbNgNyei+5TN5cKyRnOLUZ7+6y8fG1FYElFb7yUoJ1+8MVOyrdOFL42JGdPtAkczBooPVFc97EM7uhTG1pqekRLw3sqW5S0iMG7eC1hIkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA7IjlUv7hvYyR87qtqdQGlOL27glfMMpbUtao1/AawEgclYsCIYQ0BwU9sqcE7VgUJjSTskL4NTZZq//jhpkq/Jb9stj/o16hKHg9E7v0FIf0WInFI3MPw6004ankyt2k1LNnKW5QB4dseNFz2ksVLTI8ZbOaJSrwrxSorxFUP1AXzGA7zxIzZV7+wjnfLhWSrCelJc9LKcU1rl26dlGOKEWKfTKyo9oFl7c+IA6gdZG4XRsTXVQoL6TZ5Bl4s0wbm4FEM5gl01NeqYPA1bvYFClqyTMGmM8qccFtRHsYb1dhadMqcfSp2ViuIQBjLeEp/1HN7bA3yNY2XUlBrth6B","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"517ed9b00f3644d2a7fb63bdcfbdbc3c"}'
    headers:
      cache-control: no-cache
      content-length: '1320'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:34 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending","issuer":{"name":"Self"},"csr":"MIICqDCCAZACAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBua2xFXfyX2MPUFUC//+3Ow1/LDAx/hnPJ1gLXRKHZjjjcB5aWyfQC5cnp/LiRsrtDddvb8t3I5maHNbY2er9cD1nxa8PcPg0lvlWUfyvso13EnFJrHCYhctpIkqzz8F+mEVLQIPn3LxSrO6a1zEi1O1SmQUZ98UCl2e9Tv9HJu3LQmxQclX/vxjjoMsAw0ZsRY5Qjy9hqjvztk2AycGTjtvRa13MOi/QBZnjCtqxlnPWbNgNyei+5TN5cKyRnOLUZ7+6y8fG1FYElFb7yUoJ1+8MVOyrdOFL42JGdPtAkczBooPVFc97EM7uhTG1pqekRLw3sqW5S0iMG7eC1hIkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA7IjlUv7hvYyR87qtqdQGlOL27glfMMpbUtao1/AawEgclYsCIYQ0BwU9sqcE7VgUJjSTskL4NTZZq//jhpkq/Jb9stj/o16hKHg9E7v0FIf0WInFI3MPw6004ankyt2k1LNnKW5QB4dseNFz2ksVLTI8ZbOaJSrwrxSorxFUP1AXzGA7zxIzZV7+wjnfLhWSrCelJc9LKcU1rl26dlGOKEWKfTKyo9oFl7c+IA6gdZG4XRsTXVQoL6TZ5Bl4s0wbm4FEM5gl01NeqYPA1bvYFClqyTMGmM8qccFtRHsYb1dhadMqcfSp2ViuIQBjLeEp/1HN7bA3yNY2XUlBrth6B","cancellation_requested":false,"status":"completed","target":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa","request_id":"517ed9b00f3644d2a7fb63bdcfbdbc3c"}'
    headers:
      cache-control: no-cache
      content-length: '1259'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:39 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/e29d8356670a4ea3805f9ef41d7c3bed","kid":"https://vaultname.vault.azure.net/keys/livekvtestasyncCanceledDeletedCert141c1ffa/e29d8356670a4ea3805f9ef41d7c3bed","sid":"https://vaultname.vault.azure.net/secrets/livekvtestasyncCanceledDeletedCert141c1ffa/e29d8356670a4ea3805f9ef41d7c3bed","x5t":"g1G_lrpIAt9T-am7LCu6ufRFnMY","cer":"MIIDNjCCAh6gAwIBAgIQeAJEi1ZHSPCW74nnxbTIgTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDEw1EZWZhdWx0UG9saWN5MB4XDTIxMDMyMjIxNTczOVoXDTIyMDMyMjIyMDczOVowGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBua2xFXfyX2MPUFUC//+3Ow1/LDAx/hnPJ1gLXRKHZjjjcB5aWyfQC5cnp/LiRsrtDddvb8t3I5maHNbY2er9cD1nxa8PcPg0lvlWUfyvso13EnFJrHCYhctpIkqzz8F+mEVLQIPn3LxSrO6a1zEi1O1SmQUZ98UCl2e9Tv9HJu3LQmxQclX/vxjjoMsAw0ZsRY5Qjy9hqjvztk2AycGTjtvRa13MOi/QBZnjCtqxlnPWbNgNyei+5TN5cKyRnOLUZ7+6y8fG1FYElFb7yUoJ1+8MVOyrdOFL42JGdPtAkczBooPVFc97EM7uhTG1pqekRLw3sqW5S0iMG7eC1hIkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgWgMAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFKi25MNBqPXnfIZaQoGtmYSFZ9MWMB0GA1UdDgQWBBSotuTDQaj153yGWkKBrZmEhWfTFjANBgkqhkiG9w0BAQsFAAOCAQEAAfVm34oSpusu0r80iRRR1nW/rQta5mgfaMDGNpk5oLGr1k94kuqMa6dtqts3cT5+CKFsNWldjemjxSMynGLeceucHH2WmbZDm6ipC0VHAg8NsWuRFUvBlOevve4PP8e7cRzc25+I3P48VEyXMi8C+IIoAYMlOFk/cF3JOelJDThFp5arR4mxxxuZ9fO/f4ZLeK2ratIgHeSafs2sFDdJd8NXNFz5VzlHARP9CKh0Ta+BCSc0+zcX2zu/f8GZ1opNUYvexO7KfN42zaqJSE3eMoCp888h29KD116gp0z8ra1QwaC8dxD7B3Y8zCsRwvBbKT0LvZkpGY4AvY7oswsieQ==","attributes":{"enabled":true,"nbf":1616450259,"exp":1647986859,"created":1616450859,"updated":1616450859,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=DefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1616450849,"updated":1616450849}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending"}}'
    headers:
      cache-control: no-cache
      content-length: '2477'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:40 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/?api-version=7.1
- request:
    body: '{"cancellation_requested": true}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '32'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://vaultname.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Forbidden","message":"Pending status must be in progress
        to allow update."}}'
    headers:
      cache-control: no-cache
      content-length: '94'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 22:07:40 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 403
      message: Forbidden
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestasyncCanceledDeletedCert141c1ffa/pending?api-version=7.1
version: 1
