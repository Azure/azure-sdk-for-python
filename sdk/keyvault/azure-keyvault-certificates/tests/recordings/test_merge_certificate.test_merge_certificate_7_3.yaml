interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/create?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 03:42:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/create?api-version=7.3
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtLgxJJA+S4CG9UXOwzdaZqBOp3aVXSw5Ew6c6DxYxCqIW6OCCZPniFYJYN8NJGP26KPBUEAonOL/alMdZASL9UA9fGRYNt5fI0IzkFsbauybeLgzFa1IgyucP/bPyTeCbqxIoHrId0f6jgd5/Cxrc2Bu/eb8fG6ZSp9Drqa5s4KVg+E3+HkLm4L5gR/nhTPhXS0bmO0Ic7oNkGkRiy0xZ1VE2lVPAl5VyWZkLcfJShISLoLVnCCQoI1FN26KFcUZF/+hMZuVcWMbPzr3pGOeZZ2NjHQ/lTj97PlP7rKqRBzkghy9w1rDin2L/OZ+etv8SdlKxZAIJ2np0PVv0GF2uQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBADONxCaNLLR8M8/h3aweHqyDEHcv8eSsQS2k1TCmndKv55jded9i3QlxMnYxc+EqObchhV/+P2y7OXyQX4uq7wMZWC/thjmvlwrJwUUhkuLD4c/elnXHvc9/AAp0x7wLdNAP9MqXigfpCTUC1uWEsMxOx23KRgVLLMb+W2NFm0AG1gCnwl3H+LsJKSQSneYBFRSmkotdDYvlYXwe61igD+RzE5ukQODpdKjr7Ss2suaKknzmAOz6sv8nSPg7MgR/FgcT1u0vwY2m0D2k32Axf+wRhuEqRiwWMrvoj2Zkni2OiEjrCUzWRWxsGinNYrKN8xxIP9t0mKcdjS0W0gepSHA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"93b463b4e8a643c481b922fa02899d82"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1236'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 03:42:34 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending?api-version=7.3&request_id=93b463b4e8a643c481b922fa02899d82
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending?api-version=7.3
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtLgxJJA+S4CG9UXOwzdaZqBOp3aVXSw5Ew6c6DxYxCqIW6OCCZPniFYJYN8NJGP26KPBUEAonOL/alMdZASL9UA9fGRYNt5fI0IzkFsbauybeLgzFa1IgyucP/bPyTeCbqxIoHrId0f6jgd5/Cxrc2Bu/eb8fG6ZSp9Drqa5s4KVg+E3+HkLm4L5gR/nhTPhXS0bmO0Ic7oNkGkRiy0xZ1VE2lVPAl5VyWZkLcfJShISLoLVnCCQoI1FN26KFcUZF/+hMZuVcWMbPzr3pGOeZZ2NjHQ/lTj97PlP7rKqRBzkghy9w1rDin2L/OZ+etv8SdlKxZAIJ2np0PVv0GF2uQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBADONxCaNLLR8M8/h3aweHqyDEHcv8eSsQS2k1TCmndKv55jded9i3QlxMnYxc+EqObchhV/+P2y7OXyQX4uq7wMZWC/thjmvlwrJwUUhkuLD4c/elnXHvc9/AAp0x7wLdNAP9MqXigfpCTUC1uWEsMxOx23KRgVLLMb+W2NFm0AG1gCnwl3H+LsJKSQSneYBFRSmkotdDYvlYXwe61igD+RzE5ukQODpdKjr7Ss2suaKknzmAOz6sv8nSPg7MgR/FgcT1u0vwY2m0D2k32Axf+wRhuEqRiwWMrvoj2Zkni2OiEjrCUzWRWxsGinNYrKN8xxIP9t0mKcdjS0W0gepSHA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"93b463b4e8a643c481b922fa02899d82"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1236'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 03:42:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1qQXpNakl3TXpReU16VmFGdzB5TWpBek1qSXdNelF6TXpWYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUxTNE1TU1FQa3VBaHZWRnpzTTNXbWFnVHFkMmxWMHNPUk1Pbk9nOFdNUXFpRnVqZ2dtVDU0aFdDV0RmRFNSajl1aWp3VkJBS0p6aS8ycFRIV1FFaS9WQVBYeGtXRGJlWHlOQ001QmJHMnJzbTNpNE14V3RTSU1ybkQvMno4azNnbTZzU0tCNnlIZEgrbzRIZWZ3c2EzTmdidjNtL0h4dW1VcWZRNjZtdWJPQ2xZUGhOL2g1QzV1QytZRWY1NFV6NFYwdEc1anRDSE82RFpCcEVZc3RNV2RWUk5wVlR3SmVWY2xtWkMzSHlVb1NFaTZDMVp3Z2tLQ05SVGR1aWhYRkdSZi9vVEdibFhGakd6ODY5NlJqbm1XZGpZeDBQNVU0L2V6NVQrNnlxa1FjNUlJY3ZjTmF3NHA5aS96bWZucmIvRW5aU3NXUUNDZHA2ZEQxYjlCaGRya0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUUwQUVucjdPNEx0OXNoK1RmbUVhbTkzb0NkM2FOOTVNdHZSLzFJWjRlcHZ1aXFjYzZGcXVqVytrWFdhQ01aUHNIb1pzei9yaTRsbFR4cXc4TE5PV2tVVGpyVkUrdDk5TWVQaFhPWDMvNzkvVjhUNm50MDl5UTl5YW9IZUQwTnZhOHlhZkdZQmorS042aVNvcmlOcU0rcjl5UGo2VktVekVrdlZQVmFlRHFodHMzSU53eHZHNnVOZlduM0Q1ZktmUEpBMlE5dTJMbDBucVFIdXoydlMxUEpkY1VrKzNCYXNOcEZkenJkeVZMaFlvbkd6Zzk1TFBQU0ZSWTVpVXJqWmhJTHRVTzVDdEJCTFFremt6UlNOaU9CZlViRzYrRFJ3Vk1aSjlwOVBibThzcm1aUXFqdW9Vb3BOT3pEMmtwVmJtOVlySWFMUjVma3EwSFNtV05GTy9TQT09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending/merge?api-version=7.3
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/aba82296f0024bd98d9e7cdda63ab2ff","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificatef36f1379/aba82296f0024bd98d9e7cdda63ab2ff","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificatef36f1379/aba82296f0024bd98d9e7cdda63ab2ff","x5t":"k3A1g6fm4a0NKPaQA5goq2idRx4","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMjAzMjIwMzQyMzVaFw0yMjAzMjIwMzQzMzVaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALS4MSSQPkuAhvVFzsM3WmagTqd2lV0sORMOnOg8WMQqiFujggmT54hWCWDfDSRj9uijwVBAKJzi/2pTHWQEi/VAPXxkWDbeXyNCM5BbG2rsm3i4MxWtSIMrnD/2z8k3gm6sSKB6yHdH+o4Hefwsa3Ngbv3m/HxumUqfQ66mubOClYPhN/h5C5uC+YEf54Uz4V0tG5jtCHO6DZBpEYstMWdVRNpVTwJeVclmZC3HyUoSEi6C1ZwgkKCNRTduihXFGRf/oTGblXFjGz8696RjnmWdjYx0P5U4/ez5T+6yqkQc5IIcvcNaw4p9i/zmfnrb/EnZSsWQCCdp6dD1b9BhdrkCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAE0AEnr7O4Lt9sh+TfmEam93oCd3aN95MtvR/1IZ4epvuiqcc6FqujW+kXWaCMZPsHoZsz/ri4llTxqw8LNOWkUTjrVE+t99MePhXOX3/79/V8T6nt09yQ9yaoHeD0Nva8yafGYBj+KN6iSoriNqM+r9yPj6VKUzEkvVPVaeDqhts3INwxvG6uNfWn3D5fKfPJA2Q9u2Ll0nqQHuz2vS1PJdcUk+3BasNpFdzrdyVLhYonGzg95LPPSFRY5iUrjZhILtUO5CtBBLQkzkzRSNiOBfUbG6+DRwVMZJ9p9Pbm8srmZQqjuoUopNOzD2kpVbm9YrIaLR5fkq0HSmWNFO/SA==","attributes":{"enabled":true,"nbf":1647920555,"exp":1647920615,"created":1647920555,"updated":1647920555,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1647920555,"updated":1647920555}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2323'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 03:42:35 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36f1379?api-version=7.3
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
