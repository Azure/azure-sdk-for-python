interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vaultcf0f1333.vault.azure.net/certificates/mergeCertificate/create?api-version=7.0
  response:
    body: {string: '{"error":{"code":"Unauthorized","message":"Request is missing
        a Bearer or PoP token."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['87']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 27 Aug 2019 20:24:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": false}, "secret_props": {"contentType": "application/x-pem-file"},
      "x509_props": {"subject": "CN=*.microsoft.com", "sans": {"dns_names": ["sdk.azure-int.net"]},
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"lifetime_percentage":
      2}, "action": {"action_type": "EmailContacts"}}], "issuer": {"name": "Unknown"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['414']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vaultcf0f1333.vault.azure.net/certificates/mergeCertificate/create?api-version=7.0
  response:
    body: {string: '{"id":"https://vaultcf0f1333.vault.azure.net/certificates/mergeCertificate/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAt7pMq0it3/F8aLJuhrep25fF4n0mC7hkeoAsxnL/RvMdHf6Ru82y5ybZWiCuEqsvIm+uBwDG7QP2vB5eFoP3xNYuAXZ9XCwBDemqmllaH+j2oTBE4OO/fuo4+i+pnKs4pJnyhE2GXQAI4erkazcLh3pM1HQNiuBU2EZlGwzKmsxxyEfebCsbP2aCS9izpjj8Zigd700h8lnSMWG7xy0m3jN0LrEKKMNV9G9g3bqEWsJmgD3rtSfhyICoFrF316+I5rhEb5PpU55IXkPkRs4on4w60LVyi7hZnexNJCJmJh4eSmBgGTHHBsH/kW9zzv6BGeIjp9jtZJ69epYdb7zbSwIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAA6N1HMZJHFnXHrHT130jOXVukTVyeehm89S4D4tMsaAHrRwDUJIhcm2xRYNLPukffPq7iwG8nTk1/sik7ZwjUbrYRy4udTzvmthjbfBfqBnk3gzQeqbQjMWvyDGVBUkfUzYqDUoHQf0V23CjM/k85tue6cABRjwBszOEtHuenr+Fy1dlRaR3eX8u/vglgKfGvxftB50g19xlMy+mUK3n9f17BmcKtXe/It4MC3PS8zBW7nQc1rIdZDaTgjrwy5wz2RshF7h+cLU6OvUKTTB9W5vqAuKddFc2NqFV2Gogh1uHJVjYYaLRBuRqxy4x6Zz3dHWwDWMPDOGQgdzT/1+zeE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"27d598addb714cd699e7c729f60313d6"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1272']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 27 Aug 2019 20:24:22 GMT']
      expires: ['-1']
      location: ['https://vaultcf0f1333.vault.azure.net/certificates/mergeCertificate/pending?api-version=7.0&request_id=27d598addb714cd699e7c729f60313d6']
      pragma: [no-cache]
      retry-after: ['10']
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: '{"x5c": ["MIIBcjCCAWkCAQAwADAaMRgwFgYDVQQDDA8qLm1pY3Jvc29mdC5jb20wBB8AHwAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr3GUMM/i6oORVnKYU3c2JpIhyvZWhbCC79r2q44L/HbNhCs/J7uRL1AH8RkNqwq0u2HvZWXPZUKce/QwMhVOFec33cO9d6xvM+3rN2Dm2Yupsob7Jag456zClJWi13d7faPHkR2pORwPk95/2u7hgxmLopdn6EmYFblEh0lk4DP+QauOnQXC2JchyshnPlAc2iV5xhoXWG1o1KcoyKfBH6VJ1dzV0lFbIK5trvldJOWnHeF5r1t8MHCZznHbj/nV/jcWrc0mqVtaSHFo4rgjyJh8KTFdAiSLiFjuZQZxWeeNt4i4p+kglnB0Tm7ZXpKPXrdeGMP/vcpFv56zxA/YIQIDAQABMAADAQA="]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['513']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vaultcf0f1333.vault.azure.net/certificates/mergeCertificate/pending/merge?api-version=7.0
  response:
    body: {string: '{"error":{"code":"BadParameter","message":"Certificate can not
        be read. Please check if certificate is valid."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['112']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 27 Aug 2019 20:24:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
version: 1
