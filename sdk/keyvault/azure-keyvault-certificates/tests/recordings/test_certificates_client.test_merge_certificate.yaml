interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/create?api-version=7.0
  response:
    body: {string: '{"error":{"code":"Unauthorized","message":"Request is missing
        a Bearer or PoP token."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['87']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 29 Aug 2019 01:58:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['123']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/create?api-version=7.0
  response:
    body: {string: '{"id":"https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwG3d0uSflCprXgIBdgED5+TmBhp8EDB+oy+yAeQQSLXgDdbszGSJJWprjUML92E/NYMHm9GmSKOdlAf4T7x6s8167ipptjMggLyAZXUxcjva/LrqgN8X/fYoazmt1o27inQ6+Wa+Gg6NqH46ZtibdAMXSrC3YRZ4WGYqXytUKxeZMySLEA17SldrXSu+IJqW9S6Cb8JCONarsbhEI6RVEuTUXxLve6OQUjtL0XACSYlL9/XItmse1tqdun4P4I8BpgzgHB1QPhGZypEm17RZ+VhCQIT1ef27+6wj8txJfmK3MWFqGZJdJ4vxAQRi8RzMuXwsfVs6OPKdJX01Eg1dMwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAIHTG8LidybSDWbOedSANXT+van8aBINwUfIsEaefhlofO7OYyOR4X0VcJKqUgHnBavSjy7B30H8b5b50d5hJoHkTVLzsFYNWcU/0XSGizE/J5G9FjGFiGyo3j/laMb++DObcPBKd7sB0EUmyOPQd2Kl6iQKSDd48/bLv8KyoqUaTyohmGTbgVEPpi6T/ddKj9ksGCr3nF8SD5qqv229V17zvZYP+gzrFDL3eceuYWcw2aM5vB5G9MTidwks+YQtFB8fYlOB+DiweYMO5oPgXsmab1ftLXTp8w8WkyWLDCTJyYzJRcT5QkdUDZZYmUJOEnIgM63K3zz86QDoWS1PAT8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"c7242e60079f40b390dabfcedbed6113"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1230']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 29 Aug 2019 01:58:24 GMT']
      expires: ['-1']
      location: ['https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/pending?api-version=7.0&request_id=c7242e60079f40b390dabfcedbed6113']
      pragma: [no-cache]
      retry-after: ['10']
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweE9UQTRNamt3TVRVNE1qUmFGdzB4T1RBNE1qa3dNVFU1TWpSYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU1CdDNkTGtuNVFxYTE0Q0FYWUJBK2ZrNWdZYWZCQXdmcU12c2dIa0VFaTE0QTNXN014a2lTVnFhNDFEQy9kaFB6V0RCNXZScGtpam5aUUgrRSs4ZXJQTmV1NHFhYll6SUlDOGdHVjFNWEk3MnZ5NjZvRGZGLzMyS0dzNXJkYU51NHAwT3ZsbXZob09qYWgrT21iWW0zUURGMHF3dDJFV2VGaG1LbDhyVkNzWG1UTWtpeEFOZTBwWGExMHJ2aUNhbHZVdWdtL0NRampXcTdHNFJDT2tWUkxrMUY4UzczdWprRkk3UzlGd0FrbUpTL2YxeUxackh0YmFuYnArRCtDUEFhWU00QndkVUQ0Um1jcVJKdGUwV2ZsWVFrQ0U5WG45dS91c0kvTGNTWDVpdHpGaGFobVNYU2VMOFFFRVl2RWN6TGw4TEgxYk9qanluU1Y5TlJJTlhUTUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUtYVFloYS9od09SRzhEV0ZWOWRCZThiN1F2NEx3YWtDa3EweVNVMVVLS2NFTEorZnNVN2ttU1dkSSt4K2hiZkYxWDVXQzBQM1NpNjB3aWdRaEhLWC90T2NJdUM2U1ZpWndRc2RsdmhZcmVJREh0QmNDS1BiL1hjS056Y2tkZWljYnEwSlJEa1F3RitUOXNlNCt2Ui9EUWlxcFY1UHhXRGdWZ25WTHBGNGZVNXVmNFpyR3I1M1FuWnMzWUxJc2FOTkdSSmljZW9QLzRNbEVzWDFoNERTMkxFZGVPNHVBc0F6ZEIwOEZuQjZIcThGUkpsTThkcHRBWVVrNHlVTkliZ3JYSUNkdG1CR2thdnhwbFRHMEJmWnNxTFp0T2oyNVBVQ0NiSytJUWVxNzdRdFNBZFFNVTNIYXBoem9pajZyU21uWi8xVUI0c1AybnNNMnFVSFYzL2ZxQT09"]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1293']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [azsdk-python-keyvault-certificates/4.0.0b1 Python/3.6.6 (Windows-10-10.0.18362-SP0)]
    method: POST
    uri: https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/pending/merge?api-version=7.0
  response:
    body: {string: '{"id":"https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/f737e567b043440d8f7b0508a7860256","kid":"https://vault1051159997cf0f1333.vault.azure.net/keys/mergeCertificate/f737e567b043440d8f7b0508a7860256","sid":"https://vault1051159997cf0f1333.vault.azure.net/secrets/mergeCertificate/f737e567b043440d8f7b0508a7860256","x5t":"ZjmXsjXZlih8Qqsmh_5v2hqnZh0","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0xOTA4MjkwMTU4MjRaFw0xOTA4MjkwMTU5MjRaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMBt3dLkn5Qqa14CAXYBA+fk5gYafBAwfqMvsgHkEEi14A3W7MxkiSVqa41DC/dhPzWDB5vRpkijnZQH+E+8erPNeu4qabYzIIC8gGV1MXI72vy66oDfF/32KGs5rdaNu4p0OvlmvhoOjah+OmbYm3QDF0qwt2EWeFhmKl8rVCsXmTMkixANe0pXa10rviCalvUugm/CQjjWq7G4RCOkVRLk1F8S73ujkFI7S9FwAkmJS/f1yLZrHtbanbp+D+CPAaYM4BwdUD4RmcqRJte0WflYQkCE9Xn9u/usI/LcSX5itzFhahmSXSeL8QEEYvEczLl8LH1bOjjynSV9NRINXTMCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAKXTYha/hwORG8DWFV9dBe8b7Qv4LwakCkq0ySU1UKKcELJ+fsU7kmSWdI+x+hbfF1X5WC0P3Si60wigQhHKX/tOcIuC6SViZwQsdlvhYreIDHtBcCKPb/XcKNzckdeicbq0JRDkQwF+T9se4+vR/DQiqpV5PxWDgVgnVLpF4fU5uf4ZrGr53QnZs3YLIsaNNGRJiceoP/4MlEsX1h4DS2LEdeO4uAsAzdB08FnB6Hq8FRJlM8dptAYUk4yUNIbgrXICdtmBGkavxplTG0BfZsqLZtOj25PUCCbK+IQeq77QtSAdQMU3Haphzoij6rSmnZ/1UB4sP2nsM2qUHV3/fqA==","attributes":{"enabled":true,"nbf":1567043904,"exp":1567043964,"created":1567043904,"updated":1567043904,"recoveryLevel":"Purgeable"},"policy":{"id":"https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1567043904,"updated":1567043904}},"pending":{"id":"https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2251']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 29 Aug 2019 01:58:24 GMT']
      expires: ['-1']
      location: ['https://vault1051159997cf0f1333.vault.azure.net/certificates/mergeCertificate?api-version=7.0']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=131.107.160.72;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.1.0.876]
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
version: 1
