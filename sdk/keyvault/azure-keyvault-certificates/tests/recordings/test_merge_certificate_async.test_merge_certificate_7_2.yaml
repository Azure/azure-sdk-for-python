interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/create?api-version=7.2
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control: no-cache
      content-length: '87'
      content-type: application/json; charset=utf-8
      date: Sat, 08 May 2021 00:39:39 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      www-authenticate: Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus2
      x-ms-keyvault-service-version: 1.2.265.0
      x-powered-by: ASP.NET
    status:
      code: 401
      message: Unauthorized
    url: https://mcpatinokv.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/create?api-version=7.2
- request:
    body: '{"policy": {"x509_props": {"sans": {}, "subject": "CN=MyCert"}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/create?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoWExuSIqmjzpeF6wnOrHCHnXsoOXyNdrAwVEmXyi3hdFVg3HMGOmMKnqbV3804KygXeFb/96ZhL9TTsDEkxY0lS4MaRHuXlQRPjpMn141Dm7RUWUqixSmpfiOHnxcLS+a08iMHHsYcB4Pgi2ZR82qLUU9mftDYMPCrVd71hwzrwW14GFZ91JPnfBpoP1FAR6uePs7VdbMoVBey3U4qYBrmwFK4NaK0sRMG1z9Bp16/NJRDu8Vxjci8euv75s9mU3XTPMvBypIw7yS21i/F6+MgKKcyHMTIUIZib6nSBmIGlYsYUjJjkHl1XrCj3G+J9t86KmBBhNYfUMslWewqV8IQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAENa3Et9h5E+UvlLsXN6dma2GO7CXkSCj+adUptalTyYl9hwOQAXcookCZXxJj8qYBpPwL1J36aHoDZueiJCvw8nUWqyp6ToWZnkD7axCUxJZIxc60ae66m6mFZcw/dS3HkMuX35QZnf2ZL1u7VTDSy6HLqMaqozpRlzpy9WJclgAzvExZv6xikXlO55aVx8rBipUiUzOWU+KvQsspPFFLst7C1t4xLgEu0k+wBI1wZQK/mNbtGDizgbT8GJ1nZ9NPhQIEsndggRLOXwaKE74L/4hWnJgDZCInS2ZBj4KkWT7ATcO8HXZr0YYAnkUm9irOZRYt+wjxbtuiHtK1CwbHY=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"0a97dfd5239048adbc764fe5a2a15781"}'
    headers:
      cache-control: no-cache
      content-length: '1235'
      content-type: application/json; charset=utf-8
      date: Sat, 08 May 2021 00:39:40 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending?api-version=7.2&request_id=0a97dfd5239048adbc764fe5a2a15781
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus2
      x-ms-keyvault-service-version: 1.2.265.0
      x-powered-by: ASP.NET
    status:
      code: 202
      message: Accepted
    url: https://mcpatinokv.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/create?api-version=7.2
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoWExuSIqmjzpeF6wnOrHCHnXsoOXyNdrAwVEmXyi3hdFVg3HMGOmMKnqbV3804KygXeFb/96ZhL9TTsDEkxY0lS4MaRHuXlQRPjpMn141Dm7RUWUqixSmpfiOHnxcLS+a08iMHHsYcB4Pgi2ZR82qLUU9mftDYMPCrVd71hwzrwW14GFZ91JPnfBpoP1FAR6uePs7VdbMoVBey3U4qYBrmwFK4NaK0sRMG1z9Bp16/NJRDu8Vxjci8euv75s9mU3XTPMvBypIw7yS21i/F6+MgKKcyHMTIUIZib6nSBmIGlYsYUjJjkHl1XrCj3G+J9t86KmBBhNYfUMslWewqV8IQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAENa3Et9h5E+UvlLsXN6dma2GO7CXkSCj+adUptalTyYl9hwOQAXcookCZXxJj8qYBpPwL1J36aHoDZueiJCvw8nUWqyp6ToWZnkD7axCUxJZIxc60ae66m6mFZcw/dS3HkMuX35QZnf2ZL1u7VTDSy6HLqMaqozpRlzpy9WJclgAzvExZv6xikXlO55aVx8rBipUiUzOWU+KvQsspPFFLst7C1t4xLgEu0k+wBI1wZQK/mNbtGDizgbT8GJ1nZ9NPhQIEsndggRLOXwaKE74L/4hWnJgDZCInS2ZBj4KkWT7ATcO8HXZr0YYAnkUm9irOZRYt+wjxbtuiHtK1CwbHY=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"0a97dfd5239048adbc764fe5a2a15781"}'
    headers:
      cache-control: no-cache
      content-length: '1235'
      content-type: application/json; charset=utf-8
      date: Sat, 08 May 2021 00:39:40 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus2
      x-ms-keyvault-service-version: 1.2.265.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinokv.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending?api-version=7.2
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQTFNRGd3TURNNU5ERmFGdzB5TVRBMU1EZ3dNRFF3TkRGYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtGaE1ia2lLcG84NlhoZXNKenF4d2g1MTdLRGw4alhhd01GUkpsOG90NFhSVllOeHpCanBqQ3A2bTFkL05PQ3NvRjNoVy8vZW1ZUy9VMDdBeEpNV05KVXVER2tSN2w1VUVUNDZUSjllTlE1dTBWRmxLb3NVcHFYNGpoNThYQzB2bXRQSWpCeDdHSEFlRDRJdG1VZk5xaTFGUFpuN1EyRER3cTFYZTlZY002OEZ0ZUJoV2ZkU1Q1M3dhYUQ5UlFFZXJuajdPMVhXektGUVhzdDFPS21BYTVzQlN1RFdpdExFVEJ0Yy9RYWRldnpTVVE3dkZjWTNJdkhycisrYlBabE4xMHp6THdjcVNNTzhrdHRZdnhldmpJQ2luTWh6RXlGQ0dZbStwMGdaaUJwV0xHRkl5WTVCNWRWNndvOXh2aWZiZk9pcGdRWVRXSDFETEpWbnNLbGZDRUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQXZjM1JibEJxWG56SkNIVUhCeWpOeEw0ZU5USmF4bVFTclE0OTVLSmFLNVphWVI2NlBIL2cwdDh1VURaZzlIUkE0T2s5dUVSb3l0bVdQeHlQNEEzL2U0RE1Bcm1tRzVmbHEybUY0K2VsMVhWanV3Qyt2SGRyNEkya2FSVzBOWGNzNkM0RzVTWTdhcHVodUNHYkpqSUd1SGNnMHczNUxwT3JVb3lrU0xWaWVIVitvNVRhZTh3TzJ5YUVtRUlHdUNhYllNKzNSNVNPS0lDb0NSQmtXdktBWE5mK2hlZkt0Yjc2Ri9GeW5kUEt2MkRvWUkzUHJsR2s4NGRnS3FScXFJa0pTQ1FYZU5NSWVrb3pNZ3Vkb3gzZUJnUE1Fbm5rOFFOa01HWXhLZEg0NXd5bGhzTEo2REtzTlJuSlhRQ3BLWW01TkpxU09wRHphSjQ1b25OOEhmZjhsZz09"]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending/merge?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/b4f7672925be4d43a03de7d8ee6de6d1","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificate75ad15f5/b4f7672925be4d43a03de7d8ee6de6d1","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificate75ad15f5/b4f7672925be4d43a03de7d8ee6de6d1","x5t":"3E1DZrv1GAD-B2WTnXe59chxkqg","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTA1MDgwMDM5NDFaFw0yMTA1MDgwMDQwNDFaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKFhMbkiKpo86XhesJzqxwh517KDl8jXawMFRJl8ot4XRVYNxzBjpjCp6m1d/NOCsoF3hW//emYS/U07AxJMWNJUuDGkR7l5UET46TJ9eNQ5u0VFlKosUpqX4jh58XC0vmtPIjBx7GHAeD4ItmUfNqi1FPZn7Q2DDwq1Xe9YcM68FteBhWfdST53waaD9RQEernj7O1XWzKFQXst1OKmAa5sBSuDWitLETBtc/QadevzSUQ7vFcY3IvHrr++bPZlN10zzLwcqSMO8kttYvxevjICinMhzEyFCGYm+p0gZiBpWLGFIyY5B5dV6wo9xvifbfOipgQYTWH1DLJVnsKlfCECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAvc3RblBqXnzJCHUHByjNxL4eNTJaxmQSrQ495KJaK5ZaYR66PH/g0t8uUDZg9HRA4Ok9uERoytmWPxyP4A3/e4DMArmmG5flq2mF4+el1XVjuwC+vHdr4I2kaRW0NXcs6C4G5SY7apuhuCGbJjIGuHcg0w35LpOrUoykSLVieHV+o5Tae8wO2yaEmEIGuCabYM+3R5SOKICoCRBkWvKAXNf+hefKtb76F/FyndPKv2DoYI3PrlGk84dgKqRqqIkJSCQXeNMIekozMgudox3eBgPMEnnk8QNkMGYxKdH45wylhsLJ6DKsNRnJXQCpKYm5NJqSOpDzaJ45onN8Hff8lg==","attributes":{"enabled":true,"nbf":1620434381,"exp":1620434441,"created":1620434381,"updated":1620434381,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1620434380,"updated":1620434380}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending"}}'
    headers:
      cache-control: no-cache
      content-length: '2309'
      content-type: application/json; charset=utf-8
      date: Sat, 08 May 2021 00:39:41 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5?api-version=7.2
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus2
      x-ms-keyvault-service-version: 1.2.265.0
      x-powered-by: ASP.NET
    status:
      code: 201
      message: Created
    url: https://mcpatinokv.vault.azure.net/certificates/livekvtestmergeCertificate75ad15f5/pending/merge?api-version=7.2
version: 1
