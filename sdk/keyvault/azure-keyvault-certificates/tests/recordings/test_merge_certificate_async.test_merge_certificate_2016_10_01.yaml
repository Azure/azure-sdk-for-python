interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control: no-cache
      content-length: '87'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 23:29:10 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      www-authenticate: Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 401
      message: Unauthorized
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/create?api-version=7.1
- request:
    body: '{"policy": {"issuer": {"name": "Unknown", "cert_transparency": false},
      "x509_props": {"subject": "CN=MyCert", "sans": {}}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtoTzlyzrGZKD4DU2v4QixhWqMQBxQp8xdxd/Q0TLObOzPO1ZF9R1fF+fjaGhehh50WmiBKLICcTgFBQR9cY3GZL6VsC6FiIa5+WIHlK5NZ/LtIvtbaumzxE8+ERZkOZao/BegkjJ8K78NXBPRF7/w5lIWdBkQj9SAs+xvRQjbAzPyFUhDuHTxieb59ywAtR/24juc+WdHy0kpSOzf5rg9LKexyWkavxeSxhjeLMMzO79wDzzbjt4mNcNbebdv+jS2esaxZWZzaBdck4RmNrOC0hFRGXLoe+248dZ2YcOR4LtxkN4T7/9QRx2WR5FtCNW77FEit84uS4Fvd4EIQCscQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABxShut14t3b/k/8WSmaCd9vltmZUDny0tf5gR/LQh5OptQzTELEknpTgf5dJguX1bYKmrU1GB80E2bK0pEHJAWe4vUBN82Qrdbewnomg8SU6V0pUUp9xW5Xkp+8RPMIW1wFOQnGOzRUEebTrXkWu5ttQyW8aJtcVyGpdgXr1QbGo4LbGmLqQ/5KJSRKIWhIhevQVaTYEvzwzqdSPkQyChiN4vebNpXAjBpOXZRGaWw5qyLp6NzIMgL5O9pk34sr29/4/diccgKhWb2cu1mrKth2HaYqHlVuyqCvJapmpLUqf9yXjUM2qVWWVmnLIUvvJ27ptH+UUfcKaGtedMnQwQU=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"0c6a228f81d3418db5655fa7debe3ca5"}'
    headers:
      cache-control: no-cache
      content-length: '1237'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 23:29:11 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending?api-version=7.1&request_id=0c6a228f81d3418db5655fa7debe3ca5
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 202
      message: Accepted
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/create?api-version=7.1
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtoTzlyzrGZKD4DU2v4QixhWqMQBxQp8xdxd/Q0TLObOzPO1ZF9R1fF+fjaGhehh50WmiBKLICcTgFBQR9cY3GZL6VsC6FiIa5+WIHlK5NZ/LtIvtbaumzxE8+ERZkOZao/BegkjJ8K78NXBPRF7/w5lIWdBkQj9SAs+xvRQjbAzPyFUhDuHTxieb59ywAtR/24juc+WdHy0kpSOzf5rg9LKexyWkavxeSxhjeLMMzO79wDzzbjt4mNcNbebdv+jS2esaxZWZzaBdck4RmNrOC0hFRGXLoe+248dZ2YcOR4LtxkN4T7/9QRx2WR5FtCNW77FEit84uS4Fvd4EIQCscQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABxShut14t3b/k/8WSmaCd9vltmZUDny0tf5gR/LQh5OptQzTELEknpTgf5dJguX1bYKmrU1GB80E2bK0pEHJAWe4vUBN82Qrdbewnomg8SU6V0pUUp9xW5Xkp+8RPMIW1wFOQnGOzRUEebTrXkWu5ttQyW8aJtcVyGpdgXr1QbGo4LbGmLqQ/5KJSRKIWhIhevQVaTYEvzwzqdSPkQyChiN4vebNpXAjBpOXZRGaWw5qyLp6NzIMgL5O9pk34sr29/4/diccgKhWb2cu1mrKth2HaYqHlVuyqCvJapmpLUqf9yXjUM2qVWWVmnLIUvvJ27ptH+UUfcKaGtedMnQwQU=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"0c6a228f81d3418db5655fa7debe3ca5"}'
    headers:
      cache-control: no-cache
      content-length: '1237'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 23:29:12 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending?api-version=7.1
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQXpNakl5TXpJNU1UTmFGdzB5TVRBek1qSXlNek13TVROYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUxhRTg1Y3M2eG1TZytBMU5yK0VJc1lWcWpFQWNVS2ZNWGNYZjBORXl6bXpzenp0V1JmVWRYeGZuNDJob1hvWWVkRnBvZ1NpeUFuRTRCUVVFZlhHTnhtUytsYkF1aFlpR3VmbGlCNVN1VFdmeTdTTDdXMnJwczhSUFBoRVdaRG1XcVB3WG9KSXlmQ3UvRFZ3VDBSZS84T1pTRm5RWkVJL1VnTFBzYjBVSTJ3TXo4aFZJUTdoMDhZbm0rZmNzQUxVZjl1STduUGxuUjh0SktVanMzK2E0UFN5bnNjbHBHcjhYa3NZWTNpekRNenUvY0E4ODI0N2VKalhEVzNtM2IvbzB0bnJHc1dWbWMyZ1hYSk9FWmphemd0SVJVUmx5Nkh2dHVQSFdkbUhEa2VDN2NaRGVFKy8vVUVjZGxrZVJiUWpWdSt4UklyZk9Ma3VCYjNlQkNFQXJIRUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUJWU1RPWVlPNTVxTWJ1ZzZvc1RDblc0cUtvSEgyenZoemtjNVIweThQMW1jY3RidW1vUkd3TUhnQ0VtcWtUMGZFT1Rubms5R0x3NDlPODdleUE0aVRPNmZORjVzTFljcFhHdGQyMlQxNWE0dlNoMlZJYjU0MnpscXZDRlB5L253b08raHluMm1wdnZ3OXkzSkJNWHVabzMrQTh2K2I5emdNalB0WjJYUVRncGZ1aGdNYTJKa0lTTjJLeU8zaG5YV1FLK3JKcW1ITHlRT2piVjJEOXBRMU85VEdMSzdkTk9wcjBXQ3lKdnd1cmZNSmNZZFhJZ1VPSFZVY3FndzZzSU5JblRaU21oNGNzTFlSWHJiN2tZWWM1QTJCZXZoRXp1TjNjMlVVZ1dsbnp2Yzh3TkRJejdzOHQyQU5aQ1hURk1ocTBXMFJ2c1Q5T3lYVml5NFZ3SXFMQT09"]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending/merge?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/5471e32eb84d4892a76cf677c75fcda3","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificate14a51776/5471e32eb84d4892a76cf677c75fcda3","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificate14a51776/5471e32eb84d4892a76cf677c75fcda3","x5t":"O_oWpTojnqAlzPdQtK-5Pf5-xpw","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTAzMjIyMzI5MTNaFw0yMTAzMjIyMzMwMTNaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALaE85cs6xmSg+A1Nr+EIsYVqjEAcUKfMXcXf0NEyzmzszztWRfUdXxfn42hoXoYedFpogSiyAnE4BQUEfXGNxmS+lbAuhYiGufliB5SuTWfy7SL7W2rps8RPPhEWZDmWqPwXoJIyfCu/DVwT0Re/8OZSFnQZEI/UgLPsb0UI2wMz8hVIQ7h08Ynm+fcsALUf9uI7nPlnR8tJKUjs3+a4PSynsclpGr8XksYY3izDMzu/cA88247eJjXDW3m3b/o0tnrGsWVmc2gXXJOEZjazgtIRURly6HvtuPHWdmHDkeC7cZDeE+//UEcdlkeRbQjVu+xRIrfOLkuBb3eBCEArHECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEABVSTOYYO55qMbug6osTCnW4qKoHH2zvhzkc5R0y8P1mcctbumoRGwMHgCEmqkT0fEOTnnk9GLw49O87eyA4iTO6fNF5sLYcpXGtd22T15a4vSh2VIb542zlqvCFPy/nwoO+hyn2mpvvw9y3JBMXuZo3+A8v+b9zgMjPtZ2XQTgpfuhgMa2JkISN2KyO3hnXWQK+rJqmHLyQOjbV2D9pQ1O9TGLK7dNOpr0WCyJvwurfMJcYdXIgUOHVUcqgw6sINInTZSmh4csLYRXrb7kYYc5A2BevhEzuN3c2UUgWlnzvc8wNDIz7s8t2ANZCXTFMhq0W0RvsT9OyXViy4VwIqLA==","attributes":{"enabled":true,"nbf":1616455753,"exp":1616455813,"created":1616455753,"updated":1616455753,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1616455752,"updated":1616455752}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending"}}'
    headers:
      cache-control: no-cache
      content-length: '2319'
      content-type: application/json; charset=utf-8
      date: Mon, 22 Mar 2021 23:29:12 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate14a51776?api-version=7.1
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: eastus2
      x-ms-keyvault-service-version: 1.2.205.0
      x-powered-by: ASP.NET
    status:
      code: 201
      message: Created
    url: https://mcpatinotest.vault.azure.net/certificates/livekvtestmergeCertificate14a51776/pending/merge?api-version=7.1
version: 1
