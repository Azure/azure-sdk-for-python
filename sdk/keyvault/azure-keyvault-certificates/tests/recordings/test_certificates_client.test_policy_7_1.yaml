interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:37:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"issuer": {"cert_transparency": false, "name": "Self"}, "lifetime_actions":
      [{"trigger": {"lifetime_percentage": 98}, "action": {"action_type": "EmailContacts"}}],
      "x509_props": {"validity_months": 12, "sans": {"dns_names": ["sdk.azure-int.net"]},
      "key_usage": ["decipherOnly"], "ekus": ["1.3.6.1.5.5.7.3.1", "1.3.6.1.5.5.7.3.2"],
      "subject": "CN=DefaultPolicy"}, "secret_props": {"contentType": "application/x-pkcs12"},
      "key_props": {"exportable": true, "reuse_key": true, "key_size": 2048, "kty":
      "RSA"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '518'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending","issuer":{"name":"Self"},"csr":"MIICxzCCAa8CAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaBqMGgGCSqGSIb3DQEJDjFbMFkwDwYDVR0PAQH/BAUDAwcAgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHAYDVR0RBBUwE4IRc2RrLmF6dXJlLWludC5uZXQwCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEAPj6etShZ6Y7q+zYdFUUQhTBM//4+p6POxm0yHm5oDW4y5J/jsvpatEVveYbUW76KZxy1Xwif6hpK73rgmxO6osE0oHXbtkHDJzfVBwvrip8jb837WvZ71xdz8zzKCH853KU51ecX7PAmyQpZSzMLIPbdRbTOZIn2aeMGh/MJsc4wDY32wtHMYVF5/X/6cW23Ptt+B0j80Zup+QBwrLl2d48f762GVxTGaGwskz5nO/IoZnfXMYdcq69cmkZanmQlv9f7ZXmT+omr4O8CJY1qtAEYZB02yUzFF0v52zGdQsmGervB8GdDBDzfrArIbpIB8e4A4gs/rICduDGPKDk9Zw==","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e6f7f32b2b274c9faf7bd835b66eaea0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:37:53 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending?api-version=7.1&request_id=e6f7f32b2b274c9faf7bd835b66eaea0
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending","issuer":{"name":"Self"},"csr":"MIICxzCCAa8CAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaBqMGgGCSqGSIb3DQEJDjFbMFkwDwYDVR0PAQH/BAUDAwcAgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHAYDVR0RBBUwE4IRc2RrLmF6dXJlLWludC5uZXQwCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEAPj6etShZ6Y7q+zYdFUUQhTBM//4+p6POxm0yHm5oDW4y5J/jsvpatEVveYbUW76KZxy1Xwif6hpK73rgmxO6osE0oHXbtkHDJzfVBwvrip8jb837WvZ71xdz8zzKCH853KU51ecX7PAmyQpZSzMLIPbdRbTOZIn2aeMGh/MJsc4wDY32wtHMYVF5/X/6cW23Ptt+B0j80Zup+QBwrLl2d48f762GVxTGaGwskz5nO/IoZnfXMYdcq69cmkZanmQlv9f7ZXmT+omr4O8CJY1qtAEYZB02yUzFF0v52zGdQsmGervB8GdDBDzfrArIbpIB8e4A4gs/rICduDGPKDk9Zw==","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e6f7f32b2b274c9faf7bd835b66eaea0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:37:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending","issuer":{"name":"Self"},"csr":"MIICxzCCAa8CAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaBqMGgGCSqGSIb3DQEJDjFbMFkwDwYDVR0PAQH/BAUDAwcAgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHAYDVR0RBBUwE4IRc2RrLmF6dXJlLWludC5uZXQwCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEAPj6etShZ6Y7q+zYdFUUQhTBM//4+p6POxm0yHm5oDW4y5J/jsvpatEVveYbUW76KZxy1Xwif6hpK73rgmxO6osE0oHXbtkHDJzfVBwvrip8jb837WvZ71xdz8zzKCH853KU51ecX7PAmyQpZSzMLIPbdRbTOZIn2aeMGh/MJsc4wDY32wtHMYVF5/X/6cW23Ptt+B0j80Zup+QBwrLl2d48f762GVxTGaGwskz5nO/IoZnfXMYdcq69cmkZanmQlv9f7ZXmT+omr4O8CJY1qtAEYZB02yUzFF0v52zGdQsmGervB8GdDBDzfrArIbpIB8e4A4gs/rICduDGPKDk9Zw==","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e6f7f32b2b274c9faf7bd835b66eaea0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:37:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending","issuer":{"name":"Self"},"csr":"MIICxzCCAa8CAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaBqMGgGCSqGSIb3DQEJDjFbMFkwDwYDVR0PAQH/BAUDAwcAgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHAYDVR0RBBUwE4IRc2RrLmF6dXJlLWludC5uZXQwCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEAPj6etShZ6Y7q+zYdFUUQhTBM//4+p6POxm0yHm5oDW4y5J/jsvpatEVveYbUW76KZxy1Xwif6hpK73rgmxO6osE0oHXbtkHDJzfVBwvrip8jb837WvZ71xdz8zzKCH853KU51ecX7PAmyQpZSzMLIPbdRbTOZIn2aeMGh/MJsc4wDY32wtHMYVF5/X/6cW23Ptt+B0j80Zup+QBwrLl2d48f762GVxTGaGwskz5nO/IoZnfXMYdcq69cmkZanmQlv9f7ZXmT+omr4O8CJY1qtAEYZB02yUzFF0v52zGdQsmGervB8GdDBDzfrArIbpIB8e4A4gs/rICduDGPKDk9Zw==","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e6f7f32b2b274c9faf7bd835b66eaea0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:38:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending","issuer":{"name":"Self"},"csr":"MIICxzCCAa8CAQAwGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaBqMGgGCSqGSIb3DQEJDjFbMFkwDwYDVR0PAQH/BAUDAwcAgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHAYDVR0RBBUwE4IRc2RrLmF6dXJlLWludC5uZXQwCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEAPj6etShZ6Y7q+zYdFUUQhTBM//4+p6POxm0yHm5oDW4y5J/jsvpatEVveYbUW76KZxy1Xwif6hpK73rgmxO6osE0oHXbtkHDJzfVBwvrip8jb837WvZ71xdz8zzKCH853KU51ecX7PAmyQpZSzMLIPbdRbTOZIn2aeMGh/MJsc4wDY32wtHMYVF5/X/6cW23Ptt+B0j80Zup+QBwrLl2d48f762GVxTGaGwskz5nO/IoZnfXMYdcq69cmkZanmQlv9f7ZXmT+omr4O8CJY1qtAEYZB02yUzFF0v52zGdQsmGervB8GdDBDzfrArIbpIB8e4A4gs/rICduDGPKDk9Zw==","cancellation_requested":false,"status":"completed","target":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7","request_id":"e6f7f32b2b274c9faf7bd835b66eaea0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1289'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:38:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/cad046ac98394eda97b567f6b0af30cb","kid":"https://vaultname.vault.azure.net/keys/livekvtestpolicyCertificate50fa0ff7/cad046ac98394eda97b567f6b0af30cb","sid":"https://vaultname.vault.azure.net/secrets/livekvtestpolicyCertificate50fa0ff7/cad046ac98394eda97b567f6b0af30cb","x5t":"38272RnF2X-ya67gVuQuNV85U0M","cer":"MIIDVzCCAj+gAwIBAgIQSICTPFYURpCIryER6UFpzTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDEw1EZWZhdWx0UG9saWN5MB4XDTIxMDMyMjIxMjgwNFoXDTIyMDMyMjIxMzgwNFowGDEWMBQGA1UEAxMNRGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJX0Gn3HBP2s0yzl+tTPo4tmAR8zZA3W0LbYZ9XYC7NmZQuzsIGHJQflCOyb63yAackoT7QwijXCayL+WiLHMmxGK669YO2yLPlHDAZ5Yno3PowZQ0+3N0CaYUvBGW8R4amObefW/KZnXa9/AYmKLwYACLGyiOTLeKc+VcG4imw5iPJvsBRkJg12hloAOAgRyowKhvgQZ/42kpc8x6FNJfIqKJPlRUJdOhl0T38Pm1J3Cjfro0LOVZh7QKOdKH1+1Ej6XeFNcK+oQ7GMhdhrPmzJid9IE+oKNa4FXCdH+zLZYVhtXcEbaiHg4FbkO7y7TBXkt0ezCb6P93JFTKM6orUCAwEAAaOBnDCBmTAPBgNVHQ8BAf8EBQMDBwCAMAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MB8GA1UdIwQYMBaAFJeZ4N2NbBltoL5eSCZoMg7Zkm8LMB0GA1UdDgQWBBSXmeDdjWwZbaC+XkgmaDIO2ZJvCzANBgkqhkiG9w0BAQsFAAOCAQEAjcRa0PMtZEqV4bH7Q8SQoaLB7VMdE3X/g2uaYxdG7e4XCF8gBTmo5rWXFfmNVPOKF765G71AwzK5bMi+7Bx0JmkhjwwKx/B9C09ZRghBuq1EXEh69ncbkN3r+NLwbaZs58k1d4QiXRbt1ZbxS3VeWFw5RmXE8TWUjVCh6PyTUIVVT7UlkBOyhXKeMNOkpOrS1zfLgXfanuOS60kU0GYmrnVZRmQQZU7UGyO1HJSlMCD5IfkYhTImHGiiqOVwen2V2vKxO55BrNHcelOmB7URMFx0Dj6qntCZzdyujLKlLCmuUTFGgeiPnNKKR3tga/0Qz5GqzeO2g6E5dhm2EDl9MQ==","attributes":{"enabled":true,"nbf":1616448484,"exp":1647985084,"created":1616449085,"updated":1616449085,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=DefaultPolicy","sans":{"dns_names":["sdk.azure-int.net"]},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["decipherOnly"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":98},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Self","cert_transparency":false},"attributes":{"enabled":true,"created":1616449073,"updated":1616449073}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2526'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:38:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/policy?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=DefaultPolicy","sans":{"dns_names":["sdk.azure-int.net"]},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["decipherOnly"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":98},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Self","cert_transparency":false},"attributes":{"enabled":true,"created":1616449073,"updated":1616449073}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '675'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:38:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"issuer": {"cert_transparency": false, "name": "Self"}, "lifetime_actions":
      [{"trigger": {"lifetime_percentage": 98}, "action": {"action_type": "EmailContacts"}}],
      "x509_props": {"validity_months": 12, "sans": {"dns_names": ["sdk.azure-int.net"]},
      "key_usage": ["decipherOnly"], "ekus": ["1.3.6.1.5.5.7.3.1", "1.3.6.1.5.5.7.3.2"],
      "subject": "CN=DefaultPolicy"}, "secret_props": {"contentType": "application/x-pkcs12"},
      "key_props": {"crv": "P-256", "exportable": true, "reuse_key": true, "key_size":
      256, "kty": "EC"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '520'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/policy?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestpolicyCertificate50fa0ff7/policy","key_props":{"exportable":true,"kty":"EC","key_size":256,"reuse_key":true,"crv":"P-256"},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=DefaultPolicy","sans":{"dns_names":["sdk.azure-int.net"]},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["decipherOnly"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":98},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Self","cert_transparency":false},"attributes":{"enabled":true,"created":1616449073,"updated":1616449089}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 22 Mar 2021 21:38:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
