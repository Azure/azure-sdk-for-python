interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.2 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 19:23:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=162.211.216.102;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.80.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"issuer": {"name": "Unknown", "cert_transparency": false},
      "x509_props": {"subject": "CN=MyCert", "sans": {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.2 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzuuP62S5AKBoG2sY79ctGNWEq5okT7QTkFiXVku7313Uu8ME4piBeuytWfi3oExLxoctVjUuXSHplrGdiY2tZGaNt8OE9SpnoOyIGPNiJzeV1CWvdr+oObjjP3tYCF5mbISP5RQAeC5kQSG8M/13yEr1PRiflBimFNsbT4R0blqrDgOierfKVDoowso55TkCQjLOlJllln5O4bJjZyQdW4TU/Jde6861v2Sqjnlo95RDgeObDCxtp/eaJz9u7sLrL3ZMLPPWbq8SYUqs3am+D3QyQ5mhOdPj1ocQMubIUiUOJqIIcFNCGFB9UrHQaSTFdqwVaeDUqxBgRKEEcjDO5QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALrkhguQzr9rlrsnsQ5OsIfRsSCmWOXgrN7s6dSv/hLzpv7qjN6W9jY9hIxVeQYtfWeqngQ5m0zpR2ZMUn1Je/hkE9kHKFMc8gX27TZ7pbgUQwBDee9bzyBQLG8e92bu38v2CWH0QEdunvH140SOMK8NPsk5vqJOA8BYoXpjHVMoTOY36C6T1NC3GEUa3dGtdZLtDUpUm9Qsirz09X6UT8qAAHwh2P6hOgL5oSupQVlt2LYe58vNcA0+0etpAcpY3tdPvOZ8c9kl0C1veT2FVXTKebEvxybkyqTS69n9tAV6h5beUssktM1C1z/QyA/XtBPoQaybE+ZQcCZVMGbRWUI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"70a5a3f661dc4bd5aa1cc10646338748"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1239'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 19:23:29 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending?api-version=7.1&request_id=70a5a3f661dc4bd5aa1cc10646338748
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=162.211.216.102;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.80.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.2 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzuuP62S5AKBoG2sY79ctGNWEq5okT7QTkFiXVku7313Uu8ME4piBeuytWfi3oExLxoctVjUuXSHplrGdiY2tZGaNt8OE9SpnoOyIGPNiJzeV1CWvdr+oObjjP3tYCF5mbISP5RQAeC5kQSG8M/13yEr1PRiflBimFNsbT4R0blqrDgOierfKVDoowso55TkCQjLOlJllln5O4bJjZyQdW4TU/Jde6861v2Sqjnlo95RDgeObDCxtp/eaJz9u7sLrL3ZMLPPWbq8SYUqs3am+D3QyQ5mhOdPj1ocQMubIUiUOJqIIcFNCGFB9UrHQaSTFdqwVaeDUqxBgRKEEcjDO5QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALrkhguQzr9rlrsnsQ5OsIfRsSCmWOXgrN7s6dSv/hLzpv7qjN6W9jY9hIxVeQYtfWeqngQ5m0zpR2ZMUn1Je/hkE9kHKFMc8gX27TZ7pbgUQwBDee9bzyBQLG8e92bu38v2CWH0QEdunvH140SOMK8NPsk5vqJOA8BYoXpjHVMoTOY36C6T1NC3GEUa3dGtdZLtDUpUm9Qsirz09X6UT8qAAHwh2P6hOgL5oSupQVlt2LYe58vNcA0+0etpAcpY3tdPvOZ8c9kl0C1veT2FVXTKebEvxybkyqTS69n9tAV6h5beUssktM1C1z/QyA/XtBPoQaybE+ZQcCZVMGbRWUI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"70a5a3f661dc4bd5aa1cc10646338748"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1239'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 19:23:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=162.211.216.102;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.80.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1ERXlNRFF4T1RJek16VmFGdzB5TURFeU1EUXhPVEkwTXpWYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU03cmordGt1UUNnYUJ0ckdPL1hMUmpWaEt1YUpFKzBFNUJZbDFaTHU5OWQxTHZEQk9LWWdYcnNyVm40dDZCTVM4YUhMVlkxTGwwaDZaYXhuWW1OcldSbWpiZkRoUFVxWjZEc2lCanpZaWMzbGRRbHIzYS9xRG00NHo5N1dBaGVabXlFaitVVUFIZ3VaRUVodkRQOWQ4aEs5VDBZbjVRWXBoVGJHMCtFZEc1YXF3NERvbnEzeWxRNktNTEtPZVU1QWtJeXpwU1paWlorVHVHeVkyY2tIVnVFMVB5WFh1dk90YjlrcW81NWFQZVVRNEhqbXd3c2JhZjNtaWMvYnU3QzZ5OTJUQ3p6MW02dkVtRktyTjJwdmc5ME1rT1pvVG5UNDlhSEVETG15RklsRGlhaUNIQlRRaGhRZlZLeDBHa2t4WGFzRlduZzFLc1FZRVNoQkhJd3p1VUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQU4yanY3Z0x3L3UxSmtIa0RUaXhLWWQyZEsvVWdLdm13ZU9oaXJyN0lldlMzOUlCYnhMMFR3aFArc1ZUT1UyU3RRWUFrVFBhWWpZLzJLZTg2R1E0OGJaY3BwRzA0TXZHQXErWm1yS0hUOWRYV0R1OFRlcVAvbms4VHNFSzVVMFg2Y2lGWS9YR3VnWTI5aTdxV3hnSENCVlNKVktrREMvc0k3blRGQ0FiUjhtd25xamoyemNQZmgrYjVSOTdDR2xBRTVQNVNtOXdlcTFQZVJGZjQrOEJLbHBBWWVERnhUN1BKSGNoeTdvVHEvb3pTYXpjN2tBUjQ0bUJHWlpYbFJHTWV2blhYMkg4cnZGRE5vZTY3M2ZSRW9hZ0hvc3dDV0hPdVhoNURFRDJrdWU1dmxrc1NlQjBUWXZ0cWF5bzZZSUNJdDhDY0Z2WVhJREIvWWtpME5hUy9GZz09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.2 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending/merge?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/b2e17b56d3e04f37b45be07d819b7c05","kid":"https://vaultname.vault.azure.net/keys/mergeCertificatea7191251/b2e17b56d3e04f37b45be07d819b7c05","sid":"https://vaultname.vault.azure.net/secrets/mergeCertificatea7191251/b2e17b56d3e04f37b45be07d819b7c05","x5t":"uJmvrSHX-sIINsoMKF_l_I3-pfY","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMDEyMDQxOTIzMzVaFw0yMDEyMDQxOTI0MzVaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM7rj+tkuQCgaBtrGO/XLRjVhKuaJE+0E5BYl1ZLu99d1LvDBOKYgXrsrVn4t6BMS8aHLVY1Ll0h6ZaxnYmNrWRmjbfDhPUqZ6DsiBjzYic3ldQlr3a/qDm44z97WAheZmyEj+UUAHguZEEhvDP9d8hK9T0Yn5QYphTbG0+EdG5aqw4Donq3ylQ6KMLKOeU5AkIyzpSZZZZ+TuGyY2ckHVuE1PyXXuvOtb9kqo55aPeUQ4Hjmwwsbaf3mic/bu7C6y92TCzz1m6vEmFKrN2pvg90MkOZoTnT49aHEDLmyFIlDiaiCHBTQhhQfVKx0GkkxXasFWng1KsQYEShBHIwzuUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAN2jv7gLw/u1JkHkDTixKYd2dK/UgKvmweOhirr7IevS39IBbxL0TwhP+sVTOU2StQYAkTPaYjY/2Ke86GQ48bZcppG04MvGAq+ZmrKHT9dXWDu8TeqP/nk8TsEK5U0X6ciFY/XGugY29i7qWxgHCBVSJVKkDC/sI7nTFCAbR8mwnqjj2zcPfh+b5R97CGlAE5P5Sm9weq1PeRFf4+8BKlpAYeDFxT7PJHchy7oTq/ozSazc7kAR44mBGZZXlRGMevnXX2H8rvFDNoe673fREoagHoswCWHOuXh5DED2kue5vlksSeB0TYvtqayo6YICIt8CcFvYXIDB/Yki0NaS/Fg==","attributes":{"enabled":true,"nbf":1607109815,"exp":1607109875,"created":1607109812,"updated":1607109812,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1607109810,"updated":1607109810}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2329'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 19:23:32 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/mergeCertificatea7191251?api-version=7.1
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=162.211.216.102;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.80.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
