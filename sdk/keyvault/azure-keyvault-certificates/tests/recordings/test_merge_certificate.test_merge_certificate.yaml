interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.0b2 Python/3.7.7 (Darwin-17.7.0-x86_64-i386-64bit)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificate/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 29 Jul 2020 17:55:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=73.135.72.237;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.10.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.0b2 Python/3.7.7 (Darwin-17.7.0-x86_64-i386-64bit)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificate/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificate/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5jkdJpZYiA3XLWm86EOl1IXkfUCPP8ypL2THRHZ0ywoRxnSKtZUjWz1tCJi2od8eJXk23BJVLjCLM7XqihqiT6n7oovI/ttsQyXIF+lwue1qjWILSXWCCqdMiwYGHcP5qqxpOhi/nRlXlaqyuyHEQAu4SYgmHxIBfddLJ5bewNJBvFShKZ6NwOMeM41Y95nkx4faNhqYcXJgg3pnNHPFMT3u4+CJw9B1Od6vUKHL7Sbevpc4MxHEWuTzz4rW8KQsSi4YxrEPgKbGnXPwQyKMUqEzKPePYWvmrrBinCK/g2IAytqlwanWpLBpQZIO91kCSFTj9eN5LMqtfwB/QsFyrQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAKTvHFx4f0kMtTTj5b0IatbxQf8lNoocv2YPEnJgW0P1FXantR0ee7vGC9M/ypXPQfwYKuZJOTrpZs9X0JioHQPyMpsHv2C9x0f5cDfrJM7rJX+cAB87S44F2FM8u4NWxoGjlag128UrukFuLMFE5edU9fYaCWH4BqIi3pmx9y85091gxZURbzPTW2A4wL/36qVi9OOQ4xT72Eo00ZHXaQotTRKUDG1T61WtY6belxPoax+BY9EUV9d16CKLAOgSVp5UAfVtliU0jyaNwcHC1pBCRI7V60Gs3y+Zg4PoqvpM61SqZsDSH7ZvwguPiUDwIWV+rH1QPYoNh00xIeTBVgM=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"3db06d9a68f648eb8c4a3328e276367e"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1231'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 29 Jul 2020 17:55:15 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/mergeCertificate/pending?api-version=7.1&request_id=3db06d9a68f648eb8c4a3328e276367e
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=73.135.72.237;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.10.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.0b2 Python/3.7.7 (Darwin-17.7.0-x86_64-i386-64bit)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificate/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificate/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5jkdJpZYiA3XLWm86EOl1IXkfUCPP8ypL2THRHZ0ywoRxnSKtZUjWz1tCJi2od8eJXk23BJVLjCLM7XqihqiT6n7oovI/ttsQyXIF+lwue1qjWILSXWCCqdMiwYGHcP5qqxpOhi/nRlXlaqyuyHEQAu4SYgmHxIBfddLJ5bewNJBvFShKZ6NwOMeM41Y95nkx4faNhqYcXJgg3pnNHPFMT3u4+CJw9B1Od6vUKHL7Sbevpc4MxHEWuTzz4rW8KQsSi4YxrEPgKbGnXPwQyKMUqEzKPePYWvmrrBinCK/g2IAytqlwanWpLBpQZIO91kCSFTj9eN5LMqtfwB/QsFyrQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAKTvHFx4f0kMtTTj5b0IatbxQf8lNoocv2YPEnJgW0P1FXantR0ee7vGC9M/ypXPQfwYKuZJOTrpZs9X0JioHQPyMpsHv2C9x0f5cDfrJM7rJX+cAB87S44F2FM8u4NWxoGjlag128UrukFuLMFE5edU9fYaCWH4BqIi3pmx9y85091gxZURbzPTW2A4wL/36qVi9OOQ4xT72Eo00ZHXaQotTRKUDG1T61WtY6belxPoax+BY9EUV9d16CKLAOgSVp5UAfVtliU0jyaNwcHC1pBCRI7V60Gs3y+Zg4PoqvpM61SqZsDSH7ZvwguPiUDwIWV+rH1QPYoNh00xIeTBVgM=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"3db06d9a68f648eb8c4a3328e276367e"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1231'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 29 Jul 2020 17:55:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=73.135.72.237;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.10.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1EQTNNamt4TnpVMU1UWmFGdzB5TURBM01qa3hOelUyTVRaYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU9ZNUhTYVdXSWdOMXkxcHZPaERwZFNGNUgxQWp6L01xUzlreDBSMmRNc0tFY1owaXJXVkkxczliUWlZdHFIZkhpVjVOdHdTVlM0d2l6TzE2b29hb2srcCs2S0x5UDdiYkVNbHlCZnBjTG50YW8xaUMwbDFnZ3FuVElzR0JoM0QrYXFzYVRvWXY1MFpWNVdxc3JzaHhFQUx1RW1JSmg4U0FYM1hTeWVXM3NEU1FieFVvU21lamNEakhqT05XUGVaNU1lSDJqWWFtSEZ5WUlONlp6Unp4VEU5N3VQZ2ljUFFkVG5lcjFDaHkrMG0zcjZYT0RNUnhGcms4OCtLMXZDa0xFb3VHTWF4RDRDbXhwMXo4RU1pakZLaE15ajNqMkZyNXE2d1lwd2l2NE5pQU1yYXBjR3AxcVN3YVVHU0R2ZFpBa2hVNC9YamVTektyWDhBZjBMQmNxMENBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQW5RcnNzWG1tN2UydVVnWnZ3aWJZbmN1YXM4Vmt5S1A5YlFGd0dFUUVmMlZqVFpCVTJEaldwL0RQYlNTL1Iwd1F6N3diKyt4N2M3R0hGUXBmUWxScURZaWwyWnQwU3pjVTVnaFhJSDhhVmpvUkY3a3B6aUNZQXBYWml3N3NuektnT2d0a3JRMDAwTThRRGFxK2ZIdWt0b1ZZTlVtZ0xaakdIWmRmY3FOS21xSDlmeXJlU3hybWdHb05JOUNEZGRhK1NCY1JQYjRWak54NUdLbzk2OVBTOVUzVXlRN08xQkZWaDh0NmpXODdIUzg5OUtvRU5RdjdJUnZFZXozUUdDNXhEVUxQb05FeWdRckt1Uk5nblBseG1LdjR0TWVzOVpCd1Rob20xSmYyR3doUjVxVEh1cktTZ09tK0w4Q1hWVWtJdjhOYUl5UHIrcGFRVTFVMnlsZ1pxQT09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.2.0b2 Python/3.7.7 (Darwin-17.7.0-x86_64-i386-64bit)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/mergeCertificate/pending/merge?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificate/269486fe3f57419aaa443285f1999884","kid":"https://vaultname.vault.azure.net/keys/mergeCertificate/269486fe3f57419aaa443285f1999884","sid":"https://vaultname.vault.azure.net/secrets/mergeCertificate/269486fe3f57419aaa443285f1999884","x5t":"uLtN8hDTPHCiGv6CG1w8jnxjBFk","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMDA3MjkxNzU1MTZaFw0yMDA3MjkxNzU2MTZaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOY5HSaWWIgN1y1pvOhDpdSF5H1Ajz/MqS9kx0R2dMsKEcZ0irWVI1s9bQiYtqHfHiV5NtwSVS4wizO16ooaok+p+6KLyP7bbEMlyBfpcLntao1iC0l1ggqnTIsGBh3D+aqsaToYv50ZV5WqsrshxEALuEmIJh8SAX3XSyeW3sDSQbxUoSmejcDjHjONWPeZ5MeH2jYamHFyYIN6ZzRzxTE97uPgicPQdTner1Chy+0m3r6XODMRxFrk88+K1vCkLEouGMaxD4Cmxp1z8EMijFKhMyj3j2Fr5q6wYpwiv4NiAMrapcGp1qSwaUGSDvdZAkhU4/XjeSzKrX8Af0LBcq0CAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAnQrssXmm7e2uUgZvwibYncuas8VkyKP9bQFwGEQEf2VjTZBU2DjWp/DPbSS/R0wQz7wb++x7c7GHFQpfQlRqDYil2Zt0SzcU5ghXIH8aVjoRF7kpziCYApXZiw7snzKgOgtkrQ000M8QDaq+fHuktoVYNUmgLZjGHZdfcqNKmqH9fyreSxrmgGoNI9CDdda+SBcRPb4VjNx5GKo969PS9U3UyQ7O1BFVh8t6jW87HS899KoENQv7IRvEez3QGC5xDULPoNEygQrKuRNgnPlxmKv4tMes9ZBwThom1Jf2GwhR5qTHurKSgOm+L8CXVUkIv8NaIyPr+paQU1U2ylgZqA==","attributes":{"enabled":true,"nbf":1596045316,"exp":1596045376,"created":1596045316,"updated":1596045316,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificate/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1596045315,"updated":1596045315}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/mergeCertificate/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2289'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 29 Jul 2020 17:55:16 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/mergeCertificate?api-version=7.1
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=73.135.72.237;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.10.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
