interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/create?api-version=7.0
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0//TGsJURKR3OwkTGX2BI52TgT9SFGF4O/FRTdB7kothdSFMTTydIHinybkYP7EDfE+CxUBgsObi7J2zCYGiDEwa9XG9L9TesOvsDhQfh+fmx4KAQGIoZUs5lq41BQr07hySoWWeE0kQgRQ2BeAGeaJf1crTy12ggvktvMPJglM5cpArrpyTpFy0/XDoYaJ5fct2svsLd9Lrbyzvg1EX9iN0Uh/tGI1FanDlWDGTf+tO/pB8WhooM5pfMGQdGhObOnCp5564V9xsiFIkoawBh1nFmhu5bNczN4yUoO7WOIg+ROCnODj3zS8fgDL8tWWtmPW6ZOBGnNjfvKoHY5Z0/QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACTKoV/ynUBfubrLERxxjXOgn08YxpcwmXIgMTS4b77o8eSxbMmIzg0QRV1tm03biq27X9FFPPu3EvYiQc08V2kIpF2UEqkimcLfQQCKOSdfrRxjYuAh9RrpKKUdkonVWpyXUGTskO6xOnJQnOwYx752b5yBKQeT/GSCkfwRefvHv8xdG3ijIKZv17T1gEWna3OMECth2JCH5I1qg/JMZfWlyAwZg0Go1TuX7F7pTug10qmwstr5t7w8o7T5Y1orWzFZDTPySlNV1QnU0iGnJy2BlmjERA1WAfQ+8xxO0qFyL23Jz3VrDGsT4dhfEkYwcnJaRWuFLeCMzCP1S4h11yA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"627700577c4d4b54b11dd9782d478726"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:27 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending?api-version=7.0&request_id=627700577c4d4b54b11dd9782d478726
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0//TGsJURKR3OwkTGX2BI52TgT9SFGF4O/FRTdB7kothdSFMTTydIHinybkYP7EDfE+CxUBgsObi7J2zCYGiDEwa9XG9L9TesOvsDhQfh+fmx4KAQGIoZUs5lq41BQr07hySoWWeE0kQgRQ2BeAGeaJf1crTy12ggvktvMPJglM5cpArrpyTpFy0/XDoYaJ5fct2svsLd9Lrbyzvg1EX9iN0Uh/tGI1FanDlWDGTf+tO/pB8WhooM5pfMGQdGhObOnCp5564V9xsiFIkoawBh1nFmhu5bNczN4yUoO7WOIg+ROCnODj3zS8fgDL8tWWtmPW6ZOBGnNjfvKoHY5Z0/QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACTKoV/ynUBfubrLERxxjXOgn08YxpcwmXIgMTS4b77o8eSxbMmIzg0QRV1tm03biq27X9FFPPu3EvYiQc08V2kIpF2UEqkimcLfQQCKOSdfrRxjYuAh9RrpKKUdkonVWpyXUGTskO6xOnJQnOwYx752b5yBKQeT/GSCkfwRefvHv8xdG3ijIKZv17T1gEWna3OMECth2JCH5I1qg/JMZfWlyAwZg0Go1TuX7F7pTug10qmwstr5t7w8o7T5Y1orWzFZDTPySlNV1QnU0iGnJy2BlmjERA1WAfQ+8xxO0qFyL23Jz3VrDGsT4dhfEkYwcnJaRWuFLeCMzCP1S4h11yA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"627700577c4d4b54b11dd9782d478726"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQXpNalV3TURRMk1qaGFGdzB5TVRBek1qVXdNRFEzTWpoYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU5QLzB4ckNWRVNrZHpzSkV4bDlnU09kazRFL1VoUmhlRHZ4VVUzUWU1S0xZWFVoVEUwOG5TQjRwOG01R0QreEEzeFBnc1ZBWUxEbTR1eWRzd21Cb2d4TUd2Vnh2Uy9VM3JEcjdBNFVINGZuNXNlQ2dFQmlLR1ZMT1phdU5RVUs5TzRja3FGbG5oTkpFSUVVTmdYZ0JubWlYOVhLMDh0ZG9JTDVMYnpEeVlKVE9YS1FLNjZjazZSY3RQMXc2R0dpZVgzTGRyTDdDM2ZTNjI4czc0TlJGL1lqZEZJZjdSaU5SV3B3NVZneGszL3JUdjZRZkZvYUtET2FYekJrSFJvVG16cHdxZWVldUZmY2JJaFNKS0dzQVlkWnhab2J1V3pYTXplTWxLRHUxamlJUGtUZ3B6ZzQ5ODB2SDRBeS9MVmxyWmoxdW1UZ1JwelkzN3lxQjJPV2RQMENBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQVV5Wm5CdmNUQUpTdVppeVdNWnJxS3V3b3BvWFpsYTd4d25yWVFTQVppOWRWcy9jRzVQNmZRM3NXSXBNRmFpWnYreHcvOU9vZmpiT2hYNkFJeW0zeFA5ZWJFcmkvaGNBN3pPQzZONENIenpkZWZlT0NCR29NRS91cG5ZU29hYWdzTFkxeXMrdE9haCtuWEpMUjNEQ1BxOXIrSGpBZ052QWtTZTZrNjVoTjRiK044eFNObFhjalkyQVpEV0xTN3JiOGRqTnliM1pyVGMyLzRlYmRCeE9JQ28vWjJlUjcxNVJIK2hCU2hWbW9SZHA5MFhZUDhuVnZHWkNibUdhdDZSUUpjK2g0WHhGUDNMWVVjbW12LzViT3ovc3RUdzVHRFVRZmdnVHI3ellUNnE3Zm9jUUd4S1hZWlBVMnhCTVBpRS9SZ1U4cWdJZGk3c3RrQTNza0NPL2NnZz09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending/merge?api-version=7.0
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/9a4b54facf284d3d89591ed28340c074","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificatef36c1376/9a4b54facf284d3d89591ed28340c074","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificatef36c1376/9a4b54facf284d3d89591ed28340c074","x5t":"Aw021b5ZGfQ8LqTPR_ChTmgYmtg","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTAzMjUwMDQ2MjhaFw0yMTAzMjUwMDQ3MjhaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANP/0xrCVESkdzsJExl9gSOdk4E/UhRheDvxUU3Qe5KLYXUhTE08nSB4p8m5GD+xA3xPgsVAYLDm4uydswmBogxMGvVxvS/U3rDr7A4UH4fn5seCgEBiKGVLOZauNQUK9O4ckqFlnhNJEIEUNgXgBnmiX9XK08tdoIL5LbzDyYJTOXKQK66ck6RctP1w6GGieX3LdrL7C3fS628s74NRF/YjdFIf7RiNRWpw5Vgxk3/rTv6QfFoaKDOaXzBkHRoTmzpwqeeeuFfcbIhSJKGsAYdZxZobuWzXMzeMlKDu1jiIPkTgpzg4980vH4Ay/LVlrZj1umTgRpzY37yqB2OWdP0CAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAUyZnBvcTAJSuZiyWMZrqKuwopoXZla7xwnrYQSAZi9dVs/cG5P6fQ3sWIpMFaiZv+xw/9OofjbOhX6AIym3xP9ebEri/hcA7zOC6N4CHzzdefeOCBGoME/upnYSoaagsLY1ys+tOah+nXJLR3DCPq9r+HjAgNvAkSe6k65hN4b+N8xSNlXcjY2AZDWLS7rb8djNyb3ZrTc2/4ebdBxOICo/Z2eR715RH+hBShVmoRdp90XYP8nVvGZCbmGat6RQJc+h4XxFP3LYUcmmv/5bOz/stTw5GDUQfggTr7zYT6q7focQGxKXYZPU2xBMPiE/RgU8qgIdi7stkA3skCO/cgg==","attributes":{"enabled":true,"nbf":1616633188,"exp":1616633248,"created":1616633187,"updated":1616633187,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1616633187,"updated":1616633187}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2288'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:27 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36c1376?api-version=7.0
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
