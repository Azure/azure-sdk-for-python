interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/create?api-version=7.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/create?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA01QbQnfcwO/rIYEgmYb9X5wzS/2W4lqADsIbmVJz8SZE2l89pdWrl/9N3DkaZbYQQ4aXkajq1rmvcOJAcYpHaMAXxj9JLcC/IgkggEt/j1atQRyHnKM2nPxsgLIUIYBv2gU8LdWck4eSVWK9/HvLHtPmW2py9/Vy5s84tleBI35WWoPkAL8ObTat/rJoO9zMCfMYqVlfMQO5Iy7ELrnTa/AW1LYbG+cHjY598utrs0P8W5r/0XYS9g24b7YpdJcP9DPn8azGI2XcQ9vy1e7sEIIkO5TmLE50lYUom8GzefBR8J7PZYk8YEi1Gggj62uZD+eRkYne/addqC8f8impZQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAHX8l4bXLIdLbNJ4L/b/fgmtw/ivNL4LVfVofxZi6H/OSLDbYVyfQWyVLXqfyrNaWHXm8DQuOTJxBG082yFUhvQp1bm/24eF0L64dzTHDFn8IzSqEB6+1uWciy6zgpOwRDV8MOPrV/ZsZUiPROR9Pk7nM/5LLr8dmRPIQP0uhpeMruvwZDQEOhzaOzFEzYLVqQ3cPWuG9OhIvmrfKLHBm8yEvJqR0dyWKxnzB9uw1IPAMHDb3EUe+2C+3HEEk9Rt5IyPaCUuYuDRn4xq0ibZuosNlx2WV37eMoDAMZncpdHs2VlIQ/R9Z0FiYX+KnCRYnmwgwDui2aq48GP+5IA4rEM=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"c16741b00bf249518e357ba10545248f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:28 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending?api-version=7.1&request_id=c16741b00bf249518e357ba10545248f
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA01QbQnfcwO/rIYEgmYb9X5wzS/2W4lqADsIbmVJz8SZE2l89pdWrl/9N3DkaZbYQQ4aXkajq1rmvcOJAcYpHaMAXxj9JLcC/IgkggEt/j1atQRyHnKM2nPxsgLIUIYBv2gU8LdWck4eSVWK9/HvLHtPmW2py9/Vy5s84tleBI35WWoPkAL8ObTat/rJoO9zMCfMYqVlfMQO5Iy7ELrnTa/AW1LYbG+cHjY598utrs0P8W5r/0XYS9g24b7YpdJcP9DPn8azGI2XcQ9vy1e7sEIIkO5TmLE50lYUom8GzefBR8J7PZYk8YEi1Gggj62uZD+eRkYne/addqC8f8impZQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAHX8l4bXLIdLbNJ4L/b/fgmtw/ivNL4LVfVofxZi6H/OSLDbYVyfQWyVLXqfyrNaWHXm8DQuOTJxBG082yFUhvQp1bm/24eF0L64dzTHDFn8IzSqEB6+1uWciy6zgpOwRDV8MOPrV/ZsZUiPROR9Pk7nM/5LLr8dmRPIQP0uhpeMruvwZDQEOhzaOzFEzYLVqQ3cPWuG9OhIvmrfKLHBm8yEvJqR0dyWKxnzB9uw1IPAMHDb3EUe+2C+3HEEk9Rt5IyPaCUuYuDRn4xq0ibZuosNlx2WV37eMoDAMZncpdHs2VlIQ/R9Z0FiYX+KnCRYnmwgwDui2aq48GP+5IA4rEM=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"c16741b00bf249518e357ba10545248f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQXpNalV3TURRMk16QmFGdzB5TVRBek1qVXdNRFEzTXpCYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU5OVUcwSjMzTUR2NnlHQklKbUcvVitjTTB2OWx1SmFnQTdDRzVsU2MvRW1STnBmUGFYVnE1Zi9UZHc1R21XMkVFT0dsNUdvNnRhNXIzRGlRSEdLUjJqQUY4WS9TUzNBdnlJSklJQkxmNDlXclVFY2g1eWpOcHo4YklDeUZDR0FiOW9GUEMzVm5KT0hrbFZpdmZ4N3l4N1Q1bHRxY3ZmMWN1YlBPTFpYZ1NOK1ZscUQ1QUMvRG0wMnJmNnlhRHZjekFuekdLbFpYekVEdVNNdXhDNjUwMnZ3RnRTMkd4dm5CNDJPZmZMcmE3TkQvRnVhLzlGMkV2WU51RysyS1hTWEQvUXo1L0dzeGlObDNFUGI4dFh1N0JDQ0pEdVU1aXhPZEpXRktKdkJzM253VWZDZXoyV0pQR0JJdFJvSUkrdHJtUS9ua1pHSjN2Mm5YYWd2SC9JcHFXVUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQTZwdXNnNVRJbW1ScnJrTVBCbE5naXBlREo0M0hLNFdwdlkrUEMwVzNxbXE3THFFdlFNOUVZc0hGeGNYWllOR0tXVUxkdUo2NE4vdWZHdzNqUHQ4UWVsaDZrUXgxWWgrd2E4dkRvVDJvRHl5K2J5ZldhNFcyUWRzc1ZYVUN4dzRmRUxKZXVkTVVKQmR0UnovZjU5UWtGbm5tcTdJbm4vSXhFdFhIeXdBMjF3OXptcmRVS200NmRYdkZuWVREMkNPek9semQ5akRoUTdFTE9WcG1SY2RZNEtwb0I3RUl0K1o0SDM0dHEvNGkrdXM0SlB6MXhnTmdreDQyTVlPQytNZXo3d2tXenlacTZBRUlYRDg3THNRVThXWWdTWVZzbTVBSkJOUWxDaE1tdlZYRmVoNk9DbEVKRGs1azlFYUVSZTNaL2pQOENHK2p6TlBRTTU0M1VybysvUT09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending/merge?api-version=7.1
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/4eabf57329da4d7aba654f26b57444fd","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificatef36d1377/4eabf57329da4d7aba654f26b57444fd","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificatef36d1377/4eabf57329da4d7aba654f26b57444fd","x5t":"UGuOCpUM5kfVNss3udbFpDeXmeA","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTAzMjUwMDQ2MzBaFw0yMTAzMjUwMDQ3MzBaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANNUG0J33MDv6yGBIJmG/V+cM0v9luJagA7CG5lSc/EmRNpfPaXVq5f/Tdw5GmW2EEOGl5Go6ta5r3DiQHGKR2jAF8Y/SS3AvyIJIIBLf49WrUEch5yjNpz8bICyFCGAb9oFPC3VnJOHklVivfx7yx7T5ltqcvf1cubPOLZXgSN+VlqD5AC/Dm02rf6yaDvczAnzGKlZXzEDuSMuxC6502vwFtS2GxvnB42OffLra7ND/Fua/9F2EvYNuG+2KXSXD/Qz5/GsxiNl3EPb8tXu7BCCJDuU5ixOdJWFKJvBs3nwUfCez2WJPGBItRoII+trmQ/nkZGJ3v2nXagvH/IpqWUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEA6pusg5TImmRrrkMPBlNgipeDJ43HK4WpvY+PC0W3qmq7LqEvQM9EYsHFxcXZYNGKWULduJ64N/ufGw3jPt8Qelh6kQx1Yh+wa8vDoT2oDyy+byfWa4W2QdssVXUCxw4fELJeudMUJBdtRz/f59QkFnnmq7Inn/IxEtXHywA21w9zmrdUKm46dXvFnYTD2COzOlzd9jDhQ7ELOVpmRcdY4KpoB7EIt+Z4H34tq/4i+us4JPz1xgNgkx42MYOC+Mez7wkWzyZq6AEIXD87LsQU8WYgSYVsm5AJBNQlChMmvVXFeh6OClEJDk5k9EaERe3Z/jP8CG+jzNPQM543Uro+/Q==","attributes":{"enabled":true,"nbf":1616633190,"exp":1616633250,"created":1616633189,"updated":1616633189,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1616633189,"updated":1616633189}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:29 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36d1377?api-version=7.1
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
