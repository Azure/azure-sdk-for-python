interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0b1 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/create?api-version=7.3-preview
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control: no-cache
      content-length: '97'
      content-type: application/json; charset=utf-8
      date: Tue, 31 Aug 2021 00:00:49 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      www-authenticate: Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus
      x-ms-keyvault-service-version: 1.9.79.1
      x-powered-by: ASP.NET
    status:
      code: 401
      message: Unauthorized
    url: https://mcpatino-kv.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/create?api-version=7.3-preview
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0b1 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/create?api-version=7.3-preview
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAramhlmTqYY6/4ufPuGZKkDHQ9frdJ+6ZmuNmgFJM5JUxZErH3YHNN2dj1ksO5yMPb3SMkSAcSHY78pObDu56AnntwreYViS1OUoJEefPA4LH1exG9TRO1Ss1PY6JcZDK552dlaDmeRfeZUYZr6TiDQKkckJhD2II6zd1u6iHvdDBIpHkfl/GQ9VzjOQoI4Bnr+B0NOjed6tTpibA4IvLR1koHWnffkaLYRUOvDLhpTt+rO2OPgsawQUPASOcT5Yo//80eCbaaJL4D9Ef60MIKA4vY4czNNIj/wrVoV9Pv6PMganwKq34A5CYgSzQZ2snYxj9xwe7yymFj8AQNuCliQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAADFFrz2FAfH59l9x//X6t3RH1RKvsFkPwFvP3aLbBuddb0OKZrIg06GS1iX5QR+T0Jx2zKDNHH1wJoaXiNLBAUAHCVc2CMIhTcN90EUSqg6BWodBZ1QcQNLmGDtkdfQ39Bawrm7EZhXhbIIGcYYBE/ASvkzX6J0XyMDjjIOWbGji33X9jjiSEOJR8PzN26DCw8mw+AqqZUXYTRt39QtT2uhADSBCS6ufjRKF3PItnWkFb6nziP8GiWv587Gic0U714lQbl6+CfZ4ww5ColrjYLMVcqE9NRClhl0n2RR1dN2XYWoteO2V7vqBeDurWOnebEJYFyiqHhegvzNP5I7xgc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"92437a9304b84ff494a91ab2a43178ea"}'
    headers:
      cache-control: no-cache
      content-length: '1236'
      content-type: application/json; charset=utf-8
      date: Tue, 31 Aug 2021 00:00:50 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending?api-version=7.3-preview&request_id=92437a9304b84ff494a91ab2a43178ea
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus
      x-ms-keyvault-service-version: 1.9.79.1
      x-powered-by: ASP.NET
    status:
      code: 202
      message: Accepted
    url: https://mcpatino-kv.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/create?api-version=7.3-preview
- request:
    body: null
    headers:
      Accept:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0b1 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending?api-version=7.3-preview
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAramhlmTqYY6/4ufPuGZKkDHQ9frdJ+6ZmuNmgFJM5JUxZErH3YHNN2dj1ksO5yMPb3SMkSAcSHY78pObDu56AnntwreYViS1OUoJEefPA4LH1exG9TRO1Ss1PY6JcZDK552dlaDmeRfeZUYZr6TiDQKkckJhD2II6zd1u6iHvdDBIpHkfl/GQ9VzjOQoI4Bnr+B0NOjed6tTpibA4IvLR1koHWnffkaLYRUOvDLhpTt+rO2OPgsawQUPASOcT5Yo//80eCbaaJL4D9Ef60MIKA4vY4czNNIj/wrVoV9Pv6PMganwKq34A5CYgSzQZ2snYxj9xwe7yymFj8AQNuCliQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAADFFrz2FAfH59l9x//X6t3RH1RKvsFkPwFvP3aLbBuddb0OKZrIg06GS1iX5QR+T0Jx2zKDNHH1wJoaXiNLBAUAHCVc2CMIhTcN90EUSqg6BWodBZ1QcQNLmGDtkdfQ39Bawrm7EZhXhbIIGcYYBE/ASvkzX6J0XyMDjjIOWbGji33X9jjiSEOJR8PzN26DCw8mw+AqqZUXYTRt39QtT2uhADSBCS6ufjRKF3PItnWkFb6nziP8GiWv587Gic0U714lQbl6+CfZ4ww5ColrjYLMVcqE9NRClhl0n2RR1dN2XYWoteO2V7vqBeDurWOnebEJYFyiqHhegvzNP5I7xgc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"92437a9304b84ff494a91ab2a43178ea"}'
    headers:
      cache-control: no-cache
      content-length: '1236'
      content-type: application/json; charset=utf-8
      date: Tue, 31 Aug 2021 00:00:50 GMT
      expires: '-1'
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus
      x-ms-keyvault-service-version: 1.9.79.1
      x-powered-by: ASP.NET
    status:
      code: 200
      message: OK
    url: https://mcpatino-kv.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending?api-version=7.3-preview
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQTRNekV3TURBd05UQmFGdzB5TVRBNE16RXdNREF4TlRCYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUsycG9aWms2bUdPditMbno3aG1TcEF4MFBYNjNTZnVtWnJqWm9CU1RPU1ZNV1JLeDkyQnpUZG5ZOVpMRHVjakQyOTBqSkVnSEVoMk8vS1Rtdzd1ZWdKNTdjSzNtRllrdFRsS0NSSG56d09DeDlYc1J2VTBUdFVyTlQyT2lYR1F5dWVkblpXZzVua1gzbVZHR2ErazRnMENwSEpDWVE5aUNPczNkYnVvaDczUXdTS1I1SDVmeGtQVmM0emtLQ09BWjYvZ2REVG8zbmVyVTZZbXdPQ0x5MGRaS0IxcDMzNUdpMkVWRHJ3eTRhVTdmcXp0amo0TEdzRUZEd0VqbkUrV0tQLy9OSGdtMm1pUytBL1JIK3REQ0NnT0wyT0hNelRTSS84SzFhRmZUNytqeklHcDhDcXQrQU9RbUlFczBHZHJKMk1ZL2NjSHU4c3BoWS9BRURiZ3BZa0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUdSakRRSUQxR1NXZVVIWUhZNUZBWXhmd2xkRHNtNGpNZUhYd3o0MXoreXZnYUtTZVg2Q0w1bGlvY0k2TEtLUFJjNE8wVUo1MERSVjdPd29GRk9Sa01weTh5dENRWnZ1bkNmWWdaNmt6K29TRktHZTJuQ0RRVnNycUloUWhQYjQ4S1ZiRVFIZ0NIb2lTNzJEQjdWOURnTkZNeWRSNzRRak03eE43YTQxOG9xZzZOTmpoYXhPMzJPMXpxWWlLTWhDYkNFMmtNUVBwWDZJalJGRnZTTStvWGtlRkNESzFCWnpWUzhTOXNHRlJZZE1hTHJ2V2FkYTVYbmdDNnlaQ29LaUp2VDhIQ21oZWQ2ZnF6V1A1a3EzWVZUZXRjS1lHdTFFR0F0T3grSkVzTk53R1RleUR1VG1DK3FJcXBFNmQ3cldXYWpHVGxiUlFKU0JodWFkNlBiMzR3dz09"]}'
    headers:
      Accept:
      - application/json
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.4.0b1 Python/3.9.0 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending/merge?api-version=7.3-preview
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/ca576211c7674176838157be20955ec6","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificate346e1957/ca576211c7674176838157be20955ec6","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificate346e1957/ca576211c7674176838157be20955ec6","x5t":"k34J-XDXSskFQgGvbn8SKv6W-fE","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTA4MzEwMDAwNTBaFw0yMTA4MzEwMDAxNTBaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAK2poZZk6mGOv+Lnz7hmSpAx0PX63SfumZrjZoBSTOSVMWRKx92BzTdnY9ZLDucjD290jJEgHEh2O/KTmw7uegJ57cK3mFYktTlKCRHnzwOCx9XsRvU0TtUrNT2OiXGQyuednZWg5nkX3mVGGa+k4g0CpHJCYQ9iCOs3dbuoh73QwSKR5H5fxkPVc4zkKCOAZ6/gdDTo3nerU6YmwOCLy0dZKB1p335Gi2EVDrwy4aU7fqztjj4LGsEFDwEjnE+WKP//NHgm2miS+A/RH+tDCCgOL2OHMzTSI/8K1aFfT7+jzIGp8Cqt+AOQmIEs0GdrJ2MY/ccHu8sphY/AEDbgpYkCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAGRjDQID1GSWeUHYHY5FAYxfwldDsm4jMeHXwz41z+yvgaKSeX6CL5liocI6LKKPRc4O0UJ50DRV7OwoFFORkMpy8ytCQZvunCfYgZ6kz+oSFKGe2nCDQVsrqIhQhPb48KVbEQHgCHoiS72DB7V9DgNFMydR74QjM7xN7a418oqg6NNjhaxO32O1zqYiKMhCbCE2kMQPpX6IjRFFvSM+oXkeFCDK1BZzVS8S9sGFRYdMaLrvWada5XngC6yZCoKiJvT8HCmhed6fqzWP5kq3YVTetcKYGu1EGAtOx+JEsNNwGTeyDuTmC+qIqpE6d7rWWajGTlbRQJSBhuad6Pb34ww==","attributes":{"enabled":true,"nbf":1630368050,"exp":1630368110,"created":1630368050,"updated":1630368050,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1630368050,"updated":1630368050}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending"}}'
    headers:
      cache-control: no-cache
      content-length: '2323'
      content-type: application/json; charset=utf-8
      date: Tue, 31 Aug 2021 00:00:50 GMT
      expires: '-1'
      location: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate346e1957?api-version=7.3-preview
      pragma: no-cache
      strict-transport-security: max-age=31536000;includeSubDomains
      x-content-type-options: nosniff
      x-ms-keyvault-network-info: conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region: westus
      x-ms-keyvault-service-version: 1.9.79.1
      x-powered-by: ASP.NET
    status:
      code: 201
      message: Created
    url: https://mcpatino-kv.vault.azure.net/certificates/livekvtestmergeCertificate346e1957/pending/merge?api-version=7.3-preview
version: 1
