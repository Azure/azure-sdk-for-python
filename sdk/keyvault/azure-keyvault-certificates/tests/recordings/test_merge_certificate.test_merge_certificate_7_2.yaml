interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/create?api-version=7.2
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 08 May 2021 00:39:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.265.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"sans": {}, "subject": "CN=MyCert"}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/create?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6q8rRBMwsfn6lYMgSLnumCrvTbnyO+PLtBuVpFPBwC+7CuAa5DfOz+880zOfXaE5uNbXi6ownBW0hGIuEkAQrOz9agFiPm7EC5EaVk7tP3gBMmsZJCWCJufuim0Mk5EtPmtoyqFcAuPsDLR3WOgy6enKbi8n+tBvFCg+UGZ/C+9BJWu0espCS1vnEfFPhPiQfpXWB8/y1caQbFDITb7XOqnOLvKQ3dhR3aWozslzPaJFbMaA4tlR01Pj426pw1jmRH3cN/H/SGq57g1pGaHDbCQtRPYWgxH5L23Av2Tjom8+eEsJFRLthnyse5VsAZNWfD+32yhtqC7HmNNFOreghQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAC4F0MZnfa3REXRuzmwTy/kveylg3wqY+gb0sjiG+z5urV0aGBBz7yn2ydHlZRBO8KsOUu5JeOtCtVwaQTCpU4xlUrKkAwQqIO9OVZ1iP8+u0vckP3Kar+vu6nv/UmCKDBxzyZA8lsBsraXFKqZB1DmeVKcz8RJWBdSP9rvXGScxGP6dox+YzYvVVBLRgBmkVWJdrt1agjcfIckxnY+barurQSPwRgdNrcVS03agE1UAxysc0FZ5655trs71Y/Pgk+qKkFgk+HfYFaxqv5GhVWd81uMUj/FpRtaNXJYr6nGHADB+hecJgKcH2qZ4WNEQDPPtmhh1kkL4h5nptqSXEkE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"ba44f26fd681454e86f35fe868cccff9"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 08 May 2021 00:39:38 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending?api-version=7.2&request_id=ba44f26fd681454e86f35fe868cccff9
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.265.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6q8rRBMwsfn6lYMgSLnumCrvTbnyO+PLtBuVpFPBwC+7CuAa5DfOz+880zOfXaE5uNbXi6ownBW0hGIuEkAQrOz9agFiPm7EC5EaVk7tP3gBMmsZJCWCJufuim0Mk5EtPmtoyqFcAuPsDLR3WOgy6enKbi8n+tBvFCg+UGZ/C+9BJWu0espCS1vnEfFPhPiQfpXWB8/y1caQbFDITb7XOqnOLvKQ3dhR3aWozslzPaJFbMaA4tlR01Pj426pw1jmRH3cN/H/SGq57g1pGaHDbCQtRPYWgxH5L23Av2Tjom8+eEsJFRLthnyse5VsAZNWfD+32yhtqC7HmNNFOreghQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAC4F0MZnfa3REXRuzmwTy/kveylg3wqY+gb0sjiG+z5urV0aGBBz7yn2ydHlZRBO8KsOUu5JeOtCtVwaQTCpU4xlUrKkAwQqIO9OVZ1iP8+u0vckP3Kar+vu6nv/UmCKDBxzyZA8lsBsraXFKqZB1DmeVKcz8RJWBdSP9rvXGScxGP6dox+YzYvVVBLRgBmkVWJdrt1agjcfIckxnY+barurQSPwRgdNrcVS03agE1UAxysc0FZ5655trs71Y/Pgk+qKkFgk+HfYFaxqv5GhVWd81uMUj/FpRtaNXJYr6nGHADB+hecJgKcH2qZ4WNEQDPPtmhh1kkL4h5nptqSXEkE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"ba44f26fd681454e86f35fe868cccff9"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 08 May 2021 00:39:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.265.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQTFNRGd3TURNNU5EQmFGdzB5TVRBMU1EZ3dNRFF3TkRCYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU9xdkswUVRNTEg1K3BXRElFaTU3cGdxNzAyNThqdmp5N1FibGFSVHdjQXZ1d3JnR3VRM3pzL3ZQTk16bjEyaE9ialcxNHVxTUp3VnRJUmlMaEpBRUt6cy9Xb0JZajV1eEF1UkdsWk83VDk0QVRKckdTUWxnaWJuN29wdERKT1JMVDVyYU1xaFhBTGo3QXkwZDFqb011bnB5bTR2Si9yUWJ4UW9QbEJtZnd2dlFTVnJ0SHJLUWt0YjV4SHhUNFQ0a0g2VjFnZlA4dFhHa0d4UXlFMisxenFwemk3eWtOM1lVZDJscU03SmN6MmlSV3pHZ09MWlVkTlQ0K051cWNOWTVrUjkzRGZ4LzBocXVlNE5hUm1odzJ3a0xVVDJGb01SK1M5dHdMOWs0Nkp2UG5oTENSVVM3WVo4ckh1VmJBR1RWbncvdDlzb2JhZ3V4NWpUUlRxM29JVUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUVHWHZHSURnNmJsMlQwZjExQjM5VGo5cGxESlRFMVJqNzdZQ3Zzcmh5V3doZEk5ZHQxM1F2SHRlNFpRdjJOSEVaazd1SjcxcVBaL3NlNUdOdWlGY0Y3L3ZocUxPSkdDdzNzMjFQMmxDUzF5dmJvemxkbUYzczRQc3NvOUc0cERBanhmWkowWHloMkorcUpPR0tFUEF0STBlQ0VzR3NmUVlYVTdXK2pMUkNOTXh2K1BqSEVLZ21BYUNJSTlCWGFxUFowQ2FFOXVyUmRCTDhVRi9ySVA4aEd1THkreWJPaGcvVEVKcnZjRXhkeGZZRFFrSnpIRFBPS2RQcGdRekxHeFhhVGRwZ09GaEIrWjBqb2p6dXh2UlBldHB5VHdLdURNZktYbk95UWgwVXZhQ0pzcXdaT1RPLzdtSVdSTnFPNGVXbUVUNjdjSEp5VnllUWRQYXVuVldCUT09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending/merge?api-version=7.2
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/6d4fceafdb514463a3dbf0b7693be307","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificatef36e1378/6d4fceafdb514463a3dbf0b7693be307","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificatef36e1378/6d4fceafdb514463a3dbf0b7693be307","x5t":"7quz5MfEUx07CfLKTDqK5cjRXkk","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTA1MDgwMDM5NDBaFw0yMTA1MDgwMDQwNDBaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOqvK0QTMLH5+pWDIEi57pgq70258jvjy7QblaRTwcAvuwrgGuQ3zs/vPNMzn12hObjW14uqMJwVtIRiLhJAEKzs/WoBYj5uxAuRGlZO7T94ATJrGSQlgibn7optDJORLT5raMqhXALj7Ay0d1joMunpym4vJ/rQbxQoPlBmfwvvQSVrtHrKQktb5xHxT4T4kH6V1gfP8tXGkGxQyE2+1zqpzi7ykN3YUd2lqM7Jcz2iRWzGgOLZUdNT4+NuqcNY5kR93Dfx/0hque4NaRmhw2wkLUT2FoMR+S9twL9k46JvPnhLCRUS7YZ8rHuVbAGTVnw/t9sobagux5jTRTq3oIUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAEGXvGIDg6bl2T0f11B39Tj9plDJTE1Rj77YCvsrhyWwhdI9dt13QvHte4ZQv2NHEZk7uJ71qPZ/se5GNuiFcF7/vhqLOJGCw3s21P2lCS1yvbozldmF3s4Psso9G4pDAjxfZJ0Xyh2J+qJOGKEPAtI0eCEsGsfQYXU7W+jLRCNMxv+PjHEKgmAaCII9BXaqPZ0CaE9urRdBL8UF/rIP8hGuLy+ybOhg/TEJrvcExdxfYDQkJzHDPOKdPpgQzLGxXaTdpgOFhB+Z0jojzuxvRPetpyTwKuDMfKXnOyQh0UvaCJsqwZOTO/7mIWRNqO4eWmET67cHJyVyeQdPaunVWBQ==","attributes":{"enabled":true,"nbf":1620434380,"exp":1620434440,"created":1620434379,"updated":1620434379,"recoveryLevel":"Recoverable+Purgeable","recoverableDays":90},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1620434379,"updated":1620434379}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 08 May 2021 00:39:39 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificatef36e1378?api-version=7.2
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.265.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
