interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/create?api-version=2016-10-01
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"x509_props": {"subject": "CN=MyCert", "sans": {}}, "issuer":
      {"name": "Unknown", "cert_transparency": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '123'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6KkrOVPP5+UjdEV8ualuZAkB/wuF+QrsdpQNs+4tB67jUwSZNkMgox3MVEmiOSIEDDyuzq0z8L4Ibe5ML+1JafMdsuk2EGekvaKTskxMCrXgKYSxIyq0EQkSxNa5W3X4FjojWhhPUW2N5BjSIQzIjnu3yXeg+sh7NXQAXO5W4a0gSTVZuFKSjgTw/QoA2r26qEKVCfXcD1YidTGya7AUDh+LcgH7jQAWMwe0mTEMftdrsm4t0Oaze8VzX9q4c9YrTy0nPdQ5DIiHmjRxnflNGAnOSDu1YUovTik2UYGL9PV7wt+CPofge+Ly0cm1pi4Y+I+E4wgacrC3f3VqnednBQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAEsbWkyCtGSjrulhZ3I2XKi9IIOpt7hWWL3HWXYYYpDEcTFx1BLa60Oc0pkL6ju42/Ff4k5GY2SFxMY4r8+y1p/k3lHzNF6GyrvGZsxrd4WQLmDgDljvIsJFs7QS8x/lsE9IbZ1476PNqMljTgNzDjQpsewVs9BvokkCyk/7mKKouI8qiXHh/W3aZ+hmi9Z5KdNGf8QnhpYIS8HD/THn0sR8I5Z0fSrx4lvWrcLTw3zqgaIxTeYf8KAGpeDz97Xac/rJMoQ5QTUUUYPl6xTfNX3jQpHkoJXNbUmB36ofBxKLqKN875JnX4Wb42FogrT9cjvX+Z90+fpdmqiGM1tFMf0=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"59d9db24a3ba441eacac2f3a106dcefa"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:24 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending?api-version=2016-10-01&request_id=59d9db24a3ba441eacac2f3a106dcefa
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6KkrOVPP5+UjdEV8ualuZAkB/wuF+QrsdpQNs+4tB67jUwSZNkMgox3MVEmiOSIEDDyuzq0z8L4Ibe5ML+1JafMdsuk2EGekvaKTskxMCrXgKYSxIyq0EQkSxNa5W3X4FjojWhhPUW2N5BjSIQzIjnu3yXeg+sh7NXQAXO5W4a0gSTVZuFKSjgTw/QoA2r26qEKVCfXcD1YidTGya7AUDh+LcgH7jQAWMwe0mTEMftdrsm4t0Oaze8VzX9q4c9YrTy0nPdQ5DIiHmjRxnflNGAnOSDu1YUovTik2UYGL9PV7wt+CPofge+Ly0cm1pi4Y+I+E4wgacrC3f3VqnednBQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAEsbWkyCtGSjrulhZ3I2XKi9IIOpt7hWWL3HWXYYYpDEcTFx1BLa60Oc0pkL6ju42/Ff4k5GY2SFxMY4r8+y1p/k3lHzNF6GyrvGZsxrd4WQLmDgDljvIsJFs7QS8x/lsE9IbZ1476PNqMljTgNzDjQpsewVs9BvokkCyk/7mKKouI8qiXHh/W3aZ+hmi9Z5KdNGf8QnhpYIS8HD/THn0sR8I5Z0fSrx4lvWrcLTw3zqgaIxTeYf8KAGpeDz97Xac/rJMoQ5QTUUUYPl6xTfNX3jQpHkoJXNbUmB36ofBxKLqKN875JnX4Wb42FogrT9cjvX+Z90+fpdmqiGM1tFMf0=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Please Perform Merge to complete the request.","request_id":"59d9db24a3ba441eacac2f3a106dcefa"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"x5c": ["TUlJQ3lqQ0NBYklDQVFFd0RRWUpLb1pJaHZjTkFRRUxCUUF3UlRFTE1Ba0dBMVVFQmhNQ1FWVXhFekFSQmdOVkJBZ01DbE52YldVdFUzUmhkR1V4SVRBZkJnTlZCQW9NR0VsdWRHVnlibVYwSUZkcFpHZHBkSE1nVUhSNUlFeDBaREFlRncweU1UQXpNalV3TURRMk1qWmFGdzB5TVRBek1qVXdNRFEzTWpaYU1CRXhEekFOQmdOVkJBTVRCazE1UTJWeWREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU9pcEt6bFR6K2ZsSTNSRmZMbXBibVFKQWY4TGhma0s3SGFVRGJQdUxRZXU0MU1FbVRaRElLTWR6RlJKb2praUJBdzhyczZ0TS9DK0NHM3VUQy90U1duekhiTHBOaEJucEwyaWs3Sk1UQXExNENtRXNTTXF0QkVKRXNUV3VWdDErQlk2STFvWVQxRnRqZVFZMGlFTXlJNTd0OGwzb1BySWV6VjBBRnp1VnVHdElFazFXYmhTa280RThQMEtBTnE5dXFoQ2xRbjEzQTlXSW5VeHNtdXdGQTRmaTNJQis0MEFGak1IdEpreERIN1hhN0p1TGREbXMzdkZjMS9hdUhQV0swOHRKejNVT1F5SWg1bzBjWjM1VFJnSnprZzd0V0ZLTDA0cE5sR0JpL1QxZThMZmdqNkg0SHZpOHRISnRhWXVHUGlQaE9NSUduS3d0MzkxYXAzblp3VUNBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQTdYSE8rcFNpNkVxWlByVXlMYTNsWHB5UkY1WDdIMmFLdEc0c1c3ZnJleTh2My9FanRyOXJGS0cwMXEwaUJFT01uV25NRHFWL1ptbFZmMlk5UWQzdHM1QncxNFNWYk56cGFtTFFqeXhzcmt1OUxEWnJodkhJN3R6cWRNZlhYOHhFdUFLYUxLQXdVaTd0aFhyL210eUpaOTc2WHVPZTJ4UG1KQkxJU2k2cytod3VvbU5EaE83MXU2emZGOGdhTXNBOEhNbUk5ZXdaRS9sRFFpendtYStxc201TW5kc0lBZEtnM2J2bGFDODhQa0s3NDg0TnpKK3RzN1I1V3BrSGI1dGtRZXNSdGhHWGcyaklTdkJ0T1oyV2lpcXZBQ2FCZ1hCRFJjZlowNm04QUJWUDZzR3NERVpNRmFQVWV4aUZQUzlHbE9KdWRKQ3pGbHJLV2VaS3UvTHVadz09"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1293'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.3.0b1 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending/merge?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/855f1d1186d242c3875c158f5ba283af","kid":"https://vaultname.vault.azure.net/keys/livekvtestmergeCertificate80fb14f9/855f1d1186d242c3875c158f5ba283af","sid":"https://vaultname.vault.azure.net/secrets/livekvtestmergeCertificate80fb14f9/855f1d1186d242c3875c158f5ba283af","x5t":"N-cmtw2GLCWZK_O-zfNkWWGnycM","cer":"MIICyjCCAbICAQEwDQYJKoZIhvcNAQELBQAwRTELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTAzMjUwMDQ2MjZaFw0yMTAzMjUwMDQ3MjZaMBExDzANBgNVBAMTBk15Q2VydDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOipKzlTz+flI3RFfLmpbmQJAf8LhfkK7HaUDbPuLQeu41MEmTZDIKMdzFRJojkiBAw8rs6tM/C+CG3uTC/tSWnzHbLpNhBnpL2ik7JMTAq14CmEsSMqtBEJEsTWuVt1+BY6I1oYT1FtjeQY0iEMyI57t8l3oPrIezV0AFzuVuGtIEk1WbhSko4E8P0KANq9uqhClQn13A9WInUxsmuwFA4fi3IB+40AFjMHtJkxDH7Xa7JuLdDms3vFc1/auHPWK08tJz3UOQyIh5o0cZ35TRgJzkg7tWFKL04pNlGBi/T1e8Lfgj6H4Hvi8tHJtaYuGPiPhOMIGnKwt391ap3nZwUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEA7XHO+pSi6EqZPrUyLa3lXpyRF5X7H2aKtG4sW7frey8v3/Ejtr9rFKG01q0iBEOMnWnMDqV/ZmlVf2Y9Qd3ts5Bw14SVbNzpamLQjyxsrku9LDZrhvHI7tzqdMfXX8xEuAKaLKAwUi7thXr/mtyJZ976XuOe2xPmJBLISi6s+hwuomNDhO71u6zfF8gaMsA8HMmI9ewZE/lDQizwma+qsm5MndsIAdKg3bvlaC88PkK7484NzJ+ts7R5WpkHb5tkQesRthGXg2jISvBtOZ2WiiqvACaBgXBDRcfZ06m8ABVP6sGsDEZMFaPUexiFPS9GlOJudJCzFlrKWeZKu/LuZw==","attributes":{"enabled":true,"nbf":1616633186,"exp":1616633246,"created":1616633185,"updated":1616633185,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=MyCert","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1616633185,"updated":1616633185}},"pending":{"id":"https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2288'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Mar 2021 00:46:26 GMT
      expires:
      - '-1'
      location:
      - https://vaultname.vault.azure.net/certificates/livekvtestmergeCertificate80fb14f9?api-version=2016-10-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.2.205.0
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
version: 1
