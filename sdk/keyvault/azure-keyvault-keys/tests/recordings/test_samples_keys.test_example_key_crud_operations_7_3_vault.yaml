interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/create?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA-HSM", "attributes": {"exp": 2527401600}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '53'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/create?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/ee88f782d7ac4553aa12d08d13b326cc","kty":"RSA-HSM","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"zF-gul9WizOHCv_fc2s8gOCZwuybUOHLxzHOoYvSj_PAzSy23DZHN65VpVrfBtMHknfnBxascxWzvnqOseVthT5vybUkfaM7gsZ0hHQCBhAH1W5r_4bs-Owa8RYqWlSl1XUJ4-Lwrohp30pkRH0tVKSVi4yXcfflcFTedA5xnDR2eN8-vP6YflaPX-IrH-ySCSeRg4u6QBlOYQivFdToYk8eeENk09yZ89V7gkrA2PgP6y6JFuOzfl_6MDUrLnjPA6tjAIN1NukgccAXBJMYPCmYISukIUgoVKoHC0giQv9UyDtXcyXH6aGCdMIzLv0DCCL0qiWE2gMT8EnNU0ZNXw","e":"AAEAAQ"},"attributes":{"enabled":true,"exp":2527401600,"created":1647992395,"updated":1647992395,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=29;da_age=1223;rd_age=1223;brd_age=19780;ra_notif_age=44;dec_lev=2;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM", "key_size": 2048, "key_ops": ["encrypt", "decrypt",
      "sign", "verify", "wrapKey", "unwrapKey"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '113'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/create?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/730d105dfb334544ac543137dc57287e","kty":"RSA-HSM","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"3-x_VJEP-3in1TdpP3aHayAXahLQhHY_aUSeaZMNR8zuSlkWj0DCo4Z-PFfLdbRRpz1MVkBkqx1MDcRhpGcznSJppkbw_ZDOD6K9O16PSY8kqWMy6pjJXZSdNjy8yNmOMYiT9KLDWrYaZDMwM8zYKQlVPq8coUUEmnzncBBuNnjFi07ZIMXO2dAExmU3xXP7xMVkqNxjdkcdx0HSDs0Ght4pU9QJfquU6Dk9G7-DHKepGY8Vh_vp2h_TdfgVawlHNqzzbHH9C9EaKLGtVj_UHEIG8Lujfk4hy83v0L3YabaIiAfX1TWAWe14B97Ok9MX_CDZPMpDNqok_Ne3OEvDnw","e":"AAEAAQ"},"attributes":{"enabled":true,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=29;da_age=1224;rd_age=1224;brd_age=19780;ra_notif_age=45;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "EC", "crv": "P-256"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '29'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/create?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '411'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=45;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '411'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=45;dec_lev=1;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '411'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=45;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"attributes": {"exp": 2524723200}, "tags": {"foo": "updated tag"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '67'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"exp":2524723200,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"tags":{"foo":"updated
        tag"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '457'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=45;dec_lev=1;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874?api-version=7.3
  response:
    body:
      string: '{"recoveryId":"https://vaultname.vault.azure.net/deletedkeys/livekvtestkey-namef2981874","deletedDate":1647992396,"scheduledPurgeDate":1648597196,"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"exp":2524723200,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"tags":{"foo":"updated
        tag"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=45;dec_lev=1;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/deletedkeys/livekvtestkey-namef2981874?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"KeyNotFound","message":"Deleted Key not found: livekvtestkey-namef2981874"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '94'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=30;da_age=1224;rd_age=1224;brd_age=19781;ra_notif_age=46;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/deletedkeys/livekvtestkey-namef2981874?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"KeyNotFound","message":"Deleted Key not found: livekvtestkey-namef2981874"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '94'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:39:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=32;da_age=1227;rd_age=1227;brd_age=19783;ra_notif_age=48;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.0 Python/3.10.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://vaultname.vault.azure.net/deletedkeys/livekvtestkey-namef2981874?api-version=7.3
  response:
    body:
      string: '{"recoveryId":"https://vaultname.vault.azure.net/deletedkeys/livekvtestkey-namef2981874","deletedDate":1647992396,"scheduledPurgeDate":1648597196,"key":{"kid":"https://vaultname.vault.azure.net/keys/livekvtestkey-namef2981874/d5632965742f4d70aea20c9fa17dd466","kty":"EC","key_ops":["sign","verify"],"crv":"P-256","x":"6lAu1jQ7l6TEHtt-kxgg2QSVgCogug7gnKsheMsOTqE","y":"Mhf_8uzXcmfHF3YWt7q9YXY1OwICVEJkkLbERwah_Vs"},"attributes":{"enabled":true,"exp":2524723200,"created":1647992396,"updated":1647992396,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"tags":{"foo":"updated
        tag"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 22 Mar 2022 23:40:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=172.92.159.124;act_addr_fam=InterNetwork;
      x-ms-keyvault-rbac-assignment-id:
      - 95a02d0c-52aa-59c1-8ea1-3849ee7c4bb5
      x-ms-keyvault-rbac-cache:
      - ra_age=34;da_age=1229;rd_age=1229;brd_age=19785;ra_notif_age=50;dec_lev=0;
      x-ms-keyvault-region:
      - westus2
      x-ms-keyvault-service-version:
      - 1.9.331.5
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
