interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey0f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://managedhsm.azure.net"
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-server-latency:
      - '1'
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey0f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110679,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110679},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey0f5430e0c/fb9c7abf92014ae2923ddb2659b90437","kty":"RSA-HSM","n":"l2v6p89xIIGN9s5K0r0mLnRSREb8r1y7fTadXp4xCbGPx-H7eKn2w2clMDl5_TmRRULWEg87_b84UvTNMJjcqXhaMtoiUQZ_snfG_HOala_HErgkTi25gBaG1P0R_H7xwAoI8m7KF1jw6ODvHuLAGYF7iRGbR6EMWgB5Sv-npsOJKouoXjjDNN7_LEsRdZVyYoickSnWAG67Mrm-jrMDvvctWqdiAQqi3mpXHWJrcQbykK-gdQ4QRrFSnAM9YoaozgrGOa09JzYZhl3iuplWGMRnizff0Wz6gcBi-K0u1v0V0Qgm76aovAodW-nZvOpHe3iMFOBM2qATNuziJmN3ew"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '605'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey1f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110681,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110681},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey1f5430e0c/031f51a347010c62b125b666c5e453b5","kty":"RSA-HSM","n":"jH33Xvv9vfK-33JTE_ScdcoJF3Je2mQb6AH8dU_scTE1TgoHQjxDfs1HF3JK369MK8DeLeacwf59XUIbdwFYSpfNHPD7ZW78lmO6q3xkRNbd5BbN47FEWDThpORJDMDkLnzcT0CLU20MG4dVXShjoLtJcsawgSPlm5_f5tKRQe21ZVbndblvZkz_Alt9Ay2qz1EDw1_KZw6o8yBh4fZM-2fUC7q6fwtP65IWjVXO376uZ-rapesu4cU3roXVSBd953OMsBrkPWyKZFOUymKm_bzlYYlb2yZDBwb6FGlWzK9-UNHp56hFokv7pjFDcwTB6ltFYev3j-CDknv-vQaNbw"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '215'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey2f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110683,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110683},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey2f5430e0c/caca438e30154b640720d7f7de54a4fa","kty":"RSA-HSM","n":"nJZ5MXPdiyxzVWsvtc1pJv0_nk_d7neHYcFbn-hLhvrVu3f5mplWKq-pQteykbV8H7oityAb7vAGCbvEo7KcNizCjCGHCt0gL94Xb-EvXhO2boxZuFLYOORTCCUvP7EKilj6l0I38NoyCSSEfFxQlGxF_-t9FbG2HMyaJajD899dpqbnAt9ajIlgfrB3dTbpHy8hQM0Nt9SOWoF7LFWtzKn_NyuoKgYUY7F5S0raOzFPCfPEd-sNwzoS5cbUDKxvE0RFTYqnx1BSsN18TZzrCJxPOu4xikzz_HMgR0Z-YXaZ1EhoURqDMUXlfqwkEnlvmxWiljNKUzLXr5BywdSxMw"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '238'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey3f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110686,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110686},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey3f5430e0c/d4872aa1fde2424dbc029377bcca5b21","kty":"RSA-HSM","n":"hVDUcQ-Atlaml28xPf6WapxUlkB7dfxBNVlmXI4kqE5Q0ha0F4LCyW9tyNt3w3sUcCXTEJ4gtMrc1jWj3AtBbas372occ6QFQlCvAVtiz2exutcSUjCMUVCSncS1716pRQScLyqjy6Dxt27phSunKwpqZrJnXPAy0rXmRC_hBNlNY3gwPdJ-m-DvtNtmhy4ZFcgKmrOVTWAgMmM9mpJJHFdA3sbinzqFX9Ac4jbX6tesobPAlLG5hmrMmDK-NZKduMFRZxP_vyiD0YWWzn36Hz_7iX1vzuurI-B5omdYPV8kjYl_QGERpyq2QA5_Tvtn36HK9NxqEik3DgdHmk0RSQ"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '261'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey4f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110688,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110688},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey4f5430e0c/9d58e78c84590ee31084596b55f0b2fe","kty":"RSA-HSM","n":"iyI71SQlklALo5EHkBVM7A0_41aRSN33ps9drZjzKhPL7yV-Qw8HUw5oYMbxBr7eremYZtdd4rhZ0gcKC7LP9JxmvIZ6mWGHDeCle80-7lB9_iW4eLL4TOhkoyplNGgiUOGJT2Md6XTALOGXd2uMTMdfw-8QI5Ry_J5Znxtjjxvp7q2h2W3PtnBbtW9YzbcBxZflacC_29MqAY4wM5JjNfObEDkMXHvK9JWg0aawv689BUQJ3eT_pT5HfYjc_72d9z2GYKgGOwIOCgLKa5ccwIkMLoEI-DPYSLUjlmGRNOSyoP9EcCY1Xapc_JoTUpqbdWGotdb7mXERxSbOJdjFkw"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '222'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey5f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110690,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110690},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey5f5430e0c/8b1a530d16a70c36afadf1451d8e15c9","kty":"RSA-HSM","n":"j3UiGU_tkA_5vvukYOpQ21DfFkGyOwB_8l6Vb0XvdGphxS0zH1uE7jE-IEKPE4OVk5DOs3WQUPCXm8NhbZ-9VffUAFMy_-KPuBLol4E0eyRHmzKfrd2wejUQ-yIa39pfB6-5mj_TjXDqgDJY36H18kDJL2bqp8QfSlAJeBT3o06RhpCxs9f1MvST4QyELv7Xa8hglAhdlVVJUQ9UhQPWV_JM9QIY3OviSM0nvuX2DLx31p7Yzzy-cHcMi48WK7poS-0RgmgssEnA4cI4QPikYH-389Imv9ob11rJr2KH6t4Bepmra-lfq9ebpobc5O4dvLkwlWlcE0Ke_RLzcPQp_w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '218'
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA-HSM"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '18'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey6f5430e0c/create?api-version=7.2-preview
  response:
    body:
      string: '{"attributes":{"created":1616110693,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110693},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey6f5430e0c/821aa596290b03df8974a78876ce1310","kty":"RSA-HSM","n":"pN0BAkyApvd5ctWVPT6wQskkrbcIYGyAU1Ni5cMIZiaEvIYlSeeDC92-IzCiaaEpQGJXysVO-Mq1zodI8f1TlvkQFVC0HruzI7bB87pm-7mYp8ySQnYYI1lct5q_hpPQT5yahJb-LqzpHO7qRNTeTV8cxZvM4RJrUGI3QLU508t41OFgkBYc_B7Lv5B28Ieh1Po3gHi80HmH4GDrfaOl7SvI9iq_Cn6S4Er9T7CE-lkHFcy1fdnPLIAPTzPD1_MZlqXsltKBnmuSqLbqMqPSVx7HNXmTQGKLS-3dcRwt67s9hDxRqHEG2STzOQRUjPaRVczGcUDBIRFwAZ6iGf2XEw"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '305'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://managedhsmname.managedhsm.azure.net/keys?maxresults=6&api-version=7.2-preview
  response:
    body:
      string: '{"nextLink":"https://managedhsmname.managedhsm.azure.net/keys?maxresults=6&$skiptoken=K1JJRDp-UEFzSEFJZ3ZDcVFSQUFBQUFBQUFBQT09I1JUOjEjVFJDOjYjSVNWOjIjSUVPOjY1NTY3I1FDRjoz","value":[{"attributes":{"created":1616110679,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110679},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey0f5430e0c"},{"attributes":{"created":1616110681,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110681},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey1f5430e0c"},{"attributes":{"created":1616110683,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110683},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey2f5430e0c"},{"attributes":{"created":1616110686,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110686},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey3f5430e0c"},{"attributes":{"created":1616110688,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110688},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey4f5430e0c"},{"attributes":{"created":1616110690,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110690},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey5f5430e0c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1593'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20210306-1-6fb7c19a-develop
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '35'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-keys/4.4.0b4 Python/3.5.3 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://managedhsmname.managedhsm.azure.net/keys?maxresults=6&$skiptoken=K1JJRDp-UEFzSEFJZ3ZDcVFSQUFBQUFBQUFBQT09I1JUOjEjVFJDOjYjSVNWOjIjSUVPOjY1NTY3I1FDRjoz
  response:
    body:
      string: '{"value":[{"attributes":{"created":1616110693,"enabled":true,"exportable":false,"recoverableDays":90,"recoveryLevel":"Recoverable+Purgeable","updated":1616110693},"kid":"https://managedhsmname.managedhsm.azure.net/keys/livekvtestkey6f5430e0c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '246'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20210306-1-6fb7c19a-develop
      x-ms-keyvault-network-info:
      - addr=172.92.159.124
      x-ms-keyvault-region:
      - eastus2
      x-ms-server-latency:
      - '34'
    status:
      code: 200
      message: OK
version: 1
