{
  "Entries": [
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute1?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:19 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-a79ca57e1d93192bf5a13cbdf5bbdd6e-6257ba107ce1a6f1-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "0730858b-1cad-4ff8-a32d-8551a1ac580e",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173919Z:0730858b-1cad-4ff8-a32d-8551a1ac580e",
        "x-request-time": "0.039"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute1",
        "name": "siloCompute1",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:50.2961059\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:57.7941569\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:40:54.916\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute2?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:19 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-39232307e42e75656c398a6b156c57aa-11b300eb83c8bf16-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "0076f526-19c3-4377-8a15-b998f9961dcb",
        "x-ms-ratelimit-remaining-subscription-reads": "11998",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173919Z:0076f526-19c3-4377-8a15-b998f9961dcb",
        "x-request-time": "0.037"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute2",
        "name": "siloCompute2",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:50.9599718\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:58.6594216\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:40:53.669\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute3?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:19 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-942e18cf63c8d778b13d553a5c4f25e3-6ca578609c0a534a-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "6062ccf5-b4fd-4c7b-bbb2-78bf72c56a36",
        "x-ms-ratelimit-remaining-subscription-reads": "11997",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173919Z:6062ccf5-b4fd-4c7b-bbb2-78bf72c56a36",
        "x-request-time": "0.037"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute3",
        "name": "siloCompute3",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:51.762005\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.0231433\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:40:23.148\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:19 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-2eee5f646f175428a885bfac296991c8-54f0c952bcec4d63-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "44b1c9ab-a66b-4246-b742-4db61c45880d",
        "x-ms-ratelimit-remaining-subscription-reads": "11996",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173919Z:44b1c9ab-a66b-4246-b742-4db61c45880d",
        "x-request-time": "0.039"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:20 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-65ebb867c08323f63a8c1793ebff7b44-260a72a896403b04-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "81c0fa1e-c382-4180-94ed-05fec73ead43",
        "x-ms-ratelimit-remaining-subscription-reads": "11995",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173920Z:81c0fa1e-c382-4180-94ed-05fec73ead43",
        "x-request-time": "0.458"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1",
        "name": "silo_datastore1",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container1",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:21.5779436\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:21.5941855\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:21 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-6ae2e752ef43d1451d86f36049f3f99a-07b9033e358b2c79-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "f7834dae-4603-41bc-b3fe-c1adbb76ffe5",
        "x-ms-ratelimit-remaining-subscription-reads": "11994",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173921Z:f7834dae-4603-41bc-b3fe-c1adbb76ffe5",
        "x-request-time": "0.159"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2",
        "name": "silo_datastore2",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:22.3917077\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:22.4094971\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:21 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-a41197d7dcd26a084ca8d237f4fc4c58-1815d83110748f61-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "32a37499-03d3-4944-b50f-3dd435f7d8f9",
        "x-ms-ratelimit-remaining-subscription-reads": "11993",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173921Z:32a37499-03d3-4944-b50f-3dd435f7d8f9",
        "x-request-time": "0.170"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3",
        "name": "silo_datastore3",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:23.9243064\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:23.9396923\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/agg_datastore?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:21 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-ca4e8b15beb2e600021d91c2cdbed13e-1976c251ec288fc7-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b9ec3454-8cf6-48ee-869e-fbecd8d88032",
        "x-ms-ratelimit-remaining-subscription-reads": "11992",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173921Z:b9ec3454-8cf6-48ee-869e-fbecd8d88032",
        "x-request-time": "0.146"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/agg_datastore",
        "name": "agg_datastore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "agg-container",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-09T20:26:55.399164\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-09T20:26:55.4173883\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:23 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-6cbbbbb37a553222413d69c3b068c3ea-e5c1d33337936a6b-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "e316ff4d-b361-4d5b-94fb-cb75c1cfa727",
        "x-ms-ratelimit-remaining-subscription-reads": "11991",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173923Z:e316ff4d-b361-4d5b-94fb-cb75c1cfa727",
        "x-request-time": "0.042"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:23 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-ed351224c1114dbf4c49eaf577cf637f-5a8d16177d61cb25-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "324cfc1c-9654-466d-8064-94eaf8fcb4a2",
        "x-ms-ratelimit-remaining-subscription-reads": "11990",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173923Z:324cfc1c-9654-466d-8064-94eaf8fcb4a2",
        "x-request-time": "0.046"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:23 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-bd87ed1bf54ef63daecf0b94fa4d5313-931a131b67e1a6c5-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "d1f8b9a5-e7aa-4f60-ac5f-2ba5fd83ddbb",
        "x-ms-ratelimit-remaining-subscription-reads": "11989",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173923Z:d1f8b9a5-e7aa-4f60-ac5f-2ba5fd83ddbb",
        "x-request-time": "0.060"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:23 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-15263fceb4ca6fc471754fae5c48a10d-aca8889e5eb2842f-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "dae4d2dc-aa3f-4694-8302-d540723846c4",
        "x-ms-ratelimit-remaining-subscription-reads": "11988",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173923Z:dae4d2dc-aa3f-4694-8302-d540723846c4",
        "x-request-time": "0.035"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:24 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-16d129d294cf1b8046b1bbd26600860c-5e787bb936fc73d4-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "43f88395-5a75-40d8-adfe-87a11c29d72d",
        "x-ms-ratelimit-remaining-subscription-reads": "11987",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173924Z:43f88395-5a75-40d8-adfe-87a11c29d72d",
        "x-request-time": "0.045"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute?api-version=2022-10-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:24 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-9fc04f16fb63c28799f41a0e7a8c87d0-c17c974d20a86558-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "75a49f25-1383-4d67-adc6-852dfa248594",
        "x-ms-ratelimit-remaining-subscription-reads": "11986",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173924Z:75a49f25-1383-4d67-adc6-852dfa248594",
        "x-request-time": "0.040"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
        "name": "aggCompute",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "location": "eastus",
        "tags": {},
        "identity": {
          "type": "UserAssigned",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/anksing-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/fl-test-msi": {
              "principalId": "0953d067-5681-4744-bfaf-b75b1bb482f1",
              "clientId": "3adff742-0142-45a6-8142-3d94f944cafb"
            }
          }
        },
        "properties": {
          "createdOn": "2023-03-08T20:23:52.8629704\u002B00:00",
          "modifiedOn": "2023-03-08T20:57:59.409366\u002B00:00",
          "disableLocalAuth": false,
          "description": null,
          "resourceId": null,
          "computeType": "AmlCompute",
          "computeLocation": "eastus",
          "provisioningState": "Succeeded",
          "provisioningErrors": null,
          "isAttachedCompute": false,
          "properties": {
            "vmSize": "STANDARD_DS3_V2",
            "vmPriority": "Dedicated",
            "scaleSettings": {
              "maxNodeCount": 2,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT10M"
            },
            "subnet": null,
            "currentNodeCount": 0,
            "targetNodeCount": 0,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "allocationState": "Steady",
            "allocationStateTransitionTime": "2023-03-14T22:41:26.966\u002B00:00",
            "errors": null,
            "remoteLoginPortPublicAccess": "Enabled",
            "osType": "Linux",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "enableNodePublicIp": true,
            "enableBatchPrivateLink": false,
            "propertyBag": {}
          }
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:24 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-16cbab365275e6ce9cc96263f31b364d-2dfc23af03954336-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "4a12e044-55ff-43a5-9ca9-5fadf5d4f5af",
        "x-ms-ratelimit-remaining-subscription-reads": "11985",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173924Z:4a12e044-55ff-43a5-9ca9-5fadf5d4f5af",
        "x-request-time": "0.258"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1",
        "name": "silo_datastore1",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container1",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:21.5779436\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:21.5941855\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container1/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:24 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "sro6EdmwabspcJJfefBDfA==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:26 GMT",
        "ETag": "\u00220x8DB2017CCB42DCC\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:57:59 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:57:59 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_1_file1",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container1/az-ml-artifacts/00000000000000000000000000000000/silo1_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:26 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:26 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-9341dfbf8461cb510b919edb7b2fb498-61cd53fb90446344-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "2762ec96-754b-437a-b14c-78511627229d",
        "x-ms-ratelimit-remaining-subscription-reads": "11984",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173927Z:2762ec96-754b-437a-b14c-78511627229d",
        "x-request-time": "0.116"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore1",
        "name": "silo_datastore1",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container1",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:21.5779436\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:21.5941855\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container1/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "Tp\u002BA\u002BwNbofhIdMJQhmkf/A==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "ETag": "\u00220x8DB2017CF003444\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:58:03 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:58:03 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_1_file2",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container1/az-ml-artifacts/00000000000000000000000000000000/silo1_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-c3d08b81293cc108bc2883af9a8b9299-3bf9d21615844fab-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "04537df0-2a2b-44c8-8f74-94f286d60806",
        "x-ms-ratelimit-remaining-subscription-reads": "11983",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173928Z:04537df0-2a2b-44c8-8f74-94f286d60806",
        "x-request-time": "0.221"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2",
        "name": "silo_datastore2",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:22.3917077\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:22.4094971\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:27 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "vaJdTdksEkAxMXDg2861dw==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "ETag": "\u00220x8DB2017CFEE1929\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:58:04 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:58:04 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_2_file1",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/az-ml-artifacts/00000000000000000000000000000000/silo2_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-241d50c36cc2403c6baa33b5a129e0a2-6bf522cf8e285e78-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "69ef3dbb-7567-40d7-b9a0-7cfa2b38ad32",
        "x-ms-ratelimit-remaining-subscription-reads": "11982",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173929Z:69ef3dbb-7567-40d7-b9a0-7cfa2b38ad32",
        "x-request-time": "0.128"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore2",
        "name": "silo_datastore2",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:22.3917077\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:22.4094971\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:28 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "LeulE8Onmb\u002BuWrspOLE5Tg==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "ETag": "\u00220x8DB2017D112BD13\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:58:06 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:58:06 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_2_file2",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/az-ml-artifacts/00000000000000000000000000000000/silo2_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-0485e0342af7dbfff2ad25ae88403ecb-d49aceb32490cb59-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "9de53186-7c7b-455e-822b-8f1cd2cd21d3",
        "x-ms-ratelimit-remaining-subscription-reads": "11981",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173929Z:9de53186-7c7b-455e-822b-8f1cd2cd21d3",
        "x-request-time": "0.163"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3",
        "name": "silo_datastore3",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:23.9243064\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:23.9396923\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "zHpmPc3XLCofVatoPaaSRA==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "ETag": "\u00220x8DB2017D2AF16A9\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:58:09 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:58:09 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_3_file1",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/az-ml-artifacts/00000000000000000000000000000000/silo3_input1.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:29 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-806ccdeda803d976c224d6b03e0029b5-5d3973cfdef9ac2f-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "7af477da-c432-474b-8041-d44785635e2c",
        "x-ms-ratelimit-remaining-subscription-reads": "11980",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173930Z:7af477da-c432-474b-8041-d44785635e2c",
        "x-request-time": "0.153"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/silo_datastore3",
        "name": "silo_datastore3",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": "datastore for FL e2e testing.",
          "tags": {},
          "properties": null,
          "isDefault": false,
          "credentials": {
            "credentialsType": "None"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "silo-container23",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "None"
        },
        "systemData": {
          "createdAt": "2023-03-08T18:12:23.9243064\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-08T18:12:23.9396923\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "14",
        "Content-MD5": "587\u002Bf8mBj9FTB4CTDJZLeA==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "ETag": "\u00220x8DB2017D39D49AA\u0022",
        "Last-Modified": "Wed, 08 Mar 2023 20:58:10 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Wed, 08 Mar 2023 20:58:10 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "silo_3_file2",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "None",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/silo-container23/az-ml-artifacts/00000000000000000000000000000000/silo3_input2.txt",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:30 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "347",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.83671907\nname: default_environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1120",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:33 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-d64fad21829cd2df3069b9c12ee1a32e-c7920d1f136fff32-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "29c6ba11-086c-4c0f-88b0-b6424dce10c1",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173933Z:29c6ba11-086c-4c0f-88b0-b6424dce10c1",
        "x-request-time": "1.849"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7",
        "name": "4c797784a6b680a11984cf2619bb45f7",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04",
          "condaFile": "{\n  \u0022channels\u0022: [\n    \u0022defaults\u0022\n  ],\n  \u0022dependencies\u0022: [\n    \u0022python=3.8.12\u0022,\n    \u0022pip=21.2.2\u0022,\n    {\n      \u0022pip\u0022: [\n        \u0022--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\u0022,\n        \u0022mldesigner==0.0.83671907\u0022\n      ]\n    }\n  ],\n  \u0022name\u0022: \u0022default_environment\u0022\n}",
          "osType": "Linux"
        },
        "systemData": {
          "createdAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "347",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.83671907\nname: default_environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1120",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:33 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-7e11dcf9c3a7e6395a34b01530a8c4e9-efa67c73ee7e5a79-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "fe246c7f-2389-4921-9202-569464c38b86",
        "x-ms-ratelimit-remaining-subscription-writes": "1198",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173934Z:fe246c7f-2389-4921-9202-569464c38b86",
        "x-request-time": "0.246"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7",
        "name": "4c797784a6b680a11984cf2619bb45f7",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04",
          "condaFile": "{\n  \u0022channels\u0022: [\n    \u0022defaults\u0022\n  ],\n  \u0022dependencies\u0022: [\n    \u0022python=3.8.12\u0022,\n    \u0022pip=21.2.2\u0022,\n    {\n      \u0022pip\u0022: [\n        \u0022--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\u0022,\n        \u0022mldesigner==0.0.83671907\u0022\n      ]\n    }\n  ],\n  \u0022name\u0022: \u0022default_environment\u0022\n}",
          "osType": "Linux"
        },
        "systemData": {
          "createdAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "347",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.83671907\nname: default_environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1120",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:34 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-b6398f2246b1ab7cec06efc88af19a5e-36f6b67adc04f811-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "f907bc8c-fb06-4160-8502-f22d75b7e090",
        "x-ms-ratelimit-remaining-subscription-writes": "1197",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173934Z:f907bc8c-fb06-4160-8502-f22d75b7e090",
        "x-request-time": "0.277"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7",
        "name": "4c797784a6b680a11984cf2619bb45f7",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04",
          "condaFile": "{\n  \u0022channels\u0022: [\n    \u0022defaults\u0022\n  ],\n  \u0022dependencies\u0022: [\n    \u0022python=3.8.12\u0022,\n    \u0022pip=21.2.2\u0022,\n    {\n      \u0022pip\u0022: [\n        \u0022--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\u0022,\n        \u0022mldesigner==0.0.83671907\u0022\n      ]\n    }\n  ],\n  \u0022name\u0022: \u0022default_environment\u0022\n}",
          "osType": "Linux"
        },
        "systemData": {
          "createdAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-09T18:45:54.4344326\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:34 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-1dd1b5c2d243ac7a6f02cf4c09edae27-d3efba2d08655031-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "95952a40-fc9e-4d18-a680-1a656a5fe4a1",
        "x-ms-ratelimit-remaining-subscription-reads": "11979",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173935Z:95952a40-fc9e-4d18-a680-1a656a5fe4a1",
        "x-request-time": "0.255"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2023-03-08T16:15:58.4166502\u002B00:00",
          "createdBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "createdByType": "Application",
          "lastModifiedAt": "2023-03-08T16:15:59.279154\u002B00:00",
          "lastModifiedBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-92f41822d46203aca155eb50d3f78cc9-106a09e52aebbae7-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "22d540ac-63f5-4183-b725-d64d8477317c",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173935Z:22d540ac-63f5-4183-b725-d64d8477317c",
        "x-request-time": "0.156"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2023-03-08T16:15:58.4166502\u002B00:00",
          "createdBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "createdByType": "Application",
          "lastModifiedAt": "2023-03-08T16:15:59.279154\u002B00:00",
          "lastModifiedBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2022-10-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-603ba03bd1741cc299b2871ed3462330-d0649666912af876-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "2b3d01ec-d0f1-4851-85b3-d765af7e4c87",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173935Z:2b3d01ec-d0f1-4851-85b3-d765af7e4c87",
        "x-request-time": "0.589"
      },
      "ResponseBody": {
        "secretsType": "AccountKey",
        "key": "dGhpcyBpcyBmYWtlIGtleQ=="
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing/run.py",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing/run.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "2392",
        "Content-MD5": "3xSVHZd68jmiU3Sgs8oSzA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "aW1wb3J0IG9zCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3lzCmltcG9ydCBnbG9iCgoKZGVmIGdldF9hcmdfcGFyc2VyKHBhcnNlcj1Ob25lKToKICAgICIiIlBhcnNlIHRoZSBjb21tYW5kIGxpbmUgYXJndW1lbnRzIGZvciBtZXJnZSB1c2luZyBhcmdwYXJzZS4KCiAgICBBcmdzOgogICAgICAgIHBhcnNlciAoYXJncGFyc2UuQXJndW1lbnRQYXJzZXIgb3IgQ29tcGxpYW50QXJndW1lbnRQYXJzZXIpOgogICAgICAgIGFuIGFyZ3VtZW50IHBhcnNlciBpbnN0YW5jZQoKICAgIFJldHVybnM6CiAgICAgICAgQXJndW1lbnRQYXJzZXI6IHRoZSBhcmd1bWVudCBwYXJzZXIgaW5zdGFuY2UKCiAgICBOb3RlczoKICAgICAgICBpZiBwYXJzZXIgaXMgTm9uZSwgY3JlYXRlcyBhIG5ldyBwYXJzZXIgaW5zdGFuY2UKICAgICIiIgogICAgIyBhZGQgYXJndW1lbnRzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoZSBjb21wb25lbnQKICAgIGlmIHBhcnNlciBpcyBOb25lOgogICAgICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKGRlc2NyaXB0aW9uPV9fZG9jX18pCgogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1yYXdfdHJhaW5pbmdfZGF0YSIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1yYXdfdGVzdGluZ19kYXRhIiwgdHlwZT1zdHIsIHJlcXVpcmVkPVRydWUsIGhlbHA9IiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXRyYWluX291dHB1dCIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS10ZXN0X291dHB1dCIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1tZXRyaWNzX3ByZWZpeCIsIHR5cGU9c3RyLCByZXF1aXJlZD1GYWxzZSwgaGVscD0iTWV0cmljcyBwcmVmaXgiCiAgICApCiAgICByZXR1cm4gcGFyc2VyCgoKZGVmIHRlc3RfaW5wdXQocGF0aCk6CiAgICBmaWxlX2xpc3QgPSBnbG9iLmdsb2Iob3MucGF0aC5qb2luKHBhdGgsICIqLioiKSwgcmVjdXJzaXZlPVRydWUpCiAgICBwcmludChmIkZvdW5kIHtsZW4oZmlsZV9saXN0KX0gZmlsZXMgaW4ge3BhdGh9IikKCiAgICBwcmludChmIlJlYWRpbmcgZmlsZXMgZnJvbSB7cGF0aH0iKQogICAgZm9yIGZpbGUgaW4gZmlsZV9saXN0OgogICAgICAgIHByaW50KGYiIC0tIFJlYWRpbmcge2ZpbGV9IikKICAgICAgICB3aXRoIG9wZW4oZmlsZSwgInIiKSBhcyBmOgogICAgICAgICAgICBmLnJlYWQoKQoKCmRlZiB0ZXN0X291dHB1dChwYXRoKToKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4ocGF0aCwgIm91dHB1dC50eHQiKSwgInciKSBhcyBmOgogICAgICAgIGYud3JpdGUoIkhlbGxvIFdvcmxkISIpCgoKZGVmIG1haW4oY2xpX2FyZ3M9Tm9uZSk6CiAgICAiIiJDb21wb25lbnQgbWFpbiBmdW5jdGlvbi4KCiAgICBJdCBwYXJzZXMgYXJndW1lbnRzIGFuZCBleGVjdXRlcyBydW4oKSB3aXRoIHRoZSByaWdodCBhcmd1bWVudHMuCgogICAgQXJnczoKICAgICAgICBjbGlfYXJncyAoTGlzdFtzdHJdLCBvcHRpb25hbCk6IGxpc3Qgb2YgYXJncyB0byBmZWVkIHNjcmlwdCwgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuIERlZmF1bHRzIHRvIE5vbmUuCiAgICAiIiIKICAgICMgYnVpbGQgYW4gYXJnIHBhcnNlcgogICAgcGFyc2VyID0gZ2V0X2FyZ19wYXJzZXIoKQoKICAgICMgcnVuIHRoZSBwYXJzZXIgb24gY2xpIGFyZ3MKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncyhjbGlfYXJncykKCiAgICBwcmludChmIlJ1bm5pbmcgc2NyaXB0IHdpdGggYXJndW1lbnRzOiB7YXJnc30iKQogICAgdGVzdF9pbnB1dChhcmdzLnJhd190cmFpbmluZ19kYXRhKQogICAgdGVzdF9pbnB1dChhcmdzLnJhd190ZXN0aW5nX2RhdGEpCiAgICB0ZXN0X291dHB1dChhcmdzLnRyYWluX291dHB1dCkKICAgIHRlc3Rfb3V0cHV0KGFyZ3MudGVzdF9vdXRwdXQpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKCiAgICAjIFNldCBsb2dnaW5nIHRvIHN5cy5vdXQKICAgIGxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQogICAgbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuREVCVUcpCiAgICBsb2dfZm9ybWF0ID0gbG9nZ2luZy5Gb3JtYXR0ZXIoIlslKGFzY3RpbWUpc10gWyUobGV2ZWxuYW1lKXNdIC0gJShtZXNzYWdlKXMiKQogICAgaGFuZGxlciA9IGxvZ2dpbmcuU3RyZWFtSGFuZGxlcihzeXMuc3Rkb3V0KQogICAgaGFuZGxlci5zZXRMZXZlbChsb2dnaW5nLkRFQlVHKQogICAgaGFuZGxlci5zZXRGb3JtYXR0ZXIobG9nX2Zvcm1hdCkKICAgIGxvZ2dlci5hZGRIYW5kbGVyKGhhbmRsZXIpCgogICAgbWFpbigpCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "3xSVHZd68jmiU3Sgs8oSzA==",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "ETag": "\u00220x8DB2645692BD4C9\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "ctNWnPCaoBg=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2022-10-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-de5381bddcb6533a54e9057721b02c47-05d97f4cb624eb1d-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "4c0a3615-9b24-4dc1-95e2-c3e9aecf2c61",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173936Z:4c0a3615-9b24-4dc1-95e2-c3e9aecf2c61",
        "x-request-time": "0.136"
      },
      "ResponseBody": {
        "secretsType": "AccountKey",
        "key": "dGhpcyBpcyBmYWtlIGtleQ=="
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing/spec.yaml",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1255",
        "Content-MD5": "C\u002BpTC9POl8jdMMrUeJMBDw==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "CiRzY2hlbWE6IGh0dHBzOi8vYXp1cmVtbHNjaGVtYXMuYXp1cmVlZGdlLm5ldC9sYXRlc3QvY29tbWFuZENvbXBvbmVudC5zY2hlbWEuanNvbgpuYW1lOiBoZWxsb3dvcmxkX3ByZXByb2Nlc3NpbmdfaW5fc2lsbwp2ZXJzaW9uOiAwLjMuMApkaXNwbGF5X25hbWU6IFByZS1Qcm9jZXNzaW5nIChpbiBzaWxvKQp0eXBlOiBjb21tYW5kCmRlc2NyaXB0aW9uOiBDb21wb25lbnQgZm9yIHByZXByb2Nlc3NpbmcgcmF3IGRhdGEgaW4gYSBnaXZlbiBzaWxvLiBUaGUgaW1hZ2VzIGFyZSB0cmFuc2Zvcm1lZCB1c2luZyByYW5kb20gYWZmaW5lIGtlZXBpbmcgdGhlIGNlbnRlciBpbnZhcmlhbnQsIHRoZW4gbm9ybWFsaXplZC4KaXNfZGV0ZXJtaW5pc3RpYzogdHJ1ZQoKaW5wdXRzOgogIHJhd190cmFpbmluZ19kYXRhOgogICAgdHlwZTogdXJpX2ZpbGUKICAgIGRlc2NyaXB0aW9uOiB0aGUgcmF3IHRyYWluaW5nIGRhdGEgaW4gYSBnaXZlbiBzaWxvCiAgcmF3X3Rlc3RpbmdfZGF0YToKICAgIHR5cGU6IHVyaV9maWxlCiAgICBkZXNjcmlwdGlvbjogdGhlIHJhdyB0ZXN0aW5nIGRhdGEgaW4gYSBnaXZlbiBzaWxvCiAgbWV0cmljc19wcmVmaXg6CiAgICB0eXBlOiBzdHJpbmcKICAgIGRlc2NyaXB0aW9uOiBNZXRyaWNzIHByZWZpeAogICAgZGVmYXVsdDogRGVmYXVsdC1wcmVmaXgKICAgIG9wdGlvbmFsOiB0cnVlCgoKb3V0cHV0czoKICBwcm9jZXNzZWRfdHJhaW5fZGF0YToKICAgIHR5cGU6IHVyaV9mb2xkZXIKICAgIGRlc2NyaXB0aW9uOiB0aGUgb3V0cHV0IHRyYWluaW5nIGRhdGEgYWZ0ZXIgcHJlcHJvY2Vzc2luZwogIHByb2Nlc3NlZF90ZXN0X2RhdGE6CiAgICB0eXBlOiB1cmlfZm9sZGVyCiAgICBkZXNjcmlwdGlvbjogdGhlIG91dHB1dCB0ZXN0aW5nIGRhdGEgYWZ0ZXIgcHJlcHJvY2Vzc2luZwoKY29kZTogLgoKY29tbWFuZDogPi0KICBweXRob24gcnVuLnB5IC0tcmF3X3RyYWluaW5nX2RhdGEgJHt7aW5wdXRzLnJhd190cmFpbmluZ19kYXRhfX0gLS1yYXdfdGVzdGluZ19kYXRhICR7e2lucHV0cy5yYXdfdGVzdGluZ19kYXRhfX0gLS10cmFpbl9vdXRwdXQgJHt7b3V0cHV0cy5wcm9jZXNzZWRfdHJhaW5fZGF0YX19IC0tdGVzdF9vdXRwdXQgJHt7b3V0cHV0cy5wcm9jZXNzZWRfdGVzdF9kYXRhfX0gJFtbLS1tZXRyaWNzX3ByZWZpeCAke3tpbnB1dHMubWV0cmljc19wcmVmaXh9fV1dCgplbnZpcm9ubWVudDogYXp1cmVtbDpBenVyZU1MLXNrbGVhcm4tMS4wLXVidW50dTIwLjA0LXB5MzgtY3B1OjMwCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "C\u002BpTC9POl8jdMMrUeJMBDw==",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "ETag": "\u00220x8DB26456936A8B0\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "gdNrdRwzFuE=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training/run.py",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing/run.py?comp=metadata",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-meta-name": "6824bf4a-d96f-4351-9507-41fd3289fe8f",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "1",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "ETag": "\u00220x8DB26456946ABDD\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training/run.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "2925",
        "Content-MD5": "E7jphvU4QHSTJav86sraVQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IiIiU2NyaXB0IGZvciBtb2NrIGNvbXBvbmVudHMuIiIiCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3lzCmltcG9ydCBnbG9iCmltcG9ydCBvcwoKCmRlZiBnZXRfYXJnX3BhcnNlcihwYXJzZXI9Tm9uZSk6CiAgICAiIiJQYXJzZSB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50cyBmb3IgbWVyZ2UgdXNpbmcgYXJncGFyc2UuCgogICAgQXJnczoKICAgICAgICBwYXJzZXIgKGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyIG9yIENvbXBsaWFudEFyZ3VtZW50UGFyc2VyKToKICAgICAgICBhbiBhcmd1bWVudCBwYXJzZXIgaW5zdGFuY2UKCiAgICBSZXR1cm5zOgogICAgICAgIEFyZ3VtZW50UGFyc2VyOiB0aGUgYXJndW1lbnQgcGFyc2VyIGluc3RhbmNlCgogICAgTm90ZXM6CiAgICAgICAgaWYgcGFyc2VyIGlzIE5vbmUsIGNyZWF0ZXMgYSBuZXcgcGFyc2VyIGluc3RhbmNlCiAgICAiIiIKICAgICMgYWRkIGFyZ3VtZW50cyB0aGF0IGFyZSBzcGVjaWZpYyB0byB0aGUgY29tcG9uZW50CiAgICBpZiBwYXJzZXIgaXMgTm9uZToKICAgICAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj1fX2RvY19fKQoKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tdHJhaW5fZGF0YSIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS10ZXN0X2RhdGEiLCB0eXBlPXN0ciwgcmVxdWlyZWQ9VHJ1ZSwgaGVscD0iIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tY2hlY2twb2ludCIsIHR5cGU9c3RyLCByZXF1aXJlZD1GYWxzZSwgaGVscD0iIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tbW9kZWwiLCB0eXBlPXN0ciwgcmVxdWlyZWQ9VHJ1ZSwgaGVscD0iIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbWV0cmljc19wcmVmaXgiLCB0eXBlPXN0ciwgcmVxdWlyZWQ9RmFsc2UsIGhlbHA9Ik1ldHJpY3MgcHJlZml4IgogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1pdGVyYXRpb25fbnVtIiwgdHlwZT1pbnQsIHJlcXVpcmVkPUZhbHNlLCBoZWxwPSJJdGVyYXRpb24gbnVtYmVyIgogICAgKQoKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tbHIiLCB0eXBlPWZsb2F0LCByZXF1aXJlZD1GYWxzZSwgaGVscD0iVHJhaW5pbmcgYWxnb3JpdGhtJ3MgbGVhcm5pbmcgcmF0ZSIKICAgICkKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tZXBvY2hzIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICByZXF1aXJlZD1GYWxzZSwKICAgICAgICBoZWxwPSJUb3RhbCBudW1iZXIgb2YgaXRlcmF0aW9ucyBmb3IgbG9jYWwgdHJhaW5pbmciLAogICAgKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1iYXRjaF9zaXplIiwgdHlwZT1pbnQsIHJlcXVpcmVkPUZhbHNlLCBoZWxwPSJCYXRjaCBTaXplIikKICAgIHJldHVybiBwYXJzZXIKCgpkZWYgdGVzdF9pbnB1dChwYXRoKToKICAgIGZpbGVfbGlzdCA9IGdsb2IuZ2xvYihvcy5wYXRoLmpvaW4ocGF0aCwgIiouKiIpLCByZWN1cnNpdmU9VHJ1ZSkKICAgIHByaW50KGYiRm91bmQge2xlbihmaWxlX2xpc3QpfSBmaWxlcyBpbiB7cGF0aH0iKQoKICAgIHByaW50KGYiUmVhZGluZyBmaWxlcyBmcm9tIHtwYXRofSIpCiAgICBmb3IgZmlsZSBpbiBmaWxlX2xpc3Q6CiAgICAgICAgcHJpbnQoZiIgLS0gUmVhZGluZyB7ZmlsZX0iKQogICAgICAgIHdpdGggb3BlbihmaWxlLCAiciIpIGFzIGY6CiAgICAgICAgICAgIGYucmVhZCgpCgoKZGVmIHRlc3Rfb3V0cHV0KHBhdGgpOgogICAgcHJpbnQoZiJXcml0aW5nIG91dHB1dCB0byB7cGF0aH0vbW9kZWwudHh0IikKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4ocGF0aCwgIm1vZGVsLnR4dCIpLCAidyIpIGFzIGY6CiAgICAgICAgZi53cml0ZSgiSGVsbG8gV29ybGQhIikKCgpkZWYgbWFpbihjbGlfYXJncz1Ob25lKToKICAgICIiIkNvbXBvbmVudCBtYWluIGZ1bmN0aW9uLgoKICAgIEl0IHBhcnNlcyBhcmd1bWVudHMgYW5kIGV4ZWN1dGVzIHJ1bigpIHdpdGggdGhlIHJpZ2h0IGFyZ3VtZW50cy4KCiAgICBBcmdzOgogICAgICAgIGNsaV9hcmdzIChMaXN0W3N0cl0sIG9wdGlvbmFsKTogbGlzdCBvZiBhcmdzIHRvIGZlZWQgc2NyaXB0LCB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gRGVmYXVsdHMgdG8gTm9uZS4KICAgICIiIgoKICAgICMgYnVpbGQgYW4gYXJnIHBhcnNlcgogICAgcGFyc2VyID0gZ2V0X2FyZ19wYXJzZXIoKQoKICAgICMgcnVuIHRoZSBwYXJzZXIgb24gY2xpIGFyZ3MKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncyhjbGlfYXJncykKCiAgICBwcmludChmIlJ1bm5pbmcgc2NyaXB0IHdpdGggYXJndW1lbnRzOiB7YXJnc30iKQogICAgdGVzdF9pbnB1dChhcmdzLnRyYWluX2RhdGEpCiAgICB0ZXN0X2lucHV0KGFyZ3MudGVzdF9kYXRhKQogICAgaWYgYXJncy5jaGVja3BvaW50OgogICAgICAgIHRlc3RfaW5wdXQoYXJncy5jaGVja3BvaW50KQogICAgdGVzdF9vdXRwdXQoYXJncy5tb2RlbCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgoKICAgICMgU2V0IGxvZ2dpbmcgdG8gc3lzLm91dAogICAgbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCiAgICBsb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5ERUJVRykKICAgIGxvZ19mb3JtYXQgPSBsb2dnaW5nLkZvcm1hdHRlcigiWyUoYXNjdGltZSlzXSBbJShsZXZlbG5hbWUpc10gLSAlKG1lc3NhZ2UpcyIpCiAgICBoYW5kbGVyID0gbG9nZ2luZy5TdHJlYW1IYW5kbGVyKHN5cy5zdGRvdXQpCiAgICBoYW5kbGVyLnNldExldmVsKGxvZ2dpbmcuREVCVUcpCiAgICBoYW5kbGVyLnNldEZvcm1hdHRlcihsb2dfZm9ybWF0KQogICAgbG9nZ2VyLmFkZEhhbmRsZXIoaGFuZGxlcikKCiAgICBtYWluKCkK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "E7jphvU4QHSTJav86sraVQ==",
        "Date": "Thu, 16 Mar 2023 17:39:36 GMT",
        "ETag": "\u00220x8DB2645694C9E6F\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "FYK1idWNm7E=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training/spec.yaml",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1556",
        "Content-MD5": "Hdi1DZfpx5ROVXOKT3YkWA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "CiRzY2hlbWE6IGh0dHBzOi8vYXp1cmVtbHNjaGVtYXMuYXp1cmVlZGdlLm5ldC9sYXRlc3QvY29tbWFuZENvbXBvbmVudC5zY2hlbWEuanNvbgpuYW1lOiBoZWxsb3dvcmxkX3RyYWluX2luX3NpbG8KdmVyc2lvbjogMC4zLjAKZGlzcGxheV9uYW1lOiBUcmFpbiAoaW4gc2lsbykKdHlwZTogY29tbWFuZApkZXNjcmlwdGlvbjogQ29tcG9uZW50IHRvIHRyYWluIGEgbW9kZWwgd2l0aGluIGEgRkwgc2lsby4KaXNfZGV0ZXJtaW5pc3RpYzogdHJ1ZQoKaW5wdXRzOgogIHRyYWluX2RhdGE6CiAgICB0eXBlOiB1cmlfZm9sZGVyCiAgICBkZXNjcmlwdGlvbjogdGhlIGlucHV0IHRyYWluaW5nIGRhdGEKICB0ZXN0X2RhdGE6CiAgICB0eXBlOiB1cmlfZm9sZGVyCiAgICBkZXNjcmlwdGlvbjogdGhlIGlucHV0IHRlc3RpbmcgZGF0YQogIG1ldHJpY3NfcHJlZml4OgogICAgdHlwZTogc3RyaW5nCiAgICBkZXNjcmlwdGlvbjogTWV0cmljcyBwcmVmaXgKICAgIGRlZmF1bHQ6IERlZmF1bHQtcHJlZml4CiAgICBvcHRpb25hbDogdHJ1ZQogIGl0ZXJhdGlvbl9udW06CiAgICB0eXBlOiBpbnRlZ2VyCiAgICBkZXNjcmlwdGlvbjogSXRlcmF0aW9uIG51bWJlcgogICAgZGVmYXVsdDogMQogICAgb3B0aW9uYWw6IHRydWUKICBjaGVja3BvaW50OgogICAgdHlwZTogdXJpX2ZvbGRlcgogICAgZGVzY3JpcHRpb246IGEgZ2l2ZW4gcHJlLWV4aXN0aW5nIGNoZWNrcG9pbnQKICAgIG9wdGlvbmFsOiB0cnVlCiAgbHI6CiAgICB0eXBlOiBudW1iZXIKICAgIGRlc2NyaXB0aW9uOiBsZWFybmluZyByYXRlCiAgICBkZWZhdWx0OiAwLjAxCiAgICBvcHRpb25hbDogdHJ1ZQogIGVwb2NoczoKICAgIHR5cGU6IGludGVnZXIKICAgIGRlc2NyaXB0aW9uOiB0b3RhbCBudW1iZXIgb2YgZXBvY2hzIGZvciBsb2NhbCB0cmFpbmluZwogICAgZGVmYXVsdDogMwogICAgb3B0aW9uYWw6IHRydWUKICBiYXRjaF9zaXplOgogICAgdHlwZTogaW50ZWdlcgogICAgZGVzY3JpcHRpb246IGJhdGNoIHNpemUKICAgIGRlZmF1bHQ6IDY0CiAgICBvcHRpb25hbDogdHJ1ZQoKb3V0cHV0czoKICBtb2RlbDoKICAgIHR5cGU6IHVyaV9mb2xkZXIKICAgIGRlc2NyaXB0aW9uOiB0aGUgb3V0cHV0IGNoZWNrcG9pbnQKCmNvZGU6IC4KCmNvbW1hbmQ6ID4tCiAgcHl0aG9uIHJ1bi5weSAtLXRyYWluX2RhdGEgJHt7aW5wdXRzLnRyYWluX2RhdGF9fSAtLXRlc3RfZGF0YSAke3tpbnB1dHMudGVzdF9kYXRhfX0gJFtbLS1tZXRyaWNzX3ByZWZpeCAke3tpbnB1dHMubWV0cmljc19wcmVmaXh9fV1dICRbWy0taXRlcmF0aW9uX251bSAke3tpbnB1dHMuaXRlcmF0aW9uX251bX19XV0gJFtbLS1jaGVja3BvaW50ICR7e2lucHV0cy5jaGVja3BvaW50fX1dXSAtLW1vZGVsICR7e291dHB1dHMubW9kZWx9fSAkW1stLWxyICR7e2lucHV0cy5scn19XV0gJFtbLS1lcG9jaHMgJHt7aW5wdXRzLmVwb2Noc319XV0gJFtbLS1iYXRjaF9zaXplICR7e2lucHV0cy5iYXRjaF9zaXplfX1dXQoKZW52aXJvbm1lbnQ6IGF6dXJlbWw6QXp1cmVNTC1za2xlYXJuLTEuMC11YnVudHUyMC4wNC1weTM4LWNwdTozMAo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "Hdi1DZfpx5ROVXOKT3YkWA==",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "ETag": "\u00220x8DB264569502067\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "hZlSXFPI5Vo=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training/run.py?comp=metadata",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:36 GMT",
        "x-ms-meta-name": "b237f455-e920-4a80-8c1f-54e2b0f992ab",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "1",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Thu, 16 Mar 2023 17:39:35 GMT",
        "ETag": "\u00220x8DB264569574B46\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:36 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/6824bf4a-d96f-4351-9507-41fd3289fe8f/versions/1?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "311",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isAnonymous": true,
          "isArchived": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "851",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:37 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/6824bf4a-d96f-4351-9507-41fd3289fe8f/versions/1?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-a36bf0ba61c810ecd1674c3880db8fad-99deb720c5d6c3af-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "4da3d6a7-0a69-4f0c-ae15-af218a19047d",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173937Z:4da3d6a7-0a69-4f0c-ae15-af218a19047d",
        "x-request-time": "0.950"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/6824bf4a-d96f-4351-9507-41fd3289fe8f/versions/1",
        "name": "1",
        "type": "Microsoft.MachineLearningServices/workspaces/codes/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isArchived": false,
          "isAnonymous": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/preprocessing"
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:37.3092495\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:37.3092495\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/b237f455-e920-4a80-8c1f-54e2b0f992ab/versions/1?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "306",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isAnonymous": true,
          "isArchived": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "846",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:37 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/b237f455-e920-4a80-8c1f-54e2b0f992ab/versions/1?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-e359ab5ab838037132675c77df36b7d7-bdb7b02a0f525fd0-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "0ae06117-6599-44d7-bb4b-68610bffbcde",
        "x-ms-ratelimit-remaining-subscription-writes": "1196",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173937Z:0ae06117-6599-44d7-bb4b-68610bffbcde",
        "x-request-time": "0.996"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/b237f455-e920-4a80-8c1f-54e2b0f992ab/versions/1",
        "name": "1",
        "type": "Microsoft.MachineLearningServices/workspaces/codes/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isArchived": false,
          "isAnonymous": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/training"
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:37.4411534\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:37.4411534\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/6a801713-b589-b68a-3c9c-1f623e0e44bf?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1812",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "description": "Component for preprocessing raw data in a given silo. The images are transformed using random affine keeping the center invariant, then normalized.",
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "command": "python run.py --raw_training_data ${{inputs.raw_training_data}} --raw_testing_data ${{inputs.raw_testing_data}} --train_output ${{outputs.processed_train_data}} --test_output ${{outputs.processed_test_data}} $[[--metrics_prefix ${{inputs.metrics_prefix}}]]",
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/6824bf4a-d96f-4351-9507-41fd3289fe8f/versions/1",
            "environment": "azureml:AzureML-sklearn-1.0-ubuntu20.04-py38-cpu:30",
            "name": "helloworld_preprocessing_in_silo",
            "description": "Component for preprocessing raw data in a given silo. The images are transformed using random affine keeping the center invariant, then normalized.",
            "version": "0.3.0",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "display_name": "Pre-Processing (in silo)",
            "is_deterministic": true,
            "inputs": {
              "raw_training_data": {
                "type": "uri_file",
                "description": "the raw training data in a given silo"
              },
              "raw_testing_data": {
                "type": "uri_file",
                "description": "the raw testing data in a given silo"
              },
              "metrics_prefix": {
                "type": "string",
                "optional": true,
                "default": "Default-prefix",
                "description": "Metrics prefix"
              }
            },
            "outputs": {
              "processed_train_data": {
                "type": "uri_folder",
                "description": "the output training data after preprocessing"
              },
              "processed_test_data": {
                "type": "uri_folder",
                "description": "the output testing data after preprocessing"
              }
            },
            "type": "command",
            "_source": "YAML.COMPONENT"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "2267",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:38 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/6a801713-b589-b68a-3c9c-1f623e0e44bf?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-c302c9ba265bb98e5b57dcb54a07300a-dcd1c6d4147a83e8-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "9eac8cf3-bfd8-440d-b629-f16c3fa8c36b",
        "x-ms-ratelimit-remaining-subscription-writes": "1198",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173938Z:9eac8cf3-bfd8-440d-b629-f16c3fa8c36b",
        "x-request-time": "1.150"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/9aa9d286-955a-416a-9cd5-ef21edcb562c",
        "name": "9aa9d286-955a-416a-9cd5-ef21edcb562c",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "helloworld_preprocessing_in_silo",
            "version": "0.3.0",
            "display_name": "Pre-Processing (in silo)",
            "is_deterministic": "True",
            "type": "command",
            "description": "Component for preprocessing raw data in a given silo. The images are transformed using random affine keeping the center invariant, then normalized.",
            "inputs": {
              "raw_training_data": {
                "type": "uri_file",
                "optional": "False",
                "description": "the raw training data in a given silo"
              },
              "raw_testing_data": {
                "type": "uri_file",
                "optional": "False",
                "description": "the raw testing data in a given silo"
              },
              "metrics_prefix": {
                "type": "string",
                "optional": "True",
                "default": "Default-prefix",
                "description": "Metrics prefix"
              }
            },
            "outputs": {
              "processed_train_data": {
                "type": "uri_folder",
                "description": "the output training data after preprocessing"
              },
              "processed_test_data": {
                "type": "uri_folder",
                "description": "the output testing data after preprocessing"
              }
            },
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/6824bf4a-d96f-4351-9507-41fd3289fe8f/versions/1",
            "environment": "azureml://registries/azureml/environments/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/versions/30",
            "resources": {
              "instance_count": "1"
            },
            "command": "python run.py --raw_training_data ${{inputs.raw_training_data}} --raw_testing_data ${{inputs.raw_testing_data}} --train_output ${{outputs.processed_train_data}} --test_output ${{outputs.processed_test_data}} $[[--metrics_prefix ${{inputs.metrics_prefix}}]]",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json"
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:38.7288555\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:38.7288555\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c1f65d62-b5f9-951b-bf9f-3ac4898b929d?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "2026",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "description": "Component to train a model within a FL silo.",
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "command": "python run.py --train_data ${{inputs.train_data}} --test_data ${{inputs.test_data}} $[[--metrics_prefix ${{inputs.metrics_prefix}}]] $[[--iteration_num ${{inputs.iteration_num}}]] $[[--checkpoint ${{inputs.checkpoint}}]] --model ${{outputs.model}} $[[--lr ${{inputs.lr}}]] $[[--epochs ${{inputs.epochs}}]] $[[--batch_size ${{inputs.batch_size}}]]",
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/b237f455-e920-4a80-8c1f-54e2b0f992ab/versions/1",
            "environment": "azureml:AzureML-sklearn-1.0-ubuntu20.04-py38-cpu:30",
            "name": "helloworld_train_in_silo",
            "description": "Component to train a model within a FL silo.",
            "version": "0.3.0",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "display_name": "Train (in silo)",
            "is_deterministic": true,
            "inputs": {
              "train_data": {
                "type": "uri_folder",
                "description": "the input training data"
              },
              "test_data": {
                "type": "uri_folder",
                "description": "the input testing data"
              },
              "metrics_prefix": {
                "type": "string",
                "optional": true,
                "default": "Default-prefix",
                "description": "Metrics prefix"
              },
              "iteration_num": {
                "type": "integer",
                "optional": true,
                "default": "1",
                "description": "Iteration number"
              },
              "checkpoint": {
                "type": "uri_folder",
                "description": "a given pre-existing checkpoint",
                "optional": true
              },
              "lr": {
                "type": "number",
                "optional": true,
                "default": "0.01",
                "description": "learning rate"
              },
              "epochs": {
                "type": "integer",
                "optional": true,
                "default": "3",
                "description": "total number of epochs for local training"
              },
              "batch_size": {
                "type": "integer",
                "optional": true,
                "default": "64",
                "description": "batch size"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder",
                "description": "the output checkpoint"
              }
            },
            "type": "command",
            "_source": "YAML.COMPONENT"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "2556",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:38 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c1f65d62-b5f9-951b-bf9f-3ac4898b929d?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-b5a884867f129528d16c73020b9cff67-2fc629194c418cda-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "0d196869-aa1d-44a4-9dac-f1ce9bc0dd29",
        "x-ms-ratelimit-remaining-subscription-writes": "1195",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173939Z:0d196869-aa1d-44a4-9dac-f1ce9bc0dd29",
        "x-request-time": "1.178"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/e174f61c-c87b-4cbf-b1e4-121519bf5592",
        "name": "e174f61c-c87b-4cbf-b1e4-121519bf5592",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "helloworld_train_in_silo",
            "version": "0.3.0",
            "display_name": "Train (in silo)",
            "is_deterministic": "True",
            "type": "command",
            "description": "Component to train a model within a FL silo.",
            "inputs": {
              "train_data": {
                "type": "uri_folder",
                "optional": "False",
                "description": "the input training data"
              },
              "test_data": {
                "type": "uri_folder",
                "optional": "False",
                "description": "the input testing data"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": "True",
                "description": "a given pre-existing checkpoint"
              },
              "metrics_prefix": {
                "type": "string",
                "optional": "True",
                "default": "Default-prefix",
                "description": "Metrics prefix"
              },
              "iteration_num": {
                "type": "integer",
                "optional": "True",
                "default": "1",
                "description": "Iteration number"
              },
              "lr": {
                "type": "number",
                "optional": "True",
                "default": "0.01",
                "description": "learning rate"
              },
              "epochs": {
                "type": "integer",
                "optional": "True",
                "default": "3",
                "description": "total number of epochs for local training"
              },
              "batch_size": {
                "type": "integer",
                "optional": "True",
                "default": "64",
                "description": "batch size"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder",
                "description": "the output checkpoint"
              }
            },
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/b237f455-e920-4a80-8c1f-54e2b0f992ab/versions/1",
            "environment": "azureml://registries/azureml/environments/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/versions/30",
            "resources": {
              "instance_count": "1"
            },
            "command": "python run.py --train_data ${{inputs.train_data}} --test_data ${{inputs.test_data}} $[[--metrics_prefix ${{inputs.metrics_prefix}}]] $[[--iteration_num ${{inputs.iteration_num}}]] $[[--checkpoint ${{inputs.checkpoint}}]] --model ${{outputs.model}} $[[--lr ${{inputs.lr}}]] $[[--epochs ${{inputs.epochs}}]] $[[--batch_size ${{inputs.batch_size}}]]",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json"
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:38.9111626\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:38.9111626\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-4630a2ee0c45b22ad376b2abfc417b65-b25b61930b5ef212-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "cd153def-6505-48c5-b3f9-8ac14c90e9da",
        "x-ms-ratelimit-remaining-subscription-reads": "11978",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173939Z:cd153def-6505-48c5-b3f9-8ac14c90e9da",
        "x-request-time": "0.129"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2023-03-08T16:15:58.4166502\u002B00:00",
          "createdBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "createdByType": "Application",
          "lastModifiedAt": "2023-03-08T16:15:59.279154\u002B00:00",
          "lastModifiedBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2022-10-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-4883aa4dad9cc8f6062bd19bf60e7c36-efa818288db75f80-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "9f82ec52-cf7b-45f2-91c0-15f2832441e1",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173940Z:9f82ec52-cf7b-45f2-91c0-15f2832441e1",
        "x-request-time": "0.118"
      },
      "ResponseBody": {
        "secretsType": "AccountKey",
        "key": "dGhpcyBpcyBmYWtlIGtleQ=="
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate/run.py",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2022-10-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-2a1da2195cbff7eb892c8c401295d54f-35cf7235a9865853-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": [
          "Accept-Encoding",
          "Accept-Encoding"
        ],
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "3f4c7326-b572-4dc6-9c49-573bfb05ce1f",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173940Z:3f4c7326-b572-4dc6-9c49-573bfb05ce1f",
        "x-request-time": "0.112"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "datastoreType": "AzureBlob",
          "accountName": "fle2etestingws9729888205",
          "containerName": "azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2023-03-08T16:15:58.4166502\u002B00:00",
          "createdBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "createdByType": "Application",
          "lastModifiedAt": "2023-03-08T16:15:59.279154\u002B00:00",
          "lastModifiedBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate/run.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "2270",
        "Content-MD5": "upRL5\u002BxXXM1V5DY\u002Bp83uug==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "aW1wb3J0IG9zCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3lzCmltcG9ydCBnbG9iCgoKZGVmIGdldF9hcmdfcGFyc2VyKHBhcnNlcj1Ob25lKToKICAgICIiIlBhcnNlIHRoZSBjb21tYW5kIGxpbmUgYXJndW1lbnRzIGZvciBtZXJnZSB1c2luZyBhcmdwYXJzZS4KCiAgICBBcmdzOgogICAgICAgIHBhcnNlciAoYXJncGFyc2UuQXJndW1lbnRQYXJzZXIgb3IgQ29tcGxpYW50QXJndW1lbnRQYXJzZXIpOgogICAgICAgIGFuIGFyZ3VtZW50IHBhcnNlciBpbnN0YW5jZQoKICAgIFJldHVybnM6CiAgICAgICAgQXJndW1lbnRQYXJzZXI6IHRoZSBhcmd1bWVudCBwYXJzZXIgaW5zdGFuY2UKCiAgICBOb3RlczoKICAgICAgICBpZiBwYXJzZXIgaXMgTm9uZSwgY3JlYXRlcyBhIG5ldyBwYXJzZXIgaW5zdGFuY2UKICAgICIiIgogICAgIyBhZGQgYXJndW1lbnRzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoZSBjb21wb25lbnQKICAgIGlmIHBhcnNlciBpcyBOb25lOgogICAgICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKGRlc2NyaXB0aW9uPV9fZG9jX18pCgogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1zaWxvX2lucHV0cyIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1hZ2dyZWdhdGVkX291dHB1dCIsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSIiKQogICAgcmV0dXJuIHBhcnNlcgoKCmRlZiB0ZXN0X2lucHV0KHBhdGgpOgogICAgZmlsZV9saXN0ID0gZ2xvYi5nbG9iKG9zLnBhdGguam9pbihwYXRoLCAiKi4qIiksIHJlY3Vyc2l2ZT1UcnVlKQogICAgcHJpbnQoZiJGb3VuZCB7bGVuKGZpbGVfbGlzdCl9IGZpbGVzIGluIHtwYXRofSIpCgogICAgcHJpbnQoZiJSZWFkaW5nIGZpbGVzIGZyb20ge3BhdGh9IikKICAgIGZvciBmaWxlIGluIGZpbGVfbGlzdDoKICAgICAgICBwcmludChmIiAtLSBSZWFkaW5nIHtmaWxlfSIpCiAgICAgICAgd2l0aCBvcGVuKGZpbGUsICJyIikgYXMgZjoKICAgICAgICAgICAgZi5yZWFkKCkKCgpkZWYgdGVzdF9vdXRwdXQocGF0aCk6CiAgICBwcmludChmIldyaXRpbmcgb3V0cHV0IHRvIHtwYXRofS9hZ2dyZWdhdGUudHh0IikKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4ocGF0aCwgImFnZ3JlZ2F0ZS50eHQiKSwgInciKSBhcyBmOgogICAgICAgIGYud3JpdGUoIkhlbGxvIFdvcmxkISIpCgoKZGVmIG1haW4oY2xpX2FyZ3M9Tm9uZSk6CiAgICAiIiJDb21wb25lbnQgbWFpbiBmdW5jdGlvbi4KCiAgICBJdCBwYXJzZXMgYXJndW1lbnRzIGFuZCBleGVjdXRlcyBydW4oKSB3aXRoIHRoZSByaWdodCBhcmd1bWVudHMuCgogICAgQXJnczoKICAgICAgICBjbGlfYXJncyAoTGlzdFtzdHJdLCBvcHRpb25hbCk6IGxpc3Qgb2YgYXJncyB0byBmZWVkIHNjcmlwdCwgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuIERlZmF1bHRzIHRvIE5vbmUuCiAgICAiIiIKICAgICMgYnVpbGQgYW4gYXJnIHBhcnNlcgogICAgcGFyc2VyID0gZ2V0X2FyZ19wYXJzZXIoKQoKICAgICMgcnVuIHRoZSBwYXJzZXIgb24gY2xpIGFyZ3MKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncyhjbGlfYXJncykKCiAgICBwcmludChmIlJ1bm5pbmcgc2NyaXB0IHdpdGggYXJndW1lbnRzOiB7YXJnc30iKQogICAgZm9yIHJvb3QsIGRpcnMsIGZpbGVzIGluIG9zLndhbGsoYXJncy5zaWxvX2lucHV0cyk6CiAgICAgICAgZm9yIG5hbWUgaW4gZmlsZXM6CiAgICAgICAgICAgIHByaW50KGYiZm91bmQgZmlsZToge25hbWV9IikKICAgICAgICAgICAgI3Rlc3Rfb3V0cHV0KG9zLnBhdGguam9pbihyb290LCJhZ2dyZWdhdGVfb3V0cHV0X2RpciIpKQogICAgdGVzdF9vdXRwdXQoYXJncy5hZ2dyZWdhdGVkX291dHB1dCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgIyBTZXQgbG9nZ2luZyB0byBzeXMub3V0CiAgICBsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKICAgIGxvZ2dlci5zZXRMZXZlbChsb2dnaW5nLkRFQlVHKQogICAgbG9nX2Zvcm1hdCA9IGxvZ2dpbmcuRm9ybWF0dGVyKCJbJShhc2N0aW1lKXNdIFslKGxldmVsbmFtZSlzXSAtICUobWVzc2FnZSlzIikKICAgIGhhbmRsZXIgPSBsb2dnaW5nLlN0cmVhbUhhbmRsZXIoc3lzLnN0ZG91dCkKICAgIGhhbmRsZXIuc2V0TGV2ZWwobG9nZ2luZy5ERUJVRykKICAgIGhhbmRsZXIuc2V0Rm9ybWF0dGVyKGxvZ19mb3JtYXQpCiAgICBsb2dnZXIuYWRkSGFuZGxlcihoYW5kbGVyKQoKICAgIG1haW4oKQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "upRL5\u002BxXXM1V5DY\u002Bp83uug==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456BD5A9B0\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "SN7gOBX4Uj4=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate/spec.yaml",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "733",
        "Content-MD5": "UzAK4OtePvzxzfQuUdu2QQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "CiRzY2hlbWE6IGh0dHBzOi8vYXp1cmVtbHNjaGVtYXMuYXp1cmVlZGdlLm5ldC9sYXRlc3QvY29tbWFuZENvbXBvbmVudC5zY2hlbWEuanNvbgpuYW1lOiBoZWxsb3dvcmxkX2FnZ3JlZ2F0ZV9tb2RlbF93ZWlnaHRzCnZlcnNpb246IDAuMy4wCmRpc3BsYXlfbmFtZTogQWdncmVnYXRlIE1vZGVsIFdlaWdodHMgKGZyb20gYWxsIHNpbG9zKQp0eXBlOiBjb21tYW5kCmRlc2NyaXB0aW9uOiBDb21wb25lbnQgZm9yIGFnZ3JlYXRpbmcgbW9kZWwgd2VpZ2h0cy4KaXNfZGV0ZXJtaW5pc3RpYzogdHJ1ZQoKaW5wdXRzOgogIHNpbG9faW5wdXRzOgogICAgdHlwZTogbWx0YWJsZQogICAgZGVzY3JpcHRpb246IGFnZ3JlZ2F0ZWQgaW5wdXRzIGZyb20gYWxsIHNpbG9zCiAgICBvcHRpb25hbDogZmFsc2UKCm91dHB1dHM6CiAgYWdncmVnYXRlZF9vdXRwdXQ6CiAgICB0eXBlOiB1cmlfZm9sZGVyCiAgICBkZXNjcmlwdGlvbjogdGhlIGFnZ3JlZ2F0ZWQgbW9kZWwgb3IgZ3JhZGlhbnRzLCByZXNpZGluZyBpbiB0aGUgb3JjaGVzdHJhdG9yIGNvbXB1dGUuCgpjb2RlOiAuCgpjb21tYW5kOiA\u002BLQogIHB5dGhvbiBydW4ucHkgLS1hZ2dyZWdhdGVkX291dHB1dCAke3tvdXRwdXRzLmFnZ3JlZ2F0ZWRfb3V0cHV0fX0KICAtLXNpbG9faW5wdXRzICR7e2lucHV0cy5zaWxvX2lucHV0c319CgplbnZpcm9ubWVudDogYXp1cmVtbDpBenVyZU1MLXNrbGVhcm4tMS4wLXVidW50dTIwLjA0LXB5MzgtY3B1OjMwCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "UzAK4OtePvzxzfQuUdu2QQ==",
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "ETag": "\u00220x8DB26456BD77E3C\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "mxUzISuQo6E=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate/run.py?comp=metadata",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-meta-name": "587af731-527f-4581-9c51-f00cb88339d0",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "1",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "ETag": "\u00220x8DB26456BDE5B01\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2022-10-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:39 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-f87148d273288887ab7642e30e0e8435-e04237855569ad0d-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "ad9aca53-1998-4c87-832f-dadd5dcb29a0",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173940Z:ad9aca53-1998-4c87-832f-dadd5dcb29a0",
        "x-request-time": "0.118"
      },
      "ResponseBody": {
        "secretsType": "AccountKey",
        "key": "dGhpcyBpcyBmYWtlIGtleQ=="
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/__init__.py",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/__init__.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "792",
        "Content-MD5": "4CZZLHtm8BvKzOI0tvFzAQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZSwgcGFyc2VfaW5wdXRzX291dHB1dHMKZnJvbSAuY29tbWFuZCBpbXBvcnQgQ29tbWFuZApmcm9tIC5kb193aGlsZSBpbXBvcnQgRG9XaGlsZQpmcm9tIC5pbXBvcnRfbm9kZSBpbXBvcnQgSW1wb3J0CmZyb20gLnBhcmFsbGVsIGltcG9ydCBQYXJhbGxlbApmcm9tIC5waXBlbGluZSBpbXBvcnQgUGlwZWxpbmUKZnJvbSAuc3BhcmsgaW1wb3J0IFNwYXJrCmZyb20gLnN3ZWVwIGltcG9ydCBTd2VlcApmcm9tIC5kYXRhX3RyYW5zZmVyIGltcG9ydCBEYXRhVHJhbnNmZXIsIERhdGFUcmFuc2ZlckNvcHksIERhdGFUcmFuc2ZlckltcG9ydCwgRGF0YVRyYW5zZmVyRXhwb3J0CgpfX2FsbF9fID0gWwogICAgIkJhc2VOb2RlIiwKICAgICJTd2VlcCIsCiAgICAiUGFyYWxsZWwiLAogICAgIkNvbW1hbmQiLAogICAgIkltcG9ydCIsCiAgICAiU3BhcmsiLAogICAgIlBpcGVsaW5lIiwKICAgICJwYXJzZV9pbnB1dHNfb3V0cHV0cyIsCiAgICAiRG9XaGlsZSIsCiAgICAiRGF0YVRyYW5zZmVyIiwKICAgICJEYXRhVHJhbnNmZXJDb3B5IiwKICAgICJEYXRhVHJhbnNmZXJJbXBvcnQiLAogICAgIkRhdGFUcmFuc2ZlckV4cG9ydCIsCl0K",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "4CZZLHtm8BvKzOI0tvFzAQ==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C1A22C9\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "uAvg9O\u002BU5KQ=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/command.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "32052",
        "Content-MD5": "5\u002B7s2iTZC74eLxWBBgMVWQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKCmltcG9ydCBjb3B5CmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwpmcm9tIGVudW0gaW1wb3J0IEVudW0KZnJvbSBvcyBpbXBvcnQgUGF0aExpa2UKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKZnJvbSBtYXJzaG1hbGxvdyBpbXBvcnQgSU5DTFVERSwgU2NoZW1hCgpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBDb21tYW5kSm9iIGFzIFJlc3RDb21tYW5kSm9iCmZyb20gYXp1cmUuYWkubWwuX3Jlc3RjbGllbnQudjIwMjNfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IENvbW1hbmRKb2JMaW1pdHMgYXMgUmVzdENvbW1hbmRKb2JMaW1pdHMKZnJvbSBhenVyZS5haS5tbC5fcmVzdGNsaWVudC52MjAyM18wMl8wMV9wcmV2aWV3Lm1vZGVscyBpbXBvcnQgSm9iQmFzZQpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24gYXMgUmVzdEpvYlJlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBRdWV1ZVNldHRpbmdzIGFzIFJlc3RRdWV1ZVNldHRpbmdzCmZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5jb3JlLmZpZWxkcyBpbXBvcnQgTmVzdGVkRmllbGQsIFVuaW9uRmllbGQKZnJvbSBhenVyZS5haS5tbC5fc2NoZW1hLmpvYi5jb21tYW5kX2pvYiBpbXBvcnQgQ29tbWFuZEpvYlNjaGVtYQpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEuam9iLmlkZW50aXR5IGltcG9ydCBBTUxUb2tlbklkZW50aXR5U2NoZW1hLCBNYW5hZ2VkSWRlbnRpdHlTY2hlbWEsIFVzZXJJZGVudGl0eVNjaGVtYQpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEuam9iLnNlcnZpY2VzIGltcG9ydCBKb2JTZXJ2aWNlU2NoZW1hCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21tb24gaW1wb3J0IEJBU0VfUEFUSF9DT05URVhUX0tFWSwgTE9DQUxfQ09NUFVURV9QUk9QRVJUWSwgTE9DQUxfQ09NUFVURV9UQVJHRVQKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50U291cmNlLCBOb2RlVHlwZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9hc3NldHMgaW1wb3J0IEVudmlyb25tZW50CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5jb21tYW5kX2NvbXBvbmVudCBpbXBvcnQgQ29tbWFuZENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuY29tcG9uZW50IGltcG9ydCBDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY3JlZGVudGlhbHMgaW1wb3J0ICgKICAgIEFtbFRva2VuQ29uZmlndXJhdGlvbiwKICAgIE1hbmFnZWRJZGVudGl0eUNvbmZpZ3VyYXRpb24sCiAgICBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uLAogICAgX0Jhc2VKb2JJZGVudGl0eUNvbmZpZ3VyYXRpb24sCikKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IElucHV0LCBPdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLl9pbnB1dF9vdXRwdXRfaGVscGVycyBpbXBvcnQgZnJvbV9yZXN0X2RhdGFfb3V0cHV0cywgZnJvbV9yZXN0X2lucHV0c190b19kYXRhc2V0X2xpdGVyYWwKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmNvbW1hbmRfam9iIGltcG9ydCBDb21tYW5kSm9iCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5kaXN0cmlidXRpb24gaW1wb3J0ICgKICAgIERpc3RyaWJ1dGlvbkNvbmZpZ3VyYXRpb24sCiAgICBNcGlEaXN0cmlidXRpb24sCiAgICBQeVRvcmNoRGlzdHJpYnV0aW9uLAogICAgVGVuc29yRmxvd0Rpc3RyaWJ1dGlvbiwKKQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuam9iX2xpbWl0cyBpbXBvcnQgQ29tbWFuZEpvYkxpbWl0cwpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuam9iX3Jlc291cmNlX2NvbmZpZ3VyYXRpb24gaW1wb3J0IEpvYlJlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuam9iX3NlcnZpY2UgaW1wb3J0ICgKICAgIEpvYlNlcnZpY2VCYXNlLAogICAgSm9iU2VydmljZSwKICAgIEp1cHl0ZXJMYWJKb2JTZXJ2aWNlLAogICAgU3NoSm9iU2VydmljZSwKICAgIFRlbnNvckJvYXJkSm9iU2VydmljZSwKICAgIFZzQ29kZUpvYlNlcnZpY2UsCikKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnF1ZXVlX3NldHRpbmdzIGltcG9ydCBRdWV1ZVNldHRpbmdzCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5zd2VlcC5lYXJseV90ZXJtaW5hdGlvbl9wb2xpY3kgaW1wb3J0IEVhcmx5VGVybWluYXRpb25Qb2xpY3kKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnN3ZWVwLm9iamVjdGl2ZSBpbXBvcnQgT2JqZWN0aXZlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5zd2VlcC5zZWFyY2hfc3BhY2UgaW1wb3J0ICgKICAgIENob2ljZSwKICAgIExvZ05vcm1hbCwKICAgIExvZ1VuaWZvcm0sCiAgICBOb3JtYWwsCiAgICBRTG9nTm9ybWFsLAogICAgUUxvZ1VuaWZvcm0sCiAgICBRTm9ybWFsLAogICAgUVVuaWZvcm0sCiAgICBSYW5kaW50LAogICAgU3dlZXBEaXN0cmlidXRpb24sCiAgICBVbmlmb3JtLAopCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX3N5c3RlbV9kYXRhIGltcG9ydCBTeXN0ZW1EYXRhCmZyb20gYXp1cmUuYWkubWwuZXhjZXB0aW9ucyBpbXBvcnQgRXJyb3JDYXRlZ29yeSwgRXJyb3JUYXJnZXQsIFZhbGlkYXRpb25FcnJvclR5cGUsIFZhbGlkYXRpb25FeGNlcHRpb24KCmZyb20gLi4uX3NjaGVtYSBpbXBvcnQgUGF0aEF3YXJlU2NoZW1hCmZyb20gLi4uX3NjaGVtYS5qb2IuZGlzdHJpYnV0aW9uIGltcG9ydCBNUElEaXN0cmlidXRpb25TY2hlbWEsIFB5VG9yY2hEaXN0cmlidXRpb25TY2hlbWEsIFRlbnNvckZsb3dEaXN0cmlidXRpb25TY2hlbWEKZnJvbSAuLl91dGlsIGltcG9ydCAoCiAgICBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0LAogICAgZnJvbV9yZXN0X2RpY3RfdG9fZHVtbXlfcmVzdF9vYmplY3QsCiAgICBnZXRfcmVzdF9kaWN0X2Zvcl9ub2RlX2F0dHJzLAogICAgbG9hZF9mcm9tX2RpY3QsCiAgICB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZSwKKQpmcm9tIC5iYXNlX25vZGUgaW1wb3J0IEJhc2VOb2RlCmZyb20gLnN3ZWVwIGltcG9ydCBTd2VlcAoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIENvbW1hbmQoQmFzZU5vZGUpOgogICAgIiIiQmFzZSBjbGFzcyBmb3IgY29tbWFuZCBub2RlLCB1c2VkIGZvciBjb21tYW5kIGNvbXBvbmVudCB2ZXJzaW9uIGNvbnN1bXB0aW9uLgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIGJ1aWxkZXIgZnVuY3Rpb246IGNvbW1hbmQuCgogICAgOnBhcmFtIGNvbXBvbmVudDogSWQgb3IgaW5zdGFuY2Ugb2YgdGhlIGNvbW1hbmQgY29tcG9uZW50L2pvYiB0byBiZSBydW4gZm9yIHRoZSBzdGVwCiAgICA6dHlwZSBjb21wb25lbnQ6IENvbW1hbmRDb21wb25lbnQKICAgIDpwYXJhbSBpbnB1dHM6IElucHV0cyB0byB0aGUgY29tbWFuZC4KICAgIDp0eXBlIGlucHV0czogRGljdFtzdHIsIFVuaW9uW0lucHV0LCBTd2VlcERpc3RyaWJ1dGlvbiwgc3RyLCBib29sLCBpbnQsIGZsb2F0LCBFbnVtLCBkaWN0XV0KICAgIDpwYXJhbSBvdXRwdXRzOiBNYXBwaW5nIG9mIG91dHB1dCBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIG91dHB1dHM6IERpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dCwgZGljdF1dCiAgICA6cGFyYW0gbmFtZTogTmFtZSBvZiB0aGUgY29tbWFuZC4KICAgIDp0eXBlIG5hbWU6IHN0cgogICAgOnBhcmFtIGRlc2NyaXB0aW9uOiBEZXNjcmlwdGlvbiBvZiB0aGUgY29tbWFuZC4KICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSB0YWdzOiBUYWcgZGljdGlvbmFyeS4gVGFncyBjYW4gYmUgYWRkZWQsIHJlbW92ZWQsIGFuZCB1cGRhdGVkLgogICAgOnR5cGUgdGFnczogZGljdFtzdHIsIHN0cl0KICAgIDpwYXJhbSBwcm9wZXJ0aWVzOiBUaGUgam9iIHByb3BlcnR5IGRpY3Rpb25hcnkuCiAgICA6dHlwZSBwcm9wZXJ0aWVzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIGRpc3BsYXlfbmFtZTogRGlzcGxheSBuYW1lIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBkaXNwbGF5X25hbWU6IHN0cgogICAgOnBhcmFtIGV4cGVyaW1lbnRfbmFtZTogIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdGhlIGpvYiB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIsCiAgICAgICAgaWYgTm9uZSBpcyBwcm92aWRlZCwgZGVmYXVsdCB3aWxsIGJlIHNldCB0byBjdXJyZW50IGRpcmVjdG9yeSBuYW1lLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgIDpwYXJhbSBjb21tYW5kOiBDb21tYW5kIHRvIGJlIGV4ZWN1dGVkIGluIHRyYWluaW5nLgogICAgOnR5cGUgY29tbWFuZDogc3RyCiAgICA6cGFyYW0gY29tcHV0ZTogVGhlIGNvbXB1dGUgdGFyZ2V0IHRoZSBqb2IgcnVucyBvbi4KICAgIDp0eXBlIGNvbXB1dGU6IHN0cgogICAgOnBhcmFtIHJlc291cmNlczogQ29tcHV0ZSBSZXNvdXJjZSBjb25maWd1cmF0aW9uIGZvciB0aGUgY29tbWFuZC4KICAgIDp0eXBlIHJlc291cmNlczogVW5pb25bRGljdCwgfmF6dXJlLmFpLm1sLmVudGl0aWVzLkpvYlJlc291cmNlQ29uZmlndXJhdGlvbl0KICAgIDpwYXJhbSBjb2RlOiBBIGxvY2FsIHBhdGggb3IgaHR0cDosIGh0dHBzOiwgYXp1cmVtbDogdXJsIHBvaW50aW5nIHRvIGEgcmVtb3RlIGxvY2F0aW9uLgogICAgOnR5cGUgY29kZTogc3RyCiAgICA6cGFyYW0gZGlzdHJpYnV0aW9uOiBEaXN0cmlidXRpb24gY29uZmlndXJhdGlvbiBmb3IgZGlzdHJpYnV0ZWQgdHJhaW5pbmcuCiAgICA6dHlwZSBkaXN0cmlidXRpb246IFVuaW9uW0RpY3QsIFB5VG9yY2hEaXN0cmlidXRpb24sIE1waURpc3RyaWJ1dGlvbiwgVGVuc29yRmxvd0Rpc3RyaWJ1dGlvbl0KICAgIDpwYXJhbSBlbnZpcm9ubWVudDogRW52aXJvbm1lbnQgdGhhdCB0cmFpbmluZyBqb2Igd2lsbCBydW4gaW4uCiAgICA6dHlwZSBlbnZpcm9ubWVudDogVW5pb25bRW52aXJvbm1lbnQsIHN0cl0KICAgIDpwYXJhbSBsaW1pdHM6IENvbW1hbmQgSm9iIGxpbWl0LgogICAgOnR5cGUgbGltaXRzOiB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuQ29tbWFuZEpvYkxpbWl0cwogICAgOnBhcmFtIGlkZW50aXR5OiBJZGVudGl0eSB0aGF0IHRyYWluaW5nIGpvYiB3aWxsIHVzZSB3aGlsZSBydW5uaW5nIG9uIGNvbXB1dGUuCiAgICA6dHlwZSBpZGVudGl0eTogVW5pb25bTWFuYWdlZElkZW50aXR5LCBBbWxUb2tlbiwgVXNlcklkZW50aXR5XQogICAgOnBhcmFtIHNlcnZpY2VzOiBJbnRlcmFjdGl2ZSBzZXJ2aWNlcyBmb3IgdGhlIG5vZGUuIFRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIHBhcmFtZXRlciwgYW5kIG1heSBjaGFuZ2UgYXQgYW55IHRpbWUuCiAgICAgICAgUGxlYXNlIHNlZSBodHRwczovL2FrYS5tcy9henVyZW1sZXhwZXJpbWVudGFsIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgOnR5cGUgc2VydmljZXM6CiAgICAgICAgRGljdFtzdHIsIFVuaW9uW0pvYlNlcnZpY2UsIEp1cHl0ZXJMYWJKb2JTZXJ2aWNlLCBTc2hKb2JTZXJ2aWNlLCBUZW5zb3JCb2FyZEpvYlNlcnZpY2UsIFZzQ29kZUpvYlNlcnZpY2VdXQogICAgOnBhcmFtIHF1ZXVlX3NldHRpbmdzOiBRdWV1ZSBzZXR0aW5ncyBmb3IgdGhlIGpvYi4KICAgIDp0eXBlIHF1ZXVlX3NldHRpbmdzOiBRdWV1ZVNldHRpbmdzCiAgICA6cmFpc2VzIH5henVyZS5haS5tbC5leGNlcHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb246IFJhaXNlZCBpZiBDb21tYW5kIGNhbm5vdCBiZSBzdWNjZXNzZnVsbHkgdmFsaWRhdGVkLgogICAgICAgIERldGFpbHMgd2lsbCBiZSBwcm92aWRlZCBpbiB0aGUgZXJyb3IgbWVzc2FnZS4KICAgICIiIgoKICAgICMgcHlsaW50OiBkaXNhYmxlPXRvby1tYW55LWluc3RhbmNlLWF0dHJpYnV0ZXMKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgY29tcG9uZW50OiBVbmlvbltzdHIsIENvbW1hbmRDb21wb25lbnRdLAogICAgICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIGlucHV0czogT3B0aW9uYWxbCiAgICAgICAgICAgIERpY3RbCiAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICBVbmlvblsKICAgICAgICAgICAgICAgICAgICBJbnB1dCwKICAgICAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICAgICAgYm9vbCwKICAgICAgICAgICAgICAgICAgICBpbnQsCiAgICAgICAgICAgICAgICAgICAgZmxvYXQsCiAgICAgICAgICAgICAgICAgICAgRW51bSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIF0KICAgICAgICBdID0gTm9uZSwKICAgICAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXRdXV0gPSBOb25lLAogICAgICAgIGxpbWl0czogT3B0aW9uYWxbQ29tbWFuZEpvYkxpbWl0c10gPSBOb25lLAogICAgICAgIGlkZW50aXR5OiBPcHRpb25hbFsKICAgICAgICAgICAgVW5pb25bTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXQogICAgICAgIF0gPSBOb25lLAogICAgICAgIGRpc3RyaWJ1dGlvbjogT3B0aW9uYWxbVW5pb25bRGljdCwgTXBpRGlzdHJpYnV0aW9uLCBUZW5zb3JGbG93RGlzdHJpYnV0aW9uLCBQeVRvcmNoRGlzdHJpYnV0aW9uXV0gPSBOb25lLAogICAgICAgIGVudmlyb25tZW50OiBPcHRpb25hbFtVbmlvbltFbnZpcm9ubWVudCwgc3RyXV0gPSBOb25lLAogICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgIHJlc291cmNlczogT3B0aW9uYWxbSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uXSA9IE5vbmUsCiAgICAgICAgc2VydmljZXM6IE9wdGlvbmFsWwogICAgICAgICAgICBEaWN0W3N0ciwgVW5pb25bSm9iU2VydmljZSwgSnVweXRlckxhYkpvYlNlcnZpY2UsIFNzaEpvYlNlcnZpY2UsIFRlbnNvckJvYXJkSm9iU2VydmljZSwgVnNDb2RlSm9iU2VydmljZV1dCiAgICAgICAgXSA9IE5vbmUsCiAgICAgICAgcXVldWVfc2V0dGluZ3M6IE9wdGlvbmFsW1F1ZXVlU2V0dGluZ3NdID0gTm9uZSwKICAgICAgICAqKmt3YXJncywKICAgICk6CiAgICAgICAgIyB2YWxpZGF0ZSBpbml0IHBhcmFtcyBhcmUgdmFsaWQgdHlwZQogICAgICAgIHZhbGlkYXRlX2F0dHJpYnV0ZV90eXBlKGF0dHJzX3RvX2NoZWNrPWxvY2FscygpLCBhdHRyX3R5cGVfbWFwPXNlbGYuX2F0dHJfdHlwZV9tYXAoKSkKCiAgICAgICAgIyByZXNvbHZlIG5vcm1hbCBkaWN0IHRvIGRpY3Rbc3RyLCBKb2JTZXJ2aWNlXQogICAgICAgIHNlcnZpY2VzID0gX3Jlc29sdmVfam9iX3NlcnZpY2VzKHNlcnZpY2VzKQogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQogICAgICAgIHNlbGYuX3BhcmFtZXRlcnMgPSBrd2FyZ3MucG9wKCJwYXJhbWV0ZXJzIiwge30pCiAgICAgICAgQmFzZU5vZGUuX19pbml0X18oCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHR5cGU9Tm9kZVR5cGUuQ09NTUFORCwKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLAogICAgICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgIHNlcnZpY2VzPXNlcnZpY2VzLAogICAgICAgICAgICAqKmt3YXJncywKICAgICAgICApCgogICAgICAgICMgaW5pdCBtYXJrIGZvciBfQXR0ckRpY3QKICAgICAgICBzZWxmLl9pbml0ID0gVHJ1ZQogICAgICAgICMgaW5pdGlhbGl6ZSBjb21tYW5kIGpvYiBwcm9wZXJ0aWVzCiAgICAgICAgc2VsZi5saW1pdHMgPSBsaW1pdHMKICAgICAgICBzZWxmLmlkZW50aXR5ID0gaWRlbnRpdHkKICAgICAgICBzZWxmLl9kaXN0cmlidXRpb24gPSBkaXN0cmlidXRpb24KICAgICAgICBzZWxmLmVudmlyb25tZW50X3ZhcmlhYmxlcyA9IHt9IGlmIGVudmlyb25tZW50X3ZhcmlhYmxlcyBpcyBOb25lIGVsc2UgZW52aXJvbm1lbnRfdmFyaWFibGVzCiAgICAgICAgc2VsZi5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50CiAgICAgICAgc2VsZi5fcmVzb3VyY2VzID0gcmVzb3VyY2VzCiAgICAgICAgc2VsZi5fc2VydmljZXMgPSBzZXJ2aWNlcwogICAgICAgIHNlbGYucXVldWVfc2V0dGluZ3MgPSBxdWV1ZV9zZXR0aW5ncwoKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuY29tcG9uZW50LCBDb21tYW5kQ29tcG9uZW50KToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMgPSBzZWxmLnJlc291cmNlcyBvciBzZWxmLmNvbXBvbmVudC5yZXNvdXJjZXMKICAgICAgICAgICAgc2VsZi5kaXN0cmlidXRpb24gPSBzZWxmLmRpc3RyaWJ1dGlvbiBvciBzZWxmLmNvbXBvbmVudC5kaXN0cmlidXRpb24KCiAgICAgICAgc2VsZi5fc3dlcHQgPSBGYWxzZQogICAgICAgIHNlbGYuX2luaXQgPSBGYWxzZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc3VwcG9ydGVkX2lucHV0c190eXBlcyhjbHMpOgogICAgICAgIHN1cHBvcnRlZF90eXBlcyA9IHN1cGVyKCkuX2dldF9zdXBwb3J0ZWRfaW5wdXRzX3R5cGVzKCkgb3IgKCkKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBTd2VlcERpc3RyaWJ1dGlvbiwKICAgICAgICAgICAgKnN1cHBvcnRlZF90eXBlcywKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2dldF9zdXBwb3J0ZWRfb3V0cHV0c190eXBlcyhjbHMpOgogICAgICAgIHJldHVybiBzdHIsIE91dHB1dAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHBhcmFtZXRlcnMoc2VsZikgLT4gRGljdFtzdHIsIHN0cl06CiAgICAgICAgIiIiTUxGbG93IHBhcmFtZXRlcnMuCgogICAgICAgIDpyZXR1cm46IE1MRmxvdyBwYXJhbWV0ZXJzIGxvZ2dlZCBpbiBqb2IuCiAgICAgICAgOnJ0eXBlOiBEaWN0W3N0ciwgc3RyXQogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLl9wYXJhbWV0ZXJzCgogICAgQHByb3BlcnR5CiAgICBkZWYgZGlzdHJpYnV0aW9uKAogICAgICAgIHNlbGYsCiAgICApIC0\u002BIFVuaW9uW1B5VG9yY2hEaXN0cmlidXRpb24sIE1waURpc3RyaWJ1dGlvbiwgVGVuc29yRmxvd0Rpc3RyaWJ1dGlvbl06CiAgICAgICAgcmV0dXJuIHNlbGYuX2Rpc3RyaWJ1dGlvbgoKICAgIEBkaXN0cmlidXRpb24uc2V0dGVyCiAgICBkZWYgZGlzdHJpYnV0aW9uKAogICAgICAgIHNlbGYsCiAgICAgICAgdmFsdWU6IFVuaW9uW0RpY3QsIFB5VG9yY2hEaXN0cmlidXRpb24sIFRlbnNvckZsb3dEaXN0cmlidXRpb24sIE1waURpc3RyaWJ1dGlvbl0sCiAgICApOgogICAgICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIGRpY3QpOgogICAgICAgICAgICBkaXN0X3NjaGVtYSA9IFVuaW9uRmllbGQoCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoUHlUb3JjaERpc3RyaWJ1dGlvblNjaGVtYSwgdW5rbm93bj1JTkNMVURFKSwKICAgICAgICAgICAgICAgICAgICBOZXN0ZWRGaWVsZChUZW5zb3JGbG93RGlzdHJpYnV0aW9uU2NoZW1hLCB1bmtub3duPUlOQ0xVREUpLAogICAgICAgICAgICAgICAgICAgIE5lc3RlZEZpZWxkKE1QSURpc3RyaWJ1dGlvblNjaGVtYSwgdW5rbm93bj1JTkNMVURFKSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgKQogICAgICAgICAgICB2YWx1ZSA9IGRpc3Rfc2NoZW1hLl9kZXNlcmlhbGl6ZSh2YWx1ZT12YWx1ZSwgYXR0cj1Ob25lLCBkYXRhPU5vbmUpCiAgICAgICAgc2VsZi5fZGlzdHJpYnV0aW9uID0gdmFsdWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiByZXNvdXJjZXMoc2VsZikgLT4gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uOgogICAgICAgIHJldHVybiBzZWxmLl9yZXNvdXJjZXMKCiAgICBAcmVzb3VyY2VzLnNldHRlcgogICAgZGVmIHJlc291cmNlcyhzZWxmLCB2YWx1ZTogVW5pb25bRGljdCwgSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uXSk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIHZhbHVlID0gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uKCoqdmFsdWUpCiAgICAgICAgc2VsZi5fcmVzb3VyY2VzID0gdmFsdWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBxdWV1ZV9zZXR0aW5ncyhzZWxmKSAtPiBRdWV1ZVNldHRpbmdzOgogICAgICAgIHJldHVybiBzZWxmLl9xdWV1ZV9zZXR0aW5ncwoKICAgIEBxdWV1ZV9zZXR0aW5ncy5zZXR0ZXIKICAgIGRlZiBxdWV1ZV9zZXR0aW5ncyhzZWxmLCB2YWx1ZTogVW5pb25bRGljdCwgUXVldWVTZXR0aW5nc10pOgogICAgICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIGRpY3QpOgogICAgICAgICAgICB2YWx1ZSA9IFF1ZXVlU2V0dGluZ3MoKip2YWx1ZSkKICAgICAgICBzZWxmLl9xdWV1ZV9zZXR0aW5ncyA9IHZhbHVlCgogICAgQHByb3BlcnR5CiAgICBkZWYgaWRlbnRpdHkoCiAgICAgICAgc2VsZiwKICAgICkgLT4gT3B0aW9uYWxbVW5pb25bTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXV06CiAgICAgICAgIiIiQ29uZmlndXJhdGlvbiBvZiB0aGUgaHlwZXJwYXJhbWV0ZXIgaWRlbnRpdHkuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX2lkZW50aXR5CgogICAgQGlkZW50aXR5LnNldHRlcgogICAgZGVmIGlkZW50aXR5KAogICAgICAgIHNlbGYsCiAgICAgICAgdmFsdWU6IFVuaW9uWwogICAgICAgICAgICBEaWN0W3N0ciwgc3RyXSwgTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uLCBOb25lCiAgICAgICAgXSwKICAgICk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIGlkZW50aXR5X3NjaGVtYSA9IFVuaW9uRmllbGQoCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoTWFuYWdlZElkZW50aXR5U2NoZW1hLCB1bmtub3duPUlOQ0xVREUpLAogICAgICAgICAgICAgICAgICAgIE5lc3RlZEZpZWxkKEFNTFRva2VuSWRlbnRpdHlTY2hlbWEsIHVua25vd249SU5DTFVERSksCiAgICAgICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoVXNlcklkZW50aXR5U2NoZW1hLCB1bmtub3duPUlOQ0xVREUpLAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICApCiAgICAgICAgICAgIHZhbHVlID0gaWRlbnRpdHlfc2NoZW1hLl9kZXNlcmlhbGl6ZSh2YWx1ZT12YWx1ZSwgYXR0cj1Ob25lLCBkYXRhPU5vbmUpCiAgICAgICAgc2VsZi5faWRlbnRpdHkgPSB2YWx1ZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlcnZpY2VzKHNlbGYpIC0\u002BIERpY3Q6CiAgICAgICAgcmV0dXJuIHNlbGYuX3NlcnZpY2VzCgogICAgQHNlcnZpY2VzLnNldHRlcgogICAgZGVmIHNlcnZpY2VzKHNlbGYsIHZhbHVlOiBEaWN0KToKICAgICAgICBzZWxmLl9zZXJ2aWNlcyA9IF9yZXNvbHZlX2pvYl9zZXJ2aWNlcyh2YWx1ZSkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb21wb25lbnQoc2VsZikgLT4gVW5pb25bc3RyLCBDb21tYW5kQ29tcG9uZW50XToKICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50CgogICAgQHByb3BlcnR5CiAgICBkZWYgY29tbWFuZChzZWxmKSAtPiBPcHRpb25hbFtzdHJdOgogICAgICAgICMgdGhlIHNhbWUgYXMgY29kZQogICAgICAgIHJldHVybiBzZWxmLmNvbXBvbmVudC5jb21tYW5kIGlmIGhhc2F0dHIoc2VsZi5jb21wb25lbnQsICJjb21tYW5kIikgZWxzZSBOb25lCgogICAgQGNvbW1hbmQuc2V0dGVyCiAgICBkZWYgY29tbWFuZChzZWxmLCB2YWx1ZTogc3RyKSAtPiBOb25lOgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgIHNlbGYuY29tcG9uZW50LmNvbW1hbmQgPSB2YWx1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1zZyA9ICJDYW4ndCBzZXQgY29tbWFuZCBwcm9wZXJ0eSBmb3IgYSByZWdpc3RlcmVkIGNvbXBvbmVudCB7fS4gVHJpZWQgdG8gc2V0IGl0IHRvIHt9LiIKICAgICAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkV4Y2VwdGlvbigKICAgICAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdChzZWxmLmNvbXBvbmVudCwgdmFsdWUpLAogICAgICAgICAgICAgICAgbm9fcGVyc29uYWxfZGF0YV9tZXNzYWdlPW1zZywKICAgICAgICAgICAgICAgIHRhcmdldD1FcnJvclRhcmdldC5DT01NQU5EX0pPQiwKICAgICAgICAgICAgICAgIGVycm9yX2NhdGVnb3J5PUVycm9yQ2F0ZWdvcnkuVVNFUl9FUlJPUiwKICAgICAgICAgICAgICAgIGVycm9yX3R5cGU9VmFsaWRhdGlvbkVycm9yVHlwZS5JTlZBTElEX1ZBTFVFLAogICAgICAgICAgICApCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29kZShzZWxmKSAtPiBPcHRpb25hbFtVbmlvbltzdHIsIFBhdGhMaWtlXV06CiAgICAgICAgIyBCYXNlTm9kZSBpcyBhbiBfQXR0ckRpY3QgdG8gYWxsb3cgZHluYW1pYyBhdHRyaWJ1dGVzLCBzbyB0aGF0IGxvd2VyIHZlcnNpb24gb2YgU0RLIGNhbiB3b3JrIHdpdGggYXR0cmlidXRlcwogICAgICAgICMgYWRkZWQgaW4gaGlnaGVyIHZlcnNpb24gb2YgU0RLLgogICAgICAgICMgc2VsZi5jb2RlIHdpbGwgYmUgdHJlYXRlZCBhcyBhbiBBcmJpdHJhcnkgYXR0cmlidXRlIGlmIGl0IHJhaXNlcyBBdHRyaWJ1dGVFcnJvciBpbiBnZXR0aW5nCiAgICAgICAgIyAod2hlbiBzZWxmLmNvbXBvbmVudCBkb2Vzbid0IGhhdmUgYXR0cmlidXRlIGNvZGUsIHNlbGYuY29tcG9uZW50ID0gJ2F6dXJlbWw6eHh4OjEnIGUuZy4KICAgICAgICAjIHlvdSBtYXkgY2hlY2sgX0F0dHJEaWN0Ll9pc19hcmJpdHJhcnlfYXR0ciBmb3IgZGV0YWlsZWQgbG9naWMgZm9yIEFyYml0cmFyeSBqdWRnZW1lbnQpLAogICAgICAgICMgdGhlbiBpdHMgdmFsdWUgd2lsbCBiZSBzZXQgdG8gX0F0dHJEaWN0IGFuZCBiZSBkZXNlcmlhbGl6ZWQgYXMgeyJzaGFwZSI6IHt9fSBpbnN0ZWFkIG9mIE5vbmUsCiAgICAgICAgIyB3aGljaCBpcyBpbnZhbGlkIGluIHNjaGVtYSB2YWxpZGF0aW9uLgogICAgICAgIHJldHVybiBzZWxmLmNvbXBvbmVudC5jb2RlIGlmIGhhc2F0dHIoc2VsZi5jb21wb25lbnQsICJjb2RlIikgZWxzZSBOb25lCgogICAgQGNvZGUuc2V0dGVyCiAgICBkZWYgY29kZShzZWxmLCB2YWx1ZTogc3RyKSAtPiBOb25lOgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgIHNlbGYuY29tcG9uZW50LmNvZGUgPSB2YWx1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1zZyA9ICJDYW4ndCBzZXQgY29kZSBwcm9wZXJ0eSBmb3IgYSByZWdpc3RlcmVkIGNvbXBvbmVudCB7fSIKICAgICAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkV4Y2VwdGlvbigKICAgICAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdChzZWxmLmNvbXBvbmVudCksCiAgICAgICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLAogICAgICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkNPTU1BTkRfSk9CLAogICAgICAgICAgICAgICAgZXJyb3JfY2F0ZWdvcnk9RXJyb3JDYXRlZ29yeS5VU0VSX0VSUk9SLAogICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICkKCiAgICBkZWYgc2V0X3Jlc291cmNlcygKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgaW5zdGFuY2VfdHlwZTogT3B0aW9uYWxbVW5pb25bc3RyLCBMaXN0W3N0cl1dXSA9IE5vbmUsCiAgICAgICAgaW5zdGFuY2VfY291bnQ6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgICAgIGxvY2F0aW9uczogT3B0aW9uYWxbTGlzdFtzdHJdXSA9IE5vbmUsCiAgICAgICAgcHJvcGVydGllczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgIGRvY2tlcl9hcmdzOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBzaG1fc2l6ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsICAjIHB5bGludDogZGlzYWJsZT11bnVzZWQtYXJndW1lbnQKICAgICk6CiAgICAgICAgIiIiU2V0IHJlc291cmNlcyBmb3IgQ29tbWFuZC4iIiIKICAgICAgICBpZiBzZWxmLnJlc291cmNlcyBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnJlc291cmNlcyA9IEpvYlJlc291cmNlQ29uZmlndXJhdGlvbigpCgogICAgICAgIGlmIGxvY2F0aW9ucyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMubG9jYXRpb25zID0gbG9jYXRpb25zCiAgICAgICAgaWYgaW5zdGFuY2VfdHlwZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMuaW5zdGFuY2VfdHlwZSA9IGluc3RhbmNlX3R5cGUKICAgICAgICBpZiBpbnN0YW5jZV9jb3VudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMuaW5zdGFuY2VfY291bnQgPSBpbnN0YW5jZV9jb3VudAogICAgICAgIGlmIHByb3BlcnRpZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzCiAgICAgICAgaWYgZG9ja2VyX2FyZ3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzLmRvY2tlcl9hcmdzID0gZG9ja2VyX2FyZ3MKICAgICAgICBpZiBzaG1fc2l6ZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMuc2htX3NpemUgPSBzaG1fc2l6ZQoKICAgICAgICAjIFNhdmUgdGhlIHJlc291cmNlcyB0byBpbnRlcm5hbCBjb21wb25lbnQgYXMgd2VsbCwgb3RoZXJ3aXNlIGNhbGxpbmcgc3dlZXAoKSB3aWxsIGxvb3NlIHRoZSBzZXR0aW5ncwogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgIHNlbGYuY29tcG9uZW50LnJlc291cmNlcyA9IHNlbGYucmVzb3VyY2VzCgogICAgZGVmIHNldF9saW1pdHMoc2VsZiwgKiwgdGltZW91dDogaW50LCAqKmt3YXJncyk6ICAjIHB5bGludDogZGlzYWJsZT11bnVzZWQtYXJndW1lbnQKICAgICAgICAiIiJTZXQgbGltaXRzIGZvciBDb21tYW5kLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5saW1pdHMsIENvbW1hbmRKb2JMaW1pdHMpOgogICAgICAgICAgICBzZWxmLmxpbWl0cy50aW1lb3V0ID0gdGltZW91dAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYubGltaXRzID0gQ29tbWFuZEpvYkxpbWl0cyh0aW1lb3V0PXRpbWVvdXQpCgogICAgZGVmIHNldF9xdWV1ZV9zZXR0aW5ncyhzZWxmLCAqLCBqb2JfdGllcjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsIHByaW9yaXR5OiBPcHRpb25hbFtzdHJdID0gTm9uZSk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLnF1ZXVlX3NldHRpbmdzLCBRdWV1ZVNldHRpbmdzKToKICAgICAgICAgICAgc2VsZi5xdWV1ZV9zZXR0aW5ncy5qb2JfdGllciA9IGpvYl90aWVyCiAgICAgICAgICAgIHNlbGYucXVldWVfc2V0dGluZ3MucHJpb3JpdHkgPSBwcmlvcml0eQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYucXVldWVfc2V0dGluZ3MgPSBRdWV1ZVNldHRpbmdzKGpvYl90aWVyPWpvYl90aWVyLCBwcmlvcml0eT1wcmlvcml0eSkKCiAgICBkZWYgc3dlZXAoCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIHByaW1hcnlfbWV0cmljOiBzdHIsCiAgICAgICAgZ29hbDogc3RyLAogICAgICAgIHNhbXBsaW5nX2FsZ29yaXRobTogc3RyID0gInJhbmRvbSIsCiAgICAgICAgY29tcHV0ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbWF4X2NvbmN1cnJlbnRfdHJpYWxzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBtYXhfdG90YWxfdHJpYWxzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICB0aW1lb3V0OiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICB0cmlhbF90aW1lb3V0OiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBlYXJseV90ZXJtaW5hdGlvbl9wb2xpY3k6IE9wdGlvbmFsW1VuaW9uW0Vhcmx5VGVybWluYXRpb25Qb2xpY3ksIHN0cl1dID0gTm9uZSwKICAgICAgICBzZWFyY2hfc3BhY2U6IE9wdGlvbmFsWwogICAgICAgICAgICBEaWN0WwogICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgVW5pb25bCiAgICAgICAgICAgICAgICAgICAgQ2hvaWNlLCBMb2dOb3JtYWwsIExvZ1VuaWZvcm0sIE5vcm1hbCwgUUxvZ05vcm1hbCwgUUxvZ1VuaWZvcm0sIFFOb3JtYWwsIFFVbmlmb3JtLCBSYW5kaW50LCBVbmlmb3JtCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICBdCiAgICAgICAgXSA9IE5vbmUsCiAgICAgICAgaWRlbnRpdHk6IE9wdGlvbmFsWwogICAgICAgICAgICBVbmlvbltNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLCBBbWxUb2tlbkNvbmZpZ3VyYXRpb24sIFVzZXJJZGVudGl0eUNvbmZpZ3VyYXRpb25dCiAgICAgICAgXSA9IE5vbmUsCiAgICAgICAgcXVldWVfc2V0dGluZ3M6IE9wdGlvbmFsW1F1ZXVlU2V0dGluZ3NdID0gTm9uZSwKICAgICkgLT4gU3dlZXA6CiAgICAgICAgIiIiVHVybiB0aGUgY29tbWFuZCBpbnRvIGEgc3dlZXAgbm9kZSB3aXRoIGV4dHJhIHN3ZWVwIHJ1biBzZXR0aW5nLiBUaGUgY29tbWFuZCBjb21wb25lbnQgaW4gY3VycmVudCBDb21tYW5kCiAgICAgICAgbm9kZSB3aWxsIGJlIHVzZWQgYXMgaXRzIHRyaWFsIGNvbXBvbmVudC4gQSBjb21tYW5kIG5vZGUgY2FuIHN3ZWVwIGZvciBtdWx0aXBsZSB0aW1lcywgYW5kIHRoZSBnZW5lcmF0ZWQgc3dlZXAKICAgICAgICBub2RlIHdpbGwgc2hhcmUgdGhlIHNhbWUgdHJpYWwgY29tcG9uZW50LgoKICAgICAgICA6cGFyYW0gcHJpbWFyeV9tZXRyaWM6IHByaW1hcnkgbWV0cmljIG9mIHRoZSBzd2VlcCBvYmplY3RpdmUsIEFVQyBlLmcuIFRoZSBtZXRyaWMgbXVzdCBiZSBsb2dnZWQgaW4gcnVubmluZwogICAgICAgICAgICB0aGUgdHJpYWwgY29tcG9uZW50LgogICAgICAgIDp0eXBlIHByaW1hcnlfbWV0cmljOiBzdHIKICAgICAgICA6cGFyYW0gZ29hbDogZ29hbCBvZiB0aGUgc3dlZXAgb2JqZWN0aXZlLgogICAgICAgIDp0eXBlIGdvYWw6IHN0ciwgdmFsaWQgdmFsdWVzOiBtYXhpbWl6ZSBvciBtaW5pbWl6ZQogICAgICAgIDpwYXJhbSBzYW1wbGluZ19hbGdvcml0aG06IHNhbXBsaW5nIGFsZ29yaXRobSB0byBzYW1wbGUgaW5zaWRlIHNlYXJjaCBzcGFjZS4gRGVmYXVsdHMgdG8gInJhbmRvbSIKICAgICAgICA6dHlwZSBzYW1wbGluZ19hbGdvcml0aG06IHN0ciwgdmFsaWQgdmFsdWVzOiByYW5kb20sIGdyaWQgb3IgYmF5ZXNpYW4KICAgICAgICA6cGFyYW0gY29tcHV0ZTogdGFyZ2V0IGNvbXB1dGUgdG8gcnVuIHRoZSBub2RlLiBJZiBub3Qgc3BlY2lmaWVkLCBjb21wdXRlIG9mIGN1cnJlbnQgbm9kZSB3aWxsIGJlIHVzZWQuCiAgICAgICAgOnR5cGUgY29tcHV0ZTogc3RyCiAgICAgICAgOnBhcmFtIG1heF90b3RhbF90cmlhbHM6IG1heGltdW0gdHJpYWxzIHRvIHJ1biwgd2lsbCBvdmVyd3JpdGUgdmFsdWUgaW4gbGltaXRzCiAgICAgICAgOnR5cGUgbWF4X3RvdGFsX3RyaWFsczogaW50CiAgICAgICAgOnBhcmFtIG1heF9jb25jdXJyZW50X3RyaWFsczogU3dlZXAgSm9iIG1heCBjb25jdXJyZW50IHRyaWFscy4KICAgICAgICA6dHlwZSBtYXhfY29uY3VycmVudF90cmlhbHM6IGludAogICAgICAgIDpwYXJhbSBtYXhfdG90YWxfdHJpYWxzOiBTd2VlcCBKb2IgbWF4IHRvdGFsIHRyaWFscy4KICAgICAgICA6dHlwZSBtYXhfdG90YWxfdHJpYWxzOiBpbnQKICAgICAgICA6cGFyYW0gdGltZW91dDogVGhlIG1heCBydW4gZHVyYXRpb24gaW4gc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhlIGpvYiB3aWxsIGJlIGNhbmNlbGxlZC4KICAgICAgICA6dHlwZSB0aW1lb3V0OiBpbnQKICAgICAgICA6cGFyYW0gdHJpYWxfdGltZW91dDogU3dlZXAgSm9iIFRyaWFsIHRpbWVvdXQgdmFsdWUgaW4gc2Vjb25kcy4KICAgICAgICA6dHlwZSB0cmlhbF90aW1lb3V0OiBpbnQKICAgICAgICA6cGFyYW0gZWFybHlfdGVybWluYXRpb25fcG9saWN5OiBlYXJseSB0ZXJtaW5hdGlvbiBwb2xpY3kgb2YgdGhlIHN3ZWVwIG5vZGU6CiAgICAgICAgOnR5cGUgZWFybHlfdGVybWluYXRpb25fcG9saWN5OiBVbmlvbltFYXJseVRlcm1pbmF0aW9uUG9saWN5LCBzdHJdLCB2YWxpZCB2YWx1ZXM6IGJhbmRpdCwgbWVkaWFuX3N0b3BwaW5nCiAgICAgICAgICAgIG9yIHRydW5jYXRpb25fc2VsZWN0aW9uLgogICAgICAgIDpwYXJhbSBpZGVudGl0eTogSWRlbnRpdHkgdGhhdCB0cmFpbmluZyBqb2Igd2lsbCB1c2Ugd2hpbGUgcnVubmluZyBvbiBjb21wdXRlLgogICAgICAgIDp0eXBlIGlkZW50aXR5OiBVbmlvblsKICAgICAgICAgICAgTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwKICAgICAgICAgICAgQW1sVG9rZW5Db25maWd1cmF0aW9uLAogICAgICAgICAgICBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXQogICAgICAgIDpwYXJhbSBxdWV1ZV9zZXR0aW5nczogUXVldWUgc2V0dGluZ3MgZm9yIHRoZSBqb2IuCiAgICAgICAgOnR5cGUgcXVldWVfc2V0dGluZ3M6IFF1ZXVlU2V0dGluZ3MKICAgICAgICA6cmV0dXJuOiBBIHN3ZWVwIG5vZGUgd2l0aCBjb21wb25lbnQgZnJvbSBjdXJyZW50IENvbW1hbmQgbm9kZSBhcyBpdHMgdHJpYWwgY29tcG9uZW50LgogICAgICAgIDpydHlwZTogU3dlZXAKICAgICAgICAiIiIKICAgICAgICBzZWxmLl9zd2VwdCA9IFRydWUKICAgICAgICAjIGlucHV0cyAmIG91dHB1dHMgYXJlIGFscmVhZHkgYnVpbHQgaW4gc291cmNlIENvbW1hbmQgb2JqCiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9YWJzdHJhY3QtY2xhc3MtaW5zdGFudGlhdGVkCiAgICAgICAgaW5wdXRzLCBpbnB1dHNfc2VhcmNoX3NwYWNlID0gU3dlZXAuX2dldF9vcmlnaW5faW5wdXRzX2FuZF9zZWFyY2hfc3BhY2Uoc2VsZi5pbnB1dHMpCiAgICAgICAgaWYgc2VhcmNoX3NwYWNlOgogICAgICAgICAgICBpbnB1dHNfc2VhcmNoX3NwYWNlLnVwZGF0ZShzZWFyY2hfc3BhY2UpCgogICAgICAgIHN3ZWVwX25vZGUgPSBTd2VlcCgKICAgICAgICAgICAgdHJpYWw9Y29weS5kZWVwY29weSgKICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50CiAgICAgICAgICAgICksICAjIE1ha2UgYSBjb3B5IG9mIHRoZSB1bmRlcm5lYXRoIENvbXBvbmVudCBzbyB0aGF0IHRoZSBvcmlnaW5hbCBub2RlIGNhbiBzdGlsbCBiZSB1c2VkLgogICAgICAgICAgICBjb21wdXRlPXNlbGYuY29tcHV0ZSBpZiBjb21wdXRlIGlzIE5vbmUgZWxzZSBjb21wdXRlLAogICAgICAgICAgICBvYmplY3RpdmU9T2JqZWN0aXZlKGdvYWw9Z29hbCwgcHJpbWFyeV9tZXRyaWM9cHJpbWFyeV9tZXRyaWMpLAogICAgICAgICAgICBzYW1wbGluZ19hbGdvcml0aG09c2FtcGxpbmdfYWxnb3JpdGhtLAogICAgICAgICAgICBpbnB1dHM9aW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPXNlbGYuX2dldF9vcmlnaW5fam9iX291dHB1dHMoKSwKICAgICAgICAgICAgc2VhcmNoX3NwYWNlPWlucHV0c19zZWFyY2hfc3BhY2UsCiAgICAgICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uPWVhcmx5X3Rlcm1pbmF0aW9uX3BvbGljeSwKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXNlbGYuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgdGFncz1zZWxmLnRhZ3MsCiAgICAgICAgICAgIHByb3BlcnRpZXM9c2VsZi5wcm9wZXJ0aWVzLAogICAgICAgICAgICBleHBlcmltZW50X25hbWU9c2VsZi5leHBlcmltZW50X25hbWUsCiAgICAgICAgICAgIGlkZW50aXR5PXNlbGYuaWRlbnRpdHkgaWYgbm90IGlkZW50aXR5IGVsc2UgaWRlbnRpdHksCiAgICAgICAgICAgIF9mcm9tX2NvbXBvbmVudF9mdW5jPVRydWUsCiAgICAgICAgICAgIHF1ZXVlX3NldHRpbmdzPXNlbGYucXVldWVfc2V0dGluZ3MgaWYgcXVldWVfc2V0dGluZ3MgaXMgTm9uZSBlbHNlIHF1ZXVlX3NldHRpbmdzLAogICAgICAgICkKICAgICAgICBzd2VlcF9ub2RlLnNldF9saW1pdHMoCiAgICAgICAgICAgIG1heF90b3RhbF90cmlhbHM9bWF4X3RvdGFsX3RyaWFscywKICAgICAgICAgICAgbWF4X2NvbmN1cnJlbnRfdHJpYWxzPW1heF9jb25jdXJyZW50X3RyaWFscywKICAgICAgICAgICAgdGltZW91dD10aW1lb3V0LAogICAgICAgICAgICB0cmlhbF90aW1lb3V0PXRyaWFsX3RpbWVvdXQsCiAgICAgICAgKQogICAgICAgIHJldHVybiBzd2VlcF9ub2RlCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJjb21wb25lbnQiOiAoc3RyLCBDb21tYW5kQ29tcG9uZW50KSwKICAgICAgICAgICAgImVudmlyb25tZW50IjogKHN0ciwgRW52aXJvbm1lbnQpLAogICAgICAgICAgICAiZW52aXJvbm1lbnRfdmFyaWFibGVzIjogZGljdCwKICAgICAgICAgICAgInJlc291cmNlcyI6IChkaWN0LCBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24pLAogICAgICAgICAgICAibGltaXRzIjogKGRpY3QsIENvbW1hbmRKb2JMaW1pdHMpLAogICAgICAgICAgICAiY29kZSI6IChzdHIsIG9zLlBhdGhMaWtlKSwKICAgICAgICB9CgogICAgZGVmIF90b19qb2Ioc2VsZikgLT4gQ29tbWFuZEpvYjoKICAgICAgICByZXR1cm4gQ29tbWFuZEpvYigKICAgICAgICAgICAgaWQ9c2VsZi5pZCwKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249c2VsZi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgdGFncz1zZWxmLnRhZ3MsCiAgICAgICAgICAgIHByb3BlcnRpZXM9c2VsZi5wcm9wZXJ0aWVzLAogICAgICAgICAgICBjb21tYW5kPXNlbGYuY29tcG9uZW50LmNvbW1hbmQsCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1zZWxmLmV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgY29kZT1zZWxmLmNvbXBvbmVudC5jb2RlLAogICAgICAgICAgICBjb21wdXRlPXNlbGYuY29tcHV0ZSwKICAgICAgICAgICAgc3RhdHVzPXNlbGYuc3RhdHVzLAogICAgICAgICAgICBlbnZpcm9ubWVudD1zZWxmLmVudmlyb25tZW50LAogICAgICAgICAgICBkaXN0cmlidXRpb249c2VsZi5kaXN0cmlidXRpb24sCiAgICAgICAgICAgIGlkZW50aXR5PXNlbGYuaWRlbnRpdHksCiAgICAgICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlcz1zZWxmLmVudmlyb25tZW50X3ZhcmlhYmxlcywKICAgICAgICAgICAgcmVzb3VyY2VzPXNlbGYucmVzb3VyY2VzLAogICAgICAgICAgICBsaW1pdHM9c2VsZi5saW1pdHMsCiAgICAgICAgICAgIGlucHV0cz1zZWxmLl9qb2JfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPXNlbGYuX2pvYl9vdXRwdXRzLAogICAgICAgICAgICBzZXJ2aWNlcz1zZWxmLnNlcnZpY2VzLAogICAgICAgICAgICBjcmVhdGlvbl9jb250ZXh0PXNlbGYuY3JlYXRpb25fY29udGV4dCwKICAgICAgICAgICAgcGFyYW1ldGVycz1zZWxmLnBhcmFtZXRlcnMsCiAgICAgICAgICAgIHF1ZXVlX3NldHRpbmdzPXNlbGYucXVldWVfc2V0dGluZ3MsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9waWNrZWRfZmllbGRzX2Zyb21fZGljdF90b19yZXN0X29iamVjdChjbHMpIC0\u002BIExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gWyJyZXNvdXJjZXMiLCAiZGlzdHJpYnV0aW9uIiwgImxpbWl0cyIsICJlbnZpcm9ubWVudF92YXJpYWJsZXMiXQoKICAgIGRlZiBfdG9fcmVzdF9vYmplY3Qoc2VsZiwgKiprd2FyZ3MpIC0\u002BIGRpY3Q6CiAgICAgICAgcmVzdF9vYmogPSBzdXBlcigpLl90b19yZXN0X29iamVjdCgqKmt3YXJncykKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiB7CiAgICAgICAgICAgICJjb21wb25lbnRJZCI6IHNlbGYuX2dldF9jb21wb25lbnRfaWQoKSwKICAgICAgICAgICAgImRpc3RyaWJ1dGlvbiI6IGdldF9yZXN0X2RpY3RfZm9yX25vZGVfYXR0cnMoc2VsZi5kaXN0cmlidXRpb24sIGNsZWFyX2VtcHR5X3ZhbHVlPVRydWUpLAogICAgICAgICAgICAibGltaXRzIjogZ2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycyhzZWxmLmxpbWl0cywgY2xlYXJfZW1wdHlfdmFsdWU9VHJ1ZSksCiAgICAgICAgICAgICJyZXNvdXJjZXMiOiBnZXRfcmVzdF9kaWN0X2Zvcl9ub2RlX2F0dHJzKHNlbGYucmVzb3VyY2VzLCBjbGVhcl9lbXB0eV92YWx1ZT1UcnVlKSwKICAgICAgICAgICAgInNlcnZpY2VzIjogZ2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycyhzZWxmLnNlcnZpY2VzKSwKICAgICAgICAgICAgImlkZW50aXR5Ijogc2VsZi5pZGVudGl0eS5fdG9fZGljdCgpIGlmIHNlbGYuaWRlbnRpdHkgZWxzZSBOb25lLAogICAgICAgICAgICAicXVldWVfc2V0dGluZ3MiOiBnZXRfcmVzdF9kaWN0X2Zvcl9ub2RlX2F0dHJzKHNlbGYucXVldWVfc2V0dGluZ3MsIGNsZWFyX2VtcHR5X3ZhbHVlPVRydWUpLAogICAgICAgIH0uaXRlbXMoKToKICAgICAgICAgICAgaWYgdmFsdWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZXN0X29ialtrZXldID0gdmFsdWUKICAgICAgICByZXR1cm4gY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdChyZXN0X29iaikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfbG9hZF9mcm9tX2RpY3QoY2xzLCBkYXRhOiBEaWN0LCBjb250ZXh0OiBEaWN0LCBhZGRpdGlvbmFsX21lc3NhZ2U6IHN0ciwgKiprd2FyZ3MpIC0\u002BICJDb21tYW5kIjoKICAgICAgICBmcm9tIC5jb21tYW5kX2Z1bmMgaW1wb3J0IGNvbW1hbmQKCiAgICAgICAgbG9hZGVkX2RhdGEgPSBsb2FkX2Zyb21fZGljdChDb21tYW5kSm9iU2NoZW1hLCBkYXRhLCBjb250ZXh0LCBhZGRpdGlvbmFsX21lc3NhZ2UsICoqa3dhcmdzKQoKICAgICAgICAjIHJlc291cmNlcyBhIGxpbWl0cyBwcm9wZXJ0aWVzIGFyZSBmbGF0dGVuIGluIGNvbW1hbmQoKSBmdW5jdGlvbiwgZXhhY3QgdGhlbSBhbmQgc2V0IHNlcGFyYXRlbHkKICAgICAgICByZXNvdXJjZXMgPSBsb2FkZWRfZGF0YS5wb3AoInJlc291cmNlcyIsIE5vbmUpCiAgICAgICAgbGltaXRzID0gbG9hZGVkX2RhdGEucG9wKCJsaW1pdHMiLCBOb25lKQoKICAgICAgICBjb21tYW5kX2pvYiA9IGNvbW1hbmQoYmFzZV9wYXRoPWNvbnRleHRbQkFTRV9QQVRIX0NPTlRFWFRfS0VZXSwgKipsb2FkZWRfZGF0YSkKCiAgICAgICAgY29tbWFuZF9qb2IucmVzb3VyY2VzID0gcmVzb3VyY2VzCiAgICAgICAgY29tbWFuZF9qb2IubGltaXRzID0gbGltaXRzCiAgICAgICAgcmV0dXJuIGNvbW1hbmRfam9iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2Zyb21fcmVzdF9vYmplY3RfdG9faW5pdF9wYXJhbXMoY2xzLCBvYmo6IGRpY3QpIC0\u002BIERpY3Q6CiAgICAgICAgb2JqID0gQmFzZU5vZGUuX2Zyb21fcmVzdF9vYmplY3RfdG9faW5pdF9wYXJhbXMob2JqKQoKICAgICAgICBpZiAicmVzb3VyY2VzIiBpbiBvYmogYW5kIG9ialsicmVzb3VyY2VzIl06CiAgICAgICAgICAgIHJlc291cmNlcyA9IFJlc3RKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24uZnJvbV9kaWN0KG9ialsicmVzb3VyY2VzIl0pCiAgICAgICAgICAgIG9ialsicmVzb3VyY2VzIl0gPSBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24uX2Zyb21fcmVzdF9vYmplY3QocmVzb3VyY2VzKQoKICAgICAgICAjIHNlcnZpY2VzLCBzd2VlcCB3b24ndCBoYXZlIHNlcnZpY2VzCiAgICAgICAgaWYgInNlcnZpY2VzIiBpbiBvYmogYW5kIG9ialsic2VydmljZXMiXToKICAgICAgICAgICAgIyBwaXBlbGluZSBub2RlIHJlc3Qgb2JqZWN0IGFyZSBkaWN0cyB3aGlsZSBfZnJvbV9yZXN0X2pvYl9zZXJ2aWNlcyBleHBlY3QgUmVzdEpvYlNlcnZpY2UKICAgICAgICAgICAgc2VydmljZXMgPSB7fQogICAgICAgICAgICBmb3Igc2VydmljZV9uYW1lLCBzZXJ2aWNlIGluIG9ialsic2VydmljZXMiXS5pdGVtcygpOgogICAgICAgICAgICAgICAgIyBpbiByZXN0IG9iamVjdCBvZiBhIHBpcGVsaW5lIGpvYiwgc2VydmljZSB3aWxsIGJlIHRyYW5zZmVycmVkIHRvIGEgZGljdCBhcwogICAgICAgICAgICAgICAgIyBpdCdzIGF0dHJpYnV0ZXMgb2YgYSBub2RlLCBidXQgSm9iU2VydmljZS5fZnJvbV9yZXN0X29iamVjdCBleHBlY3QgYQogICAgICAgICAgICAgICAgIyBSZXN0Sm9iU2VydmljZSwgc28gd2UgbmVlZCB0byBjb252ZXJ0IGl0IGJhY2suIEhlcmUgd2UgY29udmVydCB0aGUgZGljdCB0byBhCiAgICAgICAgICAgICAgICAjIGR1bW15IHJlc3Qgb2JqZWN0IHdoaWNoIG1heSB3b3JrIGFzIGEgUmVzdEpvYlNlcnZpY2UgaW5zdGVhZC4KICAgICAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VfbmFtZV0gPSBmcm9tX3Jlc3RfZGljdF90b19kdW1teV9yZXN0X29iamVjdChzZXJ2aWNlKQogICAgICAgICAgICBvYmpbInNlcnZpY2VzIl0gPSBKb2JTZXJ2aWNlQmFzZS5fZnJvbV9yZXN0X2pvYl9zZXJ2aWNlcyhzZXJ2aWNlcykKCiAgICAgICAgIyBoYW5kbGUgbGltaXRzCiAgICAgICAgaWYgImxpbWl0cyIgaW4gb2JqIGFuZCBvYmpbImxpbWl0cyJdOgogICAgICAgICAgICByZXN0X2xpbWl0cyA9IFJlc3RDb21tYW5kSm9iTGltaXRzLmZyb21fZGljdChvYmpbImxpbWl0cyJdKQogICAgICAgICAgICBvYmpbImxpbWl0cyJdID0gQ29tbWFuZEpvYkxpbWl0cygpLl9mcm9tX3Jlc3Rfb2JqZWN0KHJlc3RfbGltaXRzKQoKICAgICAgICBpZiAiaWRlbnRpdHkiIGluIG9iaiBhbmQgb2JqWyJpZGVudGl0eSJdOgogICAgICAgICAgICBvYmpbImlkZW50aXR5Il0gPSBfQmFzZUpvYklkZW50aXR5Q29uZmlndXJhdGlvbi5fbG9hZChvYmpbImlkZW50aXR5Il0pCgogICAgICAgIGlmICJxdWV1ZV9zZXR0aW5ncyIgaW4gb2JqIGFuZCBvYmpbInF1ZXVlX3NldHRpbmdzIl06CiAgICAgICAgICAgIHF1ZXVlX3NldHRpbmdzID0gUmVzdFF1ZXVlU2V0dGluZ3MuZnJvbV9kaWN0KG9ialsicXVldWVfc2V0dGluZ3MiXSkKICAgICAgICAgICAgb2JqWyJxdWV1ZV9zZXR0aW5ncyJdID0gUXVldWVTZXR0aW5ncy5fZnJvbV9yZXN0X29iamVjdChxdWV1ZV9zZXR0aW5ncykKCiAgICAgICAgcmV0dXJuIG9iagoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sb2FkX2Zyb21fcmVzdF9qb2IoY2xzLCBvYmo6IEpvYkJhc2UpIC0\u002BICJDb21tYW5kIjoKICAgICAgICBmcm9tIC5jb21tYW5kX2Z1bmMgaW1wb3J0IGNvbW1hbmQKCiAgICAgICAgcmVzdF9jb21tYW5kX2pvYjogUmVzdENvbW1hbmRKb2IgPSBvYmoucHJvcGVydGllcwoKICAgICAgICBjb21tYW5kX2pvYiA9IGNvbW1hbmQoCiAgICAgICAgICAgIG5hbWU9b2JqLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1yZXN0X2NvbW1hbmRfam9iLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249cmVzdF9jb21tYW5kX2pvYi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgdGFncz1yZXN0X2NvbW1hbmRfam9iLnRhZ3MsCiAgICAgICAgICAgIHByb3BlcnRpZXM9cmVzdF9jb21tYW5kX2pvYi5wcm9wZXJ0aWVzLAogICAgICAgICAgICBjb21tYW5kPXJlc3RfY29tbWFuZF9qb2IuY29tbWFuZCwKICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPXJlc3RfY29tbWFuZF9qb2IuZXhwZXJpbWVudF9uYW1lLAogICAgICAgICAgICBzZXJ2aWNlcz1Kb2JTZXJ2aWNlQmFzZS5fZnJvbV9yZXN0X2pvYl9zZXJ2aWNlcyhyZXN0X2NvbW1hbmRfam9iLnNlcnZpY2VzKSwKICAgICAgICAgICAgc3RhdHVzPXJlc3RfY29tbWFuZF9qb2Iuc3RhdHVzLAogICAgICAgICAgICBjcmVhdGlvbl9jb250ZXh0PVN5c3RlbURhdGEuX2Zyb21fcmVzdF9vYmplY3Qob2JqLnN5c3RlbV9kYXRhKSBpZiBvYmouc3lzdGVtX2RhdGEgZWxzZSBOb25lLAogICAgICAgICAgICBjb2RlPXJlc3RfY29tbWFuZF9qb2IuY29kZV9pZCwKICAgICAgICAgICAgY29tcHV0ZT1yZXN0X2NvbW1hbmRfam9iLmNvbXB1dGVfaWQsCiAgICAgICAgICAgIGVudmlyb25tZW50PXJlc3RfY29tbWFuZF9qb2IuZW52aXJvbm1lbnRfaWQsCiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbj1EaXN0cmlidXRpb25Db25maWd1cmF0aW9uLl9mcm9tX3Jlc3Rfb2JqZWN0KHJlc3RfY29tbWFuZF9qb2IuZGlzdHJpYnV0aW9uKSwKICAgICAgICAgICAgcGFyYW1ldGVycz1yZXN0X2NvbW1hbmRfam9iLnBhcmFtZXRlcnMsCiAgICAgICAgICAgIGlkZW50aXR5PV9CYXNlSm9iSWRlbnRpdHlDb25maWd1cmF0aW9uLl9mcm9tX3Jlc3Rfb2JqZWN0KHJlc3RfY29tbWFuZF9qb2IuaWRlbnRpdHkpCiAgICAgICAgICAgIGlmIHJlc3RfY29tbWFuZF9qb2IuaWRlbnRpdHkKICAgICAgICAgICAgZWxzZSBOb25lLAogICAgICAgICAgICBlbnZpcm9ubWVudF92YXJpYWJsZXM9cmVzdF9jb21tYW5kX2pvYi5lbnZpcm9ubWVudF92YXJpYWJsZXMsCiAgICAgICAgICAgIGlucHV0cz1mcm9tX3Jlc3RfaW5wdXRzX3RvX2RhdGFzZXRfbGl0ZXJhbChyZXN0X2NvbW1hbmRfam9iLmlucHV0cyksCiAgICAgICAgICAgIG91dHB1dHM9ZnJvbV9yZXN0X2RhdGFfb3V0cHV0cyhyZXN0X2NvbW1hbmRfam9iLm91dHB1dHMpLAogICAgICAgICkKICAgICAgICBjb21tYW5kX2pvYi5faWQgPSBvYmouaWQKICAgICAgICBjb21tYW5kX2pvYi5yZXNvdXJjZXMgPSBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24uX2Zyb21fcmVzdF9vYmplY3QocmVzdF9jb21tYW5kX2pvYi5yZXNvdXJjZXMpCiAgICAgICAgY29tbWFuZF9qb2IubGltaXRzID0gQ29tbWFuZEpvYkxpbWl0cy5fZnJvbV9yZXN0X29iamVjdChyZXN0X2NvbW1hbmRfam9iLmxpbWl0cykKICAgICAgICBjb21tYW5kX2pvYi5xdWV1ZV9zZXR0aW5ncyA9IFF1ZXVlU2V0dGluZ3MuX2Zyb21fcmVzdF9vYmplY3QocmVzdF9jb21tYW5kX2pvYi5xdWV1ZV9zZXR0aW5ncykKICAgICAgICBjb21tYW5kX2pvYi5jb21wb25lbnQuX3NvdXJjZSA9ICgKICAgICAgICAgICAgQ29tcG9uZW50U291cmNlLlJFTU9URV9XT1JLU1BBQ0VfSk9CCiAgICAgICAgKSAgIyBUaGlzIGlzIHVzZWQgYnkgcGlwZWxpbmUgam9iIHRlbGVtZXRyaWVzLgoKICAgICAgICAjIEhhbmRsZSBzcGVjaWFsIGNhc2Ugb2YgbG9jYWwgam9iCiAgICAgICAgaWYgKAogICAgICAgICAgICBjb21tYW5kX2pvYi5yZXNvdXJjZXMgaXMgbm90IE5vbmUKICAgICAgICAgICAgYW5kIGNvbW1hbmRfam9iLnJlc291cmNlcy5wcm9wZXJ0aWVzIGlzIG5vdCBOb25lCiAgICAgICAgICAgIGFuZCBjb21tYW5kX2pvYi5yZXNvdXJjZXMucHJvcGVydGllcy5nZXQoTE9DQUxfQ09NUFVURV9QUk9QRVJUWSwgTm9uZSkKICAgICAgICApOgogICAgICAgICAgICBjb21tYW5kX2pvYi5jb21wdXRlID0gTE9DQUxfQ09NUFVURV9UQVJHRVQKICAgICAgICAgICAgY29tbWFuZF9qb2IucmVzb3VyY2VzLnByb3BlcnRpZXMucG9wKExPQ0FMX0NPTVBVVEVfUFJPUEVSVFkpCiAgICAgICAgcmV0dXJuIGNvbW1hbmRfam9iCgogICAgZGVmIF9idWlsZF9pbnB1dHMoc2VsZik6CiAgICAgICAgaW5wdXRzID0gc3VwZXIoQ29tbWFuZCwgc2VsZikuX2J1aWxkX2lucHV0cygpCiAgICAgICAgYnVpbHRfaW5wdXRzID0ge30KICAgICAgICAjIFZhbGlkYXRlIGFuZCByZW1vdmUgbm9uLXNwZWNpZmllZCBpbnB1dHMKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBpbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgaWYgdmFsdWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBidWlsdF9pbnB1dHNba2V5XSA9IHZhbHVlCgogICAgICAgIHJldHVybiBidWlsdF9pbnB1dHMKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX3NjaGVtYV9mb3JfdmFsaWRhdGlvbihjbHMsIGNvbnRleHQpIC0\u002BIFVuaW9uW1BhdGhBd2FyZVNjaGVtYSwgU2NoZW1hXToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUgaW1wb3J0IENvbW1hbmRTY2hlbWEKCiAgICAgICAgcmV0dXJuIENvbW1hbmRTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpIC0\u002BICJDb21tYW5kIjoKICAgICAgICAiIiJDYWxsIENvbW1hbmQgYXMgYSBmdW5jdGlvbiB3aWxsIHJldHVybiBhIG5ldyBpbnN0YW5jZSBlYWNoIHRpbWUuIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLl9jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgICMgY2FsbCB0aGlzIHRvIHZhbGlkYXRlIGlucHV0cwogICAgICAgICAgICBub2RlID0gc2VsZi5fY29tcG9uZW50KCphcmdzLCAqKmt3YXJncykKICAgICAgICAgICAgIyBtZXJnZSBpbnB1dHMKICAgICAgICAgICAgZm9yIG5hbWUsIG9yaWdpbmFsX2lucHV0IGluIHNlbGYuaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBuYW1lIG5vdCBpbiBrd2FyZ3Mua2V5cygpOgogICAgICAgICAgICAgICAgICAgICMgdXNlIHNldGF0dHIgaGVyZSB0byBtYWtlIHN1cmUgb3duZXIgb2YgaW5wdXQgd29uJ3QgY2hhbmdlCiAgICAgICAgICAgICAgICAgICAgc2V0YXR0cihub2RlLmlucHV0cywgbmFtZSwgb3JpZ2luYWxfaW5wdXQuX2RhdGEpCiAgICAgICAgICAgICAgICAgICAgbm9kZS5fam9iX2lucHV0c1tuYW1lXSA9IG9yaWdpbmFsX2lucHV0Ll9kYXRhCiAgICAgICAgICAgICAgICAjIGdldCBvdXRwdXRzCiAgICAgICAgICAgIGZvciBuYW1lLCBvcmlnaW5hbF9vdXRwdXQgaW4gc2VsZi5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAjIHVzZSBzZXRhdHRyIGhlcmUgdG8gbWFrZSBzdXJlIG93bmVyIG9mIGlucHV0IHdvbid0IGNoYW5nZQogICAgICAgICAgICAgICAgc2V0YXR0cihub2RlLm91dHB1dHMsIG5hbWUsIG9yaWdpbmFsX291dHB1dC5fZGF0YSkKICAgICAgICAgICAgc2VsZi5fcmVmaW5lX29wdGlvbmFsX2lucHV0c193aXRoX25vX3ZhbHVlKG5vZGUsIGt3YXJncykKICAgICAgICAgICAgIyBzZXQgZGVmYXVsdCB2YWx1ZXM6IGNvbXB1dGUsIGVudmlyb25tZW50X3ZhcmlhYmxlcywgb3V0cHV0cwogICAgICAgICAgICBub2RlLl9uYW1lID0gc2VsZi5uYW1lCiAgICAgICAgICAgIG5vZGUuY29tcHV0ZSA9IHNlbGYuY29tcHV0ZQogICAgICAgICAgICBub2RlLnRhZ3MgPSBzZWxmLnRhZ3MKICAgICAgICAgICAgIyBQYXNzIHRocm91Z2ggdGhlIGRpc3BsYXkgbmFtZSBvbmx5IGlmIHRoZSBkaXNwbGF5IG5hbWUgaXMgbm90IHN5c3RlbSBnZW5lcmF0ZWQuCiAgICAgICAgICAgIG5vZGUuZGlzcGxheV9uYW1lID0gc2VsZi5kaXNwbGF5X25hbWUgaWYgc2VsZi5kaXNwbGF5X25hbWUgIT0gc2VsZi5uYW1lIGVsc2UgTm9uZQogICAgICAgICAgICBub2RlLmVudmlyb25tZW50ID0gY29weS5kZWVwY29weShzZWxmLmVudmlyb25tZW50KQogICAgICAgICAgICAjIGRlZXAgY29weSBmb3IgY29tcGxleCBvYmplY3QKICAgICAgICAgICAgbm9kZS5lbnZpcm9ubWVudF92YXJpYWJsZXMgPSBjb3B5LmRlZXBjb3B5KHNlbGYuZW52aXJvbm1lbnRfdmFyaWFibGVzKQogICAgICAgICAgICBub2RlLmxpbWl0cyA9IGNvcHkuZGVlcGNvcHkoc2VsZi5saW1pdHMpCiAgICAgICAgICAgIG5vZGUuZGlzdHJpYnV0aW9uID0gY29weS5kZWVwY29weShzZWxmLmRpc3RyaWJ1dGlvbikKICAgICAgICAgICAgbm9kZS5yZXNvdXJjZXMgPSBjb3B5LmRlZXBjb3B5KHNlbGYucmVzb3VyY2VzKQogICAgICAgICAgICBub2RlLnF1ZXVlX3NldHRpbmdzID0gY29weS5kZWVwY29weShzZWxmLnF1ZXVlX3NldHRpbmdzKQogICAgICAgICAgICBub2RlLnNlcnZpY2VzID0gY29weS5kZWVwY29weShzZWxmLnNlcnZpY2VzKQogICAgICAgICAgICBub2RlLmlkZW50aXR5ID0gY29weS5kZWVwY29weShzZWxmLmlkZW50aXR5KQogICAgICAgICAgICByZXR1cm4gbm9kZQogICAgICAgIG1zZyA9ICJDb21tYW5kIGNhbiBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbiBvbmx5IHdoZW4gcmVmZXJlbmNlZCBjb21wb25lbnQgaXMge30sIGN1cnJlbnRseSBnb3Qge30uIgogICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdCh0eXBlKENvbXBvbmVudCksIHNlbGYuX2NvbXBvbmVudCksCiAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2cuZm9ybWF0KHR5cGUoQ29tcG9uZW50KSwgInNlbGYuX2NvbXBvbmVudCIpLAogICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuQ09NTUFORF9KT0IsCiAgICAgICAgICAgIGVycm9yX3R5cGU9VmFsaWRhdGlvbkVycm9yVHlwZS5JTlZBTElEX1ZBTFVFLAogICAgICAgICkKCgpkZWYgX3Jlc29sdmVfam9iX3NlcnZpY2VzKAogICAgc2VydmljZXM6IGRpY3QsCikgLT4gRGljdFtzdHIsIFVuaW9uW0pvYlNlcnZpY2UsIEp1cHl0ZXJMYWJKb2JTZXJ2aWNlLCBTc2hKb2JTZXJ2aWNlLCBUZW5zb3JCb2FyZEpvYlNlcnZpY2UsIFZzQ29kZUpvYlNlcnZpY2VdXToKICAgICIiIlJlc29sdmUgbm9ybWFsIGRpY3QgdG8gZGljdFtzdHIsIEpvYlNlcnZpY2VdIiIiCiAgICBpZiBzZXJ2aWNlcyBpcyBOb25lOgogICAgICAgIHJldHVybiBOb25lCgogICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VydmljZXMsIGRpY3QpOgogICAgICAgIG1zZyA9IGYiU2VydmljZXMgbXVzdCBiZSBhIGRpY3QsIGdvdCB7dHlwZShzZXJ2aWNlcyl9IGluc3RlYWQuIgogICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgIG1lc3NhZ2U9bXNnLAogICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLAogICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuQ09NTUFORF9KT0IsCiAgICAgICAgICAgIGVycm9yX2NhdGVnb3J5PUVycm9yQ2F0ZWdvcnkuVVNFUl9FUlJPUiwKICAgICAgICApCgogICAgcmVzdWx0ID0ge30KICAgIGZvciBuYW1lLCBzZXJ2aWNlIGluIHNlcnZpY2VzLml0ZW1zKCk6CiAgICAgICAgaWYgaXNpbnN0YW5jZShzZXJ2aWNlLCBkaWN0KToKICAgICAgICAgICAgc2VydmljZSA9IGxvYWRfZnJvbV9kaWN0KEpvYlNlcnZpY2VTY2hlbWEsIHNlcnZpY2UsIGNvbnRleHQ9e0JBU0VfUEFUSF9DT05URVhUX0tFWTogIi4ifSkKICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKAogICAgICAgICAgICBzZXJ2aWNlLCAoSm9iU2VydmljZSwgSnVweXRlckxhYkpvYlNlcnZpY2UsIFNzaEpvYlNlcnZpY2UsIFRlbnNvckJvYXJkSm9iU2VydmljZSwgVnNDb2RlSm9iU2VydmljZSkKICAgICAgICApOgogICAgICAgICAgICBtc2cgPSBmIlNlcnZpY2UgdmFsdWUgZm9yIGtleSB7bmFtZSFyfSBtdXN0IGJlIGEgZGljdCBvciBKb2JTZXJ2aWNlIG9iamVjdCwgZ290IHt0eXBlKHNlcnZpY2UpfSBpbnN0ZWFkLiIKICAgICAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkV4Y2VwdGlvbigKICAgICAgICAgICAgICAgIG1lc3NhZ2U9bXNnLAogICAgICAgICAgICAgICAgbm9fcGVyc29uYWxfZGF0YV9tZXNzYWdlPW1zZywKICAgICAgICAgICAgICAgIHRhcmdldD1FcnJvclRhcmdldC5DT01NQU5EX0pPQiwKICAgICAgICAgICAgICAgIGVycm9yX2NhdGVnb3J5PUVycm9yQ2F0ZWdvcnkuVVNFUl9FUlJPUiwKICAgICAgICAgICAgKQogICAgICAgIHJlc3VsdFtuYW1lXSA9IHNlcnZpY2UKICAgIHJldHVybiByZXN1bHQK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "5\u002B7s2iTZC74eLxWBBgMVWQ==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C1E19D2\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "eAeK5vWrh9I=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/condition_node.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "5670",
        "Content-MD5": "RSFZAcYPwCxVki1i0yMzZg==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBMaXN0Cgpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEgaW1wb3J0IFBhdGhBd2FyZVNjaGVtYQpmcm9tIGF6dXJlLmFpLm1sLl91dGlscy51dGlscyBpbXBvcnQgaXNfZGF0YV9iaW5kaW5nX2V4cHJlc3Npb24KZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29udHJvbEZsb3dUeXBlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2J1aWxkZXJzIGltcG9ydCBCYXNlTm9kZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9idWlsZGVycy5jb250cm9sX2Zsb3dfbm9kZSBpbXBvcnQgQ29udHJvbEZsb3dOb2RlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5hdXRvbWwuYXV0b21sX2pvYiBpbXBvcnQgQXV0b01MSm9iCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5waXBlbGluZS5faW8gaW1wb3J0IElucHV0T3V0cHV0QmFzZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl92YWxpZGF0aW9uIGltcG9ydCBNdXRhYmxlVmFsaWRhdGlvblJlc3VsdAoKCmNsYXNzIENvbmRpdGlvbk5vZGUoQ29udHJvbEZsb3dOb2RlKToKICAgICIiIkNvbmRpdGlvbmFsIG5vZGUgaW4gcGlwZWxpbmUuCgogICAgUGxlYXNlIGRvIG5vdCBkaXJlY3RseSB1c2UgdGhpcyBjbGFzcy4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjb25kaXRpb24sICosIHRydWVfYmxvY2s9Tm9uZSwgZmFsc2VfYmxvY2s9Tm9uZSwgKiprd2FyZ3MpOiAgIyBweWxpbnQ6IGRpc2FibGU9dW51c2VkLWFyZ3VtZW50CiAgICAgICAga3dhcmdzLnBvcCgidHlwZSIsIE5vbmUpCiAgICAgICAgc3VwZXIoQ29uZGl0aW9uTm9kZSwgc2VsZikuX19pbml0X18odHlwZT1Db250cm9sRmxvd1R5cGUuSUZfRUxTRSwgKiprd2FyZ3MpCiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kaXRpb24KICAgICAgICBpZiB0cnVlX2Jsb2NrIGFuZCBub3QgaXNpbnN0YW5jZSh0cnVlX2Jsb2NrLCBsaXN0KToKICAgICAgICAgICAgdHJ1ZV9ibG9jayA9IFt0cnVlX2Jsb2NrXQogICAgICAgIHNlbGYuX3RydWVfYmxvY2sgPSB0cnVlX2Jsb2NrCiAgICAgICAgaWYgZmFsc2VfYmxvY2sgYW5kIG5vdCBpc2luc3RhbmNlKGZhbHNlX2Jsb2NrLCBsaXN0KToKICAgICAgICAgICAgZmFsc2VfYmxvY2sgPSBbZmFsc2VfYmxvY2tdCiAgICAgICAgc2VsZi5fZmFsc2VfYmxvY2sgPSBmYWxzZV9ibG9jawoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jcmVhdGVfc2NoZW1hX2Zvcl92YWxpZGF0aW9uKGNscywgY29udGV4dCkgLT4gUGF0aEF3YXJlU2NoZW1hOiAgIyBweWxpbnQ6IGRpc2FibGU9dW51c2VkLWFyZ3VtZW50CiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5fc2NoZW1hLnBpcGVsaW5lLmNvbmRpdGlvbl9ub2RlIGltcG9ydCBDb25kaXRpb25Ob2RlU2NoZW1hCgogICAgICAgIHJldHVybiBDb25kaXRpb25Ob2RlU2NoZW1hKGNvbnRleHQ9Y29udGV4dCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdChjbHMsIG9iajogZGljdCkgLT4gIkNvbmRpdGlvbk5vZGUiOgogICAgICAgIHJldHVybiBjbHMoKipvYmopCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZV9pbnN0YW5jZV9mcm9tX3NjaGVtYV9kaWN0KGNscywgbG9hZGVkX2RhdGE6IERpY3QpIC0\u002BICJDb25kaXRpb25Ob2RlIjoKICAgICAgICAiIiJDcmVhdGUgYSBjb25kaXRpb24gbm9kZSBpbnN0YW5jZSBmcm9tIHNjaGVtYSBwYXJzZWQgZGljdC4iIiIKICAgICAgICByZXR1cm4gY2xzKCoqbG9hZGVkX2RhdGEpCgogICAgQHByb3BlcnR5CiAgICBkZWYgdHJ1ZV9ibG9jayhzZWxmKSAtPiBMaXN0W0Jhc2VOb2RlXToKICAgICAgICByZXR1cm4gc2VsZi5fdHJ1ZV9ibG9jawoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGZhbHNlX2Jsb2NrKHNlbGYpIC0\u002BIExpc3RbQmFzZU5vZGVdOgogICAgICAgIHJldHVybiBzZWxmLl9mYWxzZV9ibG9jawoKICAgIGRlZiBfdG9fZGljdChzZWxmKSAtPiBEaWN0OgogICAgICAgIHJldHVybiBzZWxmLl9kdW1wX2Zvcl92YWxpZGF0aW9uKCkKCiAgICBkZWYgX2N1c3RvbWl6ZWRfdmFsaWRhdGUoc2VsZikgLT4gTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQ6CiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbGlkYXRlX3BhcmFtcyhyYWlzZV9lcnJvcj1GYWxzZSkKCiAgICBkZWYgX3ZhbGlkYXRlX3BhcmFtcyhzZWxmLCByYWlzZV9lcnJvcj1UcnVlKSAtPiBNdXRhYmxlVmFsaWRhdGlvblJlc3VsdDoKICAgICAgICAjIHB5bGludCBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHNlbGYuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5jb25kaXRpb24sIChzdHIsIGJvb2wsIElucHV0T3V0cHV0QmFzZSkpOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImNvbmRpdGlvbiIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPWYiJ2NvbmRpdGlvbicgb2YgZHNsLmNvbmRpdGlvbiBub2RlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIgogICAgICAgICAgICAgICAgZiJ7c3RyfSwge2Jvb2x9IG9yIHtJbnB1dE91dHB1dEJhc2V9LCBnb3Qge3R5cGUoc2VsZi5jb25kaXRpb24pfS4iLAogICAgICAgICAgICApCgogICAgICAgICMgQ2hlY2sgaWYgb3V0cHV0IGlzIGEgY29udHJvbCBvdXRwdXQuCiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5jb25kaXRpb24sIElucHV0T3V0cHV0QmFzZSkgYW5kIHNlbGYuY29uZGl0aW9uLl9tZXRhIGlzIG5vdCBOb25lOgogICAgICAgICAgICAjIHB5bGludDogZGlzYWJsZT1wcm90ZWN0ZWQtYWNjZXNzCiAgICAgICAgICAgIG91dHB1dF9kZWZpbml0aW9uID0gc2VsZi5jb25kaXRpb24uX21ldGEKICAgICAgICAgICAgaWYgb3V0cHV0X2RlZmluaXRpb24gaXMgbm90IE5vbmUgYW5kIG5vdCBvdXRwdXRfZGVmaW5pdGlvbi5pc19jb250cm9sOgogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgICAgIHlhbWxfcGF0aD0iY29uZGl0aW9uIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiJ2NvbmRpdGlvbicgb2YgZHNsLmNvbmRpdGlvbiBub2RlIG11c3QgaGF2ZSAnaXNfY29udHJvbCcgZmllbGQgIgogICAgICAgICAgICAgICAgICAgIGYid2l0aCB2YWx1ZSAnVHJ1ZScsIGdvdCB7b3V0cHV0X2RlZmluaXRpb24uaXNfY29udHJvbH0iLAogICAgICAgICAgICAgICAgKQoKICAgICAgICAjIGNoZWNrIGlmIGNvbmRpdGlvbiBpcyB2YWxpZCBiaW5kaW5nCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNvbmRpdGlvbiwgc3RyKSBhbmQgbm90IGlzX2RhdGFfYmluZGluZ19leHByZXNzaW9uKAogICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiwgWyJwYXJlbnQiXSwgaXNfc2luZ3VsYXI9RmFsc2UKICAgICAgICApOgogICAgICAgICAgICBlcnJvcl90YWlsID0gImZvciBleGFtcGxlLCAke3twYXJlbnQuam9icy54eHgub3V0cHV0cy5vdXRwdXR9fSIKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJjb25kaXRpb24iLAogICAgICAgICAgICAgICAgbWVzc2FnZT1mIidjb25kaXRpb24nIG9mIGRzbC5jb25kaXRpb24gaGFzIGludmFsaWQgYmluZGluZyBleHByZXNzaW9uOiB7c2VsZi5jb25kaXRpb259LCB7ZXJyb3JfdGFpbH0iLAogICAgICAgICAgICApCgogICAgICAgIGVycm9yX21zZyA9ICgKICAgICAgICAgICAgInshcn0gb2YgZHNsLmNvbmRpdGlvbiBub2RlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIiBmIntCYXNlTm9kZX0sIHtBdXRvTUxKb2J9IG9yIHtzdHJ9LCIgImdvdCB7IXJ9LiIKICAgICAgICApCiAgICAgICAgYmxvY2tzID0gc2VsZi50cnVlX2Jsb2NrIGlmIHNlbGYudHJ1ZV9ibG9jayBlbHNlIFtdCiAgICAgICAgZm9yIGJsb2NrIGluIGJsb2NrczoKICAgICAgICAgICAgaWYgYmxvY2sgaXMgbm90IE5vbmUgYW5kIG5vdCBpc2luc3RhbmNlKGJsb2NrLCAoQmFzZU5vZGUsIEF1dG9NTEpvYiwgc3RyKSk6CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJ0cnVlX2Jsb2NrIiwgbWVzc2FnZT1lcnJvcl9tc2cuZm9ybWF0KCJ0cnVlX2Jsb2NrIiwgdHlwZShibG9jaykpCiAgICAgICAgICAgICAgICApCiAgICAgICAgYmxvY2tzID0gc2VsZi5mYWxzZV9ibG9jayBpZiBzZWxmLmZhbHNlX2Jsb2NrIGVsc2UgW10KICAgICAgICBmb3IgYmxvY2sgaW4gYmxvY2tzOgogICAgICAgICAgICBpZiBibG9jayBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UoYmxvY2ssIChCYXNlTm9kZSwgQXV0b01MSm9iLCBzdHIpKToKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcigKICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImZhbHNlX2Jsb2NrIiwgbWVzc2FnZT1lcnJvcl9tc2cuZm9ybWF0KCJmYWxzZV9ibG9jayIsIHR5cGUoYmxvY2spKQogICAgICAgICAgICAgICAgKQoKICAgICAgICAjIGNoZWNrIGlmIHRydWUvZmFsc2UgYmxvY2sgaXMgdmFsaWQgYmluZGluZwogICAgICAgIGZvciBuYW1lLCBibG9ja3MgaW4geyJ0cnVlX2Jsb2NrIjogc2VsZi50cnVlX2Jsb2NrLCAiZmFsc2VfYmxvY2siOiBzZWxmLmZhbHNlX2Jsb2NrfS5pdGVtcygpOgogICAgICAgICAgICBibG9ja3MgPSBibG9ja3MgaWYgYmxvY2tzIGVsc2UgW10KICAgICAgICAgICAgZm9yIGJsb2NrIGluIGJsb2NrczoKICAgICAgICAgICAgICAgIGlmIGJsb2NrIGlzIE5vbmUgb3Igbm90IGlzaW5zdGFuY2UoYmxvY2ssIHN0cik6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVycm9yX3RhaWwgPSAiZm9yIGV4YW1wbGUsICR7e3BhcmVudC5qb2JzLnh4eH19IgogICAgICAgICAgICAgICAgaWYgbm90IGlzX2RhdGFfYmluZGluZ19leHByZXNzaW9uKGJsb2NrLCBbInBhcmVudCIsICJqb2JzIl0sIGlzX3Npbmd1bGFyPUZhbHNlKToKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfcGF0aD1uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiJ3tuYW1lfScgb2YgZHNsLmNvbmRpdGlvbiBoYXMgaW52YWxpZCBiaW5kaW5nIGV4cHJlc3Npb246IHtibG9ja30sIHtlcnJvcl90YWlsfSIsCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICByZXR1cm4gdmFsaWRhdGlvbl9yZXN1bHQudHJ5X3JhaXNlKHNlbGYuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLCByYWlzZV9lcnJvcj1yYWlzZV9lcnJvcikK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "RSFZAcYPwCxVki1i0yMzZg==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C1EDD01\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "q88CzK6RH7s=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/base_node.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "21072",
        "Content-MD5": "GB0qOQZNQpMnLLkWmgvThg==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwoKaW1wb3J0IGxvZ2dpbmcKaW1wb3J0IHV1aWQKZnJvbSBhYmMgaW1wb3J0IGFic3RyYWN0bWV0aG9kCmZyb20gZW51bSBpbXBvcnQgRW51bQpmcm9tIGZ1bmN0b29scyBpbXBvcnQgd3JhcHMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKZnJvbSBhenVyZS5haS5tbC5fdXRpbHMuX2FybV9pZF91dGlscyBpbXBvcnQgZ2V0X3Jlc291cmNlX25hbWVfZnJvbV9hcm1faWRfc2FmZQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cyBpbXBvcnQgSm9iVHlwZQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBDb21tb25ZYW1sRmllbGRzCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0IE5vZGVUeXBlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMgaW1wb3J0IERhdGEsIE1vZGVsCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9pbnB1dHNfb3V0cHV0cyBpbXBvcnQgSW5wdXQsIE91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IuX2lucHV0X291dHB1dF9oZWxwZXJzIGltcG9ydCBidWlsZF9pbnB1dF9vdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmpvYiBpbXBvcnQgSm9iCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5waXBlbGluZS5fYXR0cl9kaWN0IGltcG9ydCBfQXR0ckRpY3QKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnBpcGVsaW5lLl9pbyBpbXBvcnQgTm9kZU91dHB1dCwgUGlwZWxpbmVJbnB1dCwgUGlwZWxpbmVOb2RlSU9NaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUuX3BpcGVsaW5lX2V4cHJlc3Npb24gaW1wb3J0IFBpcGVsaW5lRXhwcmVzc2lvbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuc3dlZXAuc2VhcmNoX3NwYWNlIGltcG9ydCBTd2VlcERpc3RyaWJ1dGlvbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9taXhpbnMgaW1wb3J0IFlhbWxUcmFuc2xhdGFibGVNaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl91dGlsIGltcG9ydCBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0LCByZXNvbHZlX3BpcGVsaW5lX3BhcmFtZXRlcnMKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fdmFsaWRhdGlvbiBpbXBvcnQgTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQsIFNjaGVtYVZhbGlkYXRhYmxlTWl4aW4KZnJvbSBhenVyZS5haS5tbC5leGNlcHRpb25zIGltcG9ydCBFcnJvclRhcmdldCwgVmFsaWRhdGlvbkVycm9yVHlwZSwgVmFsaWRhdGlvbkV4Y2VwdGlvbgoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmRlZiBwYXJzZV9pbnB1dHNfb3V0cHV0cyhkYXRhKToKICAgIGlmICJpbnB1dHMiIGluIGRhdGE6CiAgICAgICAgZGF0YVsiaW5wdXRzIl0gPSB7a2V5OiBidWlsZF9pbnB1dF9vdXRwdXQodmFsKSBmb3Iga2V5LCB2YWwgaW4gZGF0YVsiaW5wdXRzIl0uaXRlbXMoKX0KICAgIGlmICJvdXRwdXRzIiBpbiBkYXRhOgogICAgICAgIGRhdGFbIm91dHB1dHMiXSA9IHtrZXk6IGJ1aWxkX2lucHV0X291dHB1dCh2YWwsIGlucHV0cz1GYWxzZSkgZm9yIGtleSwgdmFsIGluIGRhdGFbIm91dHB1dHMiXS5pdGVtcygpfQogICAgcmV0dXJuIGRhdGEKCgpkZWYgcGlwZWxpbmVfbm9kZV9kZWNvcmF0b3IoZnVuYyk6CiAgICAiIiJXcmFwIGZ1bmMgYW5kIGFkZCBpdCByZXR1cm4gdmFsdWUgdG8gY3VycmVudCBEU0wgcGlwZWxpbmUuIiIiCgogICAgQHdyYXBzKGZ1bmMpCiAgICBkZWYgd3JhcHBlcigqYXJncywgKiprd2FyZ3MpOgogICAgICAgIGF1dG9tbF9qb2IgPSBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmRzbC5fcGlwZWxpbmVfY29tcG9uZW50X2J1aWxkZXIgaW1wb3J0ICgKICAgICAgICAgICAgX2FkZF9jb21wb25lbnRfdG9fY3VycmVudF9kZWZpbml0aW9uX2J1aWxkZXIsCiAgICAgICAgICAgIF9pc19pbnNpZGVfZHNsX3BpcGVsaW5lX2Z1bmMsCiAgICAgICAgKQoKICAgICAgICBpZiBfaXNfaW5zaWRlX2RzbF9waXBlbGluZV9mdW5jKCk6CiAgICAgICAgICAgICMgQnVpbGQgYXV0b21sIGpvYiB0byBhdXRvbWwgbm9kZSBpZiBpdCdzIGRlZmluZWQgaW5zaWRlIERTTCBwaXBlbGluZSBmdW5jLgogICAgICAgICAgICBhdXRvbWxfam9iLl9pbnN0YW5jZV9pZCA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICAgICAgICAgIF9hZGRfY29tcG9uZW50X3RvX2N1cnJlbnRfZGVmaW5pdGlvbl9idWlsZGVyKGF1dG9tbF9qb2IpCiAgICAgICAgcmV0dXJuIGF1dG9tbF9qb2IKCiAgICByZXR1cm4gd3JhcHBlcgoKCiMgcHlsaW50OiBkaXNhYmxlPXRvby1tYW55LWluc3RhbmNlLWF0dHJpYnV0ZXMKY2xhc3MgQmFzZU5vZGUoSm9iLCBQaXBlbGluZU5vZGVJT01peGluLCBZYW1sVHJhbnNsYXRhYmxlTWl4aW4sIF9BdHRyRGljdCwgU2NoZW1hVmFsaWRhdGFibGVNaXhpbik6CiAgICAiIiJCYXNlIGNsYXNzIGZvciBub2RlIGluIHBpcGVsaW5lLCB1c2VkIGZvciBjb21wb25lbnQgdmVyc2lvbiBjb25zdW1wdGlvbi4gQ2FuJ3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIGEgYnVpbGRlciBmdW5jdGlvbi4KCiAgICA6cGFyYW0gdHlwZTogVHlwZSBvZiBwaXBlbGluZSBub2RlCiAgICA6dHlwZSB0eXBlOiBzdHIKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9yIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgdmVyc2lvbiB0byBiZSBydW4gZm9yIHRoZSBzdGVwCiAgICA6dHlwZSBjb21wb25lbnQ6IFVuaW9uW0NvbXBvbmVudCwgc3RyXQogICAgOnBhcmFtIGlucHV0czogSW5wdXRzIHRvIHRoZSBub2RlLgogICAgOnR5cGUgaW5wdXRzOiBEaWN0W3N0ciwgVW5pb25bSW5wdXQsIFN3ZWVwRGlzdHJpYnV0aW9uLCBzdHIsIGJvb2wsIGludCwgZmxvYXQsIEVudW0sIGRpY3RdXQogICAgOnBhcmFtIG91dHB1dHM6IE1hcHBpbmcgb2Ygb3V0cHV0IGRhdGEgYmluZGluZ3MgdXNlZCBpbiB0aGUgam9iLgogICAgOnR5cGUgb3V0cHV0czogRGljdFtzdHIsIFVuaW9uW3N0ciwgT3V0cHV0LCBkaWN0XV0KICAgIDpwYXJhbSBuYW1lOiBOYW1lIG9mIHRoZSBub2RlLgogICAgOnR5cGUgbmFtZTogc3RyCiAgICA6cGFyYW0gZGVzY3JpcHRpb246IERlc2NyaXB0aW9uIG9mIHRoZSBub2RlLgogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZyBkaWN0aW9uYXJ5LiBUYWdzIGNhbiBiZSBhZGRlZCwgcmVtb3ZlZCwgYW5kIHVwZGF0ZWQuCiAgICA6dHlwZSB0YWdzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIHByb3BlcnRpZXM6IFRoZSBqb2IgcHJvcGVydHkgZGljdGlvbmFyeS4KICAgIDp0eXBlIHByb3BlcnRpZXM6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gY29tbWVudDogQ29tbWVudCBvZiB0aGUgcGlwZWxpbmUgbm9kZSwgd2hpY2ggd2lsbCBiZSBzaG93biBpbiBkZXNpZ25lciBjYW52YXMuCiAgICA6dHlwZSBjb21tZW50OiBzdHIKICAgIDpwYXJhbSBkaXNwbGF5X25hbWU6IERpc3BsYXkgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgZGlzcGxheV9uYW1lOiBzdHIKICAgIDpwYXJhbSBjb21wdXRlOiBDb21wdXRlIGRlZmluaXRpb24gY29udGFpbmluZyB0aGUgY29tcHV0ZSBpbmZvcm1hdGlvbiBmb3IgdGhlIHN0ZXAKICAgIDp0eXBlIGNvbXB1dGU6IHN0cgogICAgOnBhcmFtIGV4cGVyaW1lbnRfbmFtZTogIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdGhlIGpvYiB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIsCiAgICAgICAgaWYgTm9uZSBpcyBwcm92aWRlZCwgZGVmYXVsdCB3aWxsIGJlIHNldCB0byBjdXJyZW50IGRpcmVjdG9yeSBuYW1lLiBXaWxsIGJlIGlnbm9yZWQgYXMgYSBwaXBlbGluZSBzdGVwLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgdHlwZTogc3RyID0gSm9iVHlwZS5DT01QT05FTlQsICAjIHB5bGludDogZGlzYWJsZT1yZWRlZmluZWQtYnVpbHRpbgogICAgICAgIGNvbXBvbmVudDogQ29tcG9uZW50LAogICAgICAgIGlucHV0czogT3B0aW9uYWxbCiAgICAgICAgICAgIERpY3RbCiAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICBVbmlvblsKICAgICAgICAgICAgICAgICAgICBQaXBlbGluZUlucHV0LAogICAgICAgICAgICAgICAgICAgIE5vZGVPdXRwdXQsCiAgICAgICAgICAgICAgICAgICAgSW5wdXQsCiAgICAgICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgICAgIGJvb2wsCiAgICAgICAgICAgICAgICAgICAgaW50LAogICAgICAgICAgICAgICAgICAgIGZsb2F0LAogICAgICAgICAgICAgICAgICAgIEVudW0sCiAgICAgICAgICAgICAgICAgICAgIklucHV0IiwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIF0KICAgICAgICBdID0gTm9uZSwKICAgICAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXQsICJPdXRwdXQiXV1dID0gTm9uZSwKICAgICAgICBuYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBkaXNwbGF5X25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB0YWdzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICAgICAgcHJvcGVydGllczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgIGNvbW1lbnQ6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIGV4cGVyaW1lbnRfbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsCiAgICApOgogICAgICAgIHNlbGYuX2luaXQgPSBUcnVlCiAgICAgICAgIyBwcm9wZXJ0eSBfc291cmNlIGNhbid0IGJlIHNldAogICAgICAgIGt3YXJncy5wb3AoIl9zb3VyY2UiLCBOb25lKQogICAgICAgIF9mcm9tX2NvbXBvbmVudF9mdW5jID0ga3dhcmdzLnBvcCgiX2Zyb21fY29tcG9uZW50X2Z1bmMiLCBGYWxzZSkKICAgICAgICBzdXBlcihCYXNlTm9kZSwgc2VsZikuX19pbml0X18oCiAgICAgICAgICAgIHR5cGU9dHlwZSwKICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbiwKICAgICAgICAgICAgdGFncz10YWdzLAogICAgICAgICAgICBwcm9wZXJ0aWVzPXByb3BlcnRpZXMsCiAgICAgICAgICAgIGNvbXB1dGU9Y29tcHV0ZSwKICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQogICAgICAgIHNlbGYuY29tbWVudCA9IGNvbW1lbnQKCiAgICAgICAgIyBpbml0aWFsaXplIGlvCiAgICAgICAgaW5wdXRzID0gcmVzb2x2ZV9waXBlbGluZV9wYXJhbWV0ZXJzKGlucHV0cykKICAgICAgICBpbnB1dHMsIG91dHB1dHMgPSBpbnB1dHMgb3Ige30sIG91dHB1dHMgb3Ige30KICAgICAgICBzZWxmLl9wYXJzZV9pbyhpbnB1dHMsIElucHV0KQogICAgICAgIHNlbGYuX3ZhbGlkYXRlX2lvKGlucHV0cywgc2VsZi5fZ2V0X3N1cHBvcnRlZF9pbnB1dHNfdHlwZXMoKSkKICAgICAgICBzZWxmLl9wYXJzZV9pbyhvdXRwdXRzLCBPdXRwdXQpCiAgICAgICAgc2VsZi5fdmFsaWRhdGVfaW8ob3V0cHV0cywgc2VsZi5fZ2V0X3N1cHBvcnRlZF9vdXRwdXRzX3R5cGVzKCkpCiAgICAgICAgIyBwYXJzZSBlbXB0eSBkaWN0IHRvIE5vbmUgc28gd2Ugd29uJ3QgcGFzcyBkZWZhdWx0IG1vZGUsIHR5cGUgdG8gYmFja2VuZAogICAgICAgICMgYWRkIGBpc2luc3RhbmNlYCB0byBhdm9pZCBjb252ZXJ0aW5nIHRvIGV4cHJlc3Npb24KICAgICAgICBmb3IgaywgdiBpbiBpbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2LCBkaWN0KSBhbmQgdiA9PSB7fToKICAgICAgICAgICAgICAgIGlucHV0c1trXSA9IE5vbmUKCiAgICAgICAgIyBUT0RPOiBnZXQgcmlkIG9mIHNlbGYuX2pvYl9pbnB1dHMsIHNlbGYuX2pvYl9vdXRwdXRzIG9uY2Ugd2UgaGF2ZSB1bmlmaWVkIElucHV0CiAgICAgICAgc2VsZi5fam9iX2lucHV0cywgc2VsZi5fam9iX291dHB1dHMgPSBpbnB1dHMsIG91dHB1dHMKICAgICAgICBpZiBpc2luc3RhbmNlKGNvbXBvbmVudCwgQ29tcG9uZW50KToKICAgICAgICAgICAgIyBCdWlsZCB0aGUgaW5wdXRzIGZyb20gY29tcG9uZW50IGlucHV0IGRlZmluaXRpb24gYW5kIGdpdmVuIGlucHV0cywgdW5maWxsZWQgaW5wdXRzIHdpbGwgYmUgTm9uZQogICAgICAgICAgICBzZWxmLl9pbnB1dHMgPSBzZWxmLl9idWlsZF9pbnB1dHNfZGljdChjb21wb25lbnQuaW5wdXRzLCBpbnB1dHMgb3Ige30pCiAgICAgICAgICAgICMgQnVpbGQgdGhlIG91dHB1dHMgZnJvbSBjb21wb25lbnQgb3V0cHV0IGRlZmluaXRpb24gYW5kIGdpdmVuIG91dHB1dHMsIHVuZmlsbGVkIG91dHB1dHMgd2lsbCBiZSBOb25lCiAgICAgICAgICAgIHNlbGYuX291dHB1dHMgPSBzZWxmLl9idWlsZF9vdXRwdXRzX2RpY3QoY29tcG9uZW50Lm91dHB1dHMsIG91dHB1dHMgb3Ige30pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBCdWlsZCBpbnB1dHMvb3V0cHV0cyBkaWN0IHdpdGhvdXQgbWV0YSB3aGVuIGRlZmluaXRpb24gbm90IGF2YWlsYWJsZQogICAgICAgICAgICBzZWxmLl9pbnB1dHMgPSBzZWxmLl9idWlsZF9pbnB1dHNfZGljdF93aXRob3V0X21ldGEoaW5wdXRzIG9yIHt9KQogICAgICAgICAgICBzZWxmLl9vdXRwdXRzID0gc2VsZi5fYnVpbGRfb3V0cHV0c19kaWN0X3dpdGhvdXRfbWV0YShvdXRwdXRzIG9yIHt9KQoKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9yZWZlcmVuY2VkX2NvbnRyb2xfZmxvd19ub2RlX2luc3RhbmNlX2lkID0gTm9uZQogICAgICAgIHNlbGYua3dhcmdzID0ga3dhcmdzCgogICAgICAgICMgR2VuZXJhdGUgYW4gaWQgZm9yIGV2ZXJ5IGluc3RhbmNlCiAgICAgICAgc2VsZi5faW5zdGFuY2VfaWQgPSBzdHIodXVpZC51dWlkNCgpKQogICAgICAgIGlmIF9mcm9tX2NvbXBvbmVudF9mdW5jOgogICAgICAgICAgICAjIGFkZCBjdXJyZW50IGNvbXBvbmVudCBpbiBwaXBlbGluZSBzdGFjayBmb3IgZHNsIHNjZW5hcmlvCiAgICAgICAgICAgIHNlbGYuX3JlZ2lzdGVyX2luX2N1cnJlbnRfcGlwZWxpbmVfY29tcG9uZW50X2J1aWxkZXIoKQoKICAgICAgICBzZWxmLl9zb3VyY2UgPSAoCiAgICAgICAgICAgIHNlbGYuX2NvbXBvbmVudC5fc291cmNlCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5fY29tcG9uZW50LCBDb21wb25lbnQpCiAgICAgICAgICAgIGVsc2UgQ29tcG9uZW50Ll9yZXNvbHZlX2NvbXBvbmVudF9zb3VyY2VfZnJvbV9pZChpZD1zZWxmLl9jb21wb25lbnQpCiAgICAgICAgKQogICAgICAgIHNlbGYuX3ZhbGlkYXRlX3JlcXVpcmVkX2lucHV0X25vdF9wcm92aWRlZCA9IFRydWUKICAgICAgICBzZWxmLl9pbml0ID0gRmFsc2UKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3N1cHBvcnRlZF9pbnB1dHNfdHlwZXMoY2xzKToKICAgICAgICAjIHN1cHBvcnRlZCBpbnB1dCB0eXBlcyBmb3Igbm9kZSBpbnB1dAogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIFBpcGVsaW5lSW5wdXQsCiAgICAgICAgICAgIE5vZGVPdXRwdXQsCiAgICAgICAgICAgIElucHV0LAogICAgICAgICAgICBEYXRhLAogICAgICAgICAgICBNb2RlbCwKICAgICAgICAgICAgc3RyLAogICAgICAgICAgICBib29sLAogICAgICAgICAgICBpbnQsCiAgICAgICAgICAgIGZsb2F0LAogICAgICAgICAgICBFbnVtLAogICAgICAgICAgICBQaXBlbGluZUV4cHJlc3Npb24sCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc3VwcG9ydGVkX291dHB1dHNfdHlwZXMoY2xzKToKICAgICAgICAjIHN1cHBvcnRlZCBvdXRwdXQgdHlwZXMgZm9yIG5vZGUgaW5wdXQKICAgICAgICByZXR1cm4gTm9uZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIF9za2lwX3JlcXVpcmVkX2NvbXB1dGVfbWlzc2luZ192YWxpZGF0aW9uKHNlbGYpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF92YWxpZGF0ZV9pbyhjbHMsIGlvX2RpY3Q6IGRpY3QsIGFsbG93ZWRfdHlwZXM6IE9wdGlvbmFsW3R1cGxlXSk6CiAgICAgICAgaWYgYWxsb3dlZF90eXBlcyBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBpb19kaWN0Lml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHZhbHVlIGlzIE5vbmUgb3IgaXNpbnN0YW5jZSh2YWx1ZSwgYWxsb3dlZF90eXBlcyk6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBtc2cgPSAiRXhwZWN0aW5nIHt9IGZvciBpbnB1dC9vdXRwdXQge30sIGdvdCB7fSBpbnN0ZWFkLiIKICAgICAgICAgICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1tc2cuZm9ybWF0KGFsbG93ZWRfdHlwZXMsIGtleSwgdHlwZSh2YWx1ZSkpLAogICAgICAgICAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2cuZm9ybWF0KGFsbG93ZWRfdHlwZXMsICJba2V5XSIsIHR5cGUodmFsdWUpKSwKICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuUElQRUxJTkUsCiAgICAgICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX3BhcnNlX2lvKGNscywgaW9fZGljdDogZGljdCwgcGFyc2VfY2xzKToKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBpb19kaWN0Lml0ZW1zKCk6CiAgICAgICAgICAgICMgb3V0cHV0IG1vZGUgb2YgbGFzdCBub2RlIHNob3VsZCBub3QgYWZmZWN0IGlucHV0IG1vZGUgb2YgbmV4dCBub2RlCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIE5vZGVPdXRwdXQpOgogICAgICAgICAgICAgICAgIyB2YWx1ZSA9IGNvcHkuZGVlcGNvcHkodmFsdWUpCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLl9kZWVwY29weSgpICAjIERlY291cGxlZCBpbnB1dCBhbmQgb3V0cHV0CiAgICAgICAgICAgICAgICBpb19kaWN0W2tleV0gPSB2YWx1ZQogICAgICAgICAgICAgICAgdmFsdWUubW9kZSA9IE5vbmUKICAgICAgICAgICAgZWxpZiB0eXBlKHZhbHVlKSA9PSBkaWN0OiAgIyBweWxpbnQ6IGRpc2FibGU9dW5pZGlvbWF0aWMtdHlwZWNoZWNrCiAgICAgICAgICAgICAgICAjIFVzZSB0eXBlIGNvbXBhcmlzb24gaW5zdGVhZCBvZiBpc19pbnN0YW5jZSB0byBza2lwIF9Hcm91cEF0dHJEaWN0CiAgICAgICAgICAgICAgICAjIHdoZW4gbG9hZGluZyBmcm9tIHlhbWwgaW8gd2lsbCBiZSBhIGRpY3QsCiAgICAgICAgICAgICAgICAjIGxpa2Ugeydqb2JfZGF0YV9wYXRoJzogJyR7e3BhcmVudC5pbnB1dHMucGlwZWxpbmVfam9iX2RhdGFfcGF0aH19J30KICAgICAgICAgICAgICAgICMgcGFyc2UgZGljdCB0byBhbGxvd2VkIHR5cGUKICAgICAgICAgICAgICAgIGlvX2RpY3Rba2V5XSA9IHBhcnNlX2NscygqKnZhbHVlKQoKICAgIGRlZiBfaW5pdGlhbGl6aW5nKHNlbGYpIC0\u002BIGJvb2w6CiAgICAgICAgIyB1c2UgdGhpcyB0byBpbmRpY2F0ZSBvbmdvaW5nIGluaXQgcHJvY2VzcyBzbyBhbGwgYXR0cmlidXRlcyBzZXQgZHVyaW5nIGluaXQgcHJvY2VzcyB3b24ndCBiZSBzZXQgYXMKICAgICAgICAjIGFyYml0cmFyeSBhdHRyaWJ1dGUgaW4gX0F0dHJEaWN0CiAgICAgICAgIyBUT0RPOiByZXBsYWNlIHRoaXMgaGFjawogICAgICAgIHJldHVybiBzZWxmLl9pbml0CgogICAgZGVmIF9zZXRfYmFzZV9wYXRoKHNlbGYsIGJhc2VfcGF0aCk6CiAgICAgICAgIiIiU2V0IHRoZSBiYXNlIHBhdGggZm9yIHRoZSBub2RlLgoKICAgICAgICBXaWxsIGJlIHVzZWQgZm9yIHNjaGVtYSB2YWxpZGF0aW9uLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSBQYXRoLmN3ZCgpIGFzIHRoZSBiYXNlIHBhdGggKGRlZmF1bHQgbG9naWMgZGVmaW5lZCBpbgogICAgICAgIFNjaGVtYVZhbGlkYXRhYmxlTWl4aW4uX2Jhc2VfcGF0aF9mb3JfdmFsaWRhdGlvbikuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fYmFzZV9wYXRoID0gYmFzZV9wYXRoCgogICAgZGVmIF9zZXRfcmVmZXJlbmNlZF9jb250cm9sX2Zsb3dfbm9kZV9pbnN0YW5jZV9pZChzZWxmLCBpbnN0YW5jZV9pZCk6CiAgICAgICAgIiIiU2V0IHRoZSByZWZlcmVuY2VkIGNvbnRyb2wgZmxvdyBub2RlIGluc3RhbmNlIGlkLgoKICAgICAgICBJZiB0aGlzIG5vZGUgaXMgcmVmZXJlbmNlZCB0byBhIGNvbnRyb2wgZmxvdyBub2RlLCB0aGUgaW5zdGFuY2VfaWQgd2lsbCBub3QgYmUgbW9kaWZpZWQuCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IHNlbGYuX3JlZmVyZW5jZWRfY29udHJvbF9mbG93X25vZGVfaW5zdGFuY2VfaWQ6CiAgICAgICAgICAgIHNlbGYuX3JlZmVyZW5jZWRfY29udHJvbF9mbG93X25vZGVfaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9pZAoKICAgIGRlZiBfZ2V0X2NvbXBvbmVudF9pZChzZWxmKSAtPiBVbmlvbltzdHIsIENvbXBvbmVudF06CiAgICAgICAgIiIiUmV0dXJuIGNvbXBvbmVudCBpZCBpZiBwb3NzaWJsZS4iIiIKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuX2NvbXBvbmVudCwgQ29tcG9uZW50KSBhbmQgc2VsZi5fY29tcG9uZW50LmlkOgogICAgICAgICAgICAjIElmIGNvbXBvbmVudCBpcyByZW1vdGUsIHJldHVybiBpdCdzIGFzc2V0IGlkCiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnQuaWQKICAgICAgICAjIE90aGVyd2lzZSwgcmV0dXJuIHRoZSBjb21wb25lbnQgdmVyc2lvbiBvciBhcm0gaWQuCiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbXBvbmVudAoKICAgIGRlZiBfZ2V0X2NvbXBvbmVudF9uYW1lKHNlbGYpOgogICAgICAgICMgZmlyc3QgdXNlIGNvbXBvbmVudCB2ZXJzaW9uL2pvYidzIGRpc3BsYXkgbmFtZSBvciBuYW1lIGFzIGNvbXBvbmVudCBuYW1lCiAgICAgICAgIyBtYWtlIGl0IHVuaXF1ZSB3aGVuIHBpcGVsaW5lIGJ1aWxkIGZpbmlzaGVkLgogICAgICAgIGlmIHNlbGYuX2NvbXBvbmVudCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5fY29tcG9uZW50LCBzdHIpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50CiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbXBvbmVudC5uYW1lCgogICAgZGVmIF90b19kaWN0KHNlbGYpIC0\u002BIERpY3Q6CiAgICAgICAgcmV0dXJuIHNlbGYuX2R1bXBfZm9yX3ZhbGlkYXRpb24oKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfdmFsaWRhdGlvbl9lcnJvcl90YXJnZXQoY2xzKSAtPiBFcnJvclRhcmdldDoKICAgICAgICAiIiJSZXR1cm4gdGhlIGVycm9yIHRhcmdldCBvZiB0aGlzIHJlc291cmNlLgoKICAgICAgICBTaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzcy4gVmFsdWUgc2hvdWxkIGJlIGluIEVycm9yVGFyZ2V0IGVudW0uCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIEVycm9yVGFyZ2V0LlBJUEVMSU5FCgogICAgZGVmIF92YWxpZGF0ZV9pbnB1dHMoc2VsZiwgcmFpc2VfZXJyb3I9VHJ1ZSk6CiAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgPSBzZWxmLl9jcmVhdGVfZW1wdHlfdmFsaWRhdGlvbl9yZXN1bHQoKQogICAgICAgIGlmIHNlbGYuX3ZhbGlkYXRlX3JlcXVpcmVkX2lucHV0X25vdF9wcm92aWRlZDoKICAgICAgICAgICAgIyB2YWxpZGF0ZSByZXF1aXJlZCBpbnB1dHMgbm90IHByb3ZpZGVkCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5fY29tcG9uZW50LCBDb21wb25lbnQpOgogICAgICAgICAgICAgICAgZm9yIGtleSwgbWV0YSBpbiBzZWxmLl9jb21wb25lbnQuaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgIyByYWlzZSBlcnJvciB3aGVuIHJlcXVpcmVkIGlucHV0IHdpdGggbm8gZGVmYXVsdCB2YWx1ZSBub3Qgc2V0CiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICBub3Qgc2VsZi5faXNfaW5wdXRfc2V0KGlucHV0X25hbWU9a2V5KSAgIyBpbnB1dCBub3QgcHJvdmlkZWQKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIG1ldGEub3B0aW9uYWwgaXMgbm90IFRydWUgICMgYW5kIGl0J3MgcmVxdWlyZWQKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIG1ldGEuZGVmYXVsdCBpcyBOb25lICAjIGFuZCBpdCBkb2VzIG5vdCBoYXZlIGRlZmF1bHQKICAgICAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ZiJpbnB1dHMue2tleX0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mIlJlcXVpcmVkIGlucHV0IHtrZXkhcn0gZm9yIGNvbXBvbmVudCB7c2VsZi5uYW1lIXJ9IG5vdCBwcm92aWRlZC4iLAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgIGlucHV0cyA9IHNlbGYuX2J1aWxkX2lucHV0cygpCiAgICAgICAgZm9yIGlucHV0X25hbWUsIGlucHV0X29iaiBpbiBpbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpbnB1dF9vYmosIFN3ZWVwRGlzdHJpYnV0aW9uKToKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcigKICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ZiJpbnB1dHMue2lucHV0X25hbWV9IiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiSW5wdXQgb2YgY29tbWFuZCB7c2VsZi5uYW1lfSBpcyBhIFN3ZWVwRGlzdHJpYnV0aW9uLCAiCiAgICAgICAgICAgICAgICAgICAgZiJwbGVhc2UgdXNlIGNvbW1hbmQuc3dlZXAgdG8gdHJhbnNmb3JtIHRoZSBjb21tYW5kIGludG8gYSBzd2VlcCBub2RlLiIsCiAgICAgICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0LnRyeV9yYWlzZShzZWxmLl9nZXRfdmFsaWRhdGlvbl9lcnJvcl90YXJnZXQoKSwgcmFpc2VfZXJyb3I9cmFpc2VfZXJyb3IpCgogICAgZGVmIF9jdXN0b21pemVkX3ZhbGlkYXRlKHNlbGYpIC0\u002BIE11dGFibGVWYWxpZGF0aW9uUmVzdWx0OgogICAgICAgICIiIlZhbGlkYXRlIHRoZSByZXNvdXJjZSB3aXRoIGN1c3RvbWl6ZWQgbG9naWMuCgogICAgICAgIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBjdXN0b21pemVkIHZhbGlkYXRpb24gbG9naWMuCiAgICAgICAgIiIiCiAgICAgICAgdmFsaWRhdGVfcmVzdWx0ID0gc2VsZi5fdmFsaWRhdGVfaW5wdXRzKHJhaXNlX2Vycm9yPUZhbHNlKQogICAgICAgIHJldHVybiB2YWxpZGF0ZV9yZXN1bHQKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3NraXBfZmllbGRzX2luX3NjaGVtYV92YWxpZGF0aW9uKGNscykgLT4gTGlzdFtzdHJdOgogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICJpbnB1dHMiLCAgIyBwcm9jZXNzZWQgc2VwYXJhdGVseQogICAgICAgICAgICAib3V0cHV0cyIsICAjIHByb2Nlc3NlZCBzZXBhcmF0ZWx5CiAgICAgICAgICAgICJuYW1lIiwKICAgICAgICAgICAgImRpc3BsYXlfbmFtZSIsCiAgICAgICAgICAgICJleHBlcmltZW50X25hbWUiLCAgIyBuYW1lIGlzIG5vdCBwYXJ0IG9mIHNjaGVtYSBidXQgbWF5IGJlIHNldCBpbiBkc2wveW1sIGZpbGUKICAgICAgICAgICAgImt3YXJncyIsCiAgICAgICAgXQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfY29tcG9uZW50X2F0dHJfbmFtZShjbHMpIC0\u002BIHN0cjoKICAgICAgICByZXR1cm4gImNvbXBvbmVudCIKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBfdG9fam9iKHNlbGYpIC0\u002BIEpvYjoKICAgICAgICAiIiJUaGlzIHByaXZhdGUgZnVuY3Rpb24gaXMgdXNlZCBieSB0aGUgQ0xJIHRvIGdldCBhIHBsYWluIGpvYiBvYmplY3Qgc28gdGhhdCB0aGUgQ0xJIGNhbiBwcm9wZXJseSBzZXJpYWxpemUgdGhlCiAgICAgICAgb2JqZWN0LgoKICAgICAgICBJdCBpcyBuZWVkZWQgYXMgQmFzZU5vZGUuX3RvX2RpY3QoKSBkdW1wcyBvYmplY3RzIHVzaW5nIHBpcGVsaW5lIGNoaWxkIGpvYiBzY2hlbWEgaW5zdGVhZCBvZiBzdGFuZGFsb25lIGpvYgogICAgICAgIHNjaGVtYSwgZm9yIGV4YW1wbGUgQ29tbWFuZCBvYmplY3RzIGR1bXAgaGF2ZSBhIG5lc3RlZCBjb21wb25lbnQgcHJvcGVydHksIHdoaWNoIGRvZXNuJ3QgYXBwbHkgdG8gc3RhbmQgYWxvbmUKICAgICAgICBjb21tYW5kIGpvYnMuIEJhc2VOb2RlLl90b19kaWN0KCkgbmVlZHMgdG8gYmUgYWJsZSB0byBkdW1wIHRvIGJvdGggcGlwZWxpbmUgY2hpbGQgam9iIGRpY3QgYXMgd2VsbCBhcyBzdGFuZAogICAgICAgIGFsb25lIGpvYiBkaWN0IGJhc2Ugb24gY29udGV4dC4KICAgICAgICAiIiIKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdChjbHMsIG9iajogZGljdCkgLT4gIkJhc2VOb2RlIjoKICAgICAgICBpZiBDb21tb25ZYW1sRmllbGRzLlRZUEUgbm90IGluIG9iajoKICAgICAgICAgICAgb2JqW0NvbW1vbllhbWxGaWVsZHMuVFlQRV0gPSBOb2RlVHlwZS5DT01NQU5ECgogICAgICAgIGZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5waXBlbGluZS5fbG9hZF9jb21wb25lbnQgaW1wb3J0IHBpcGVsaW5lX25vZGVfZmFjdG9yeQoKICAgICAgICAjIHRvZG86IHJlZmluZSBIYXJkIGNvZGUgZm9yIG5vdyB0byBzdXBwb3J0IGRpZmZlcmVudCB0YXNrIHR5cGUgZm9yIERhdGFUcmFuc2ZlciBub2RlCiAgICAgICAgX3R5cGUgPSBvYmpbQ29tbW9uWWFtbEZpZWxkcy5UWVBFXQogICAgICAgIGlmIF90eXBlID09IE5vZGVUeXBlLkRBVEFfVFJBTlNGRVI6CiAgICAgICAgICAgIF90eXBlID0gIl8iLmpvaW4oW05vZGVUeXBlLkRBVEFfVFJBTlNGRVIsIG9iai5nZXQoInRhc2siLCAiIildKQogICAgICAgIGluc3RhbmNlOiBCYXNlTm9kZSA9IHBpcGVsaW5lX25vZGVfZmFjdG9yeS5nZXRfY3JlYXRlX2luc3RhbmNlX2Z1bmMoX3R5cGUpKCkKICAgICAgICBpbml0X2t3YXJncyA9IGluc3RhbmNlLl9mcm9tX3Jlc3Rfb2JqZWN0X3RvX2luaXRfcGFyYW1zKG9iaikKICAgICAgICBpbnN0YW5jZS5fX2luaXRfXygqKmluaXRfa3dhcmdzKQogICAgICAgIHJldHVybiBpbnN0YW5jZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9mcm9tX3Jlc3Rfb2JqZWN0X3RvX2luaXRfcGFyYW1zKGNscywgb2JqOiBkaWN0KSAtPiBEaWN0OgogICAgICAgICIiIlRyYW5zZmVyIHRoZSByZXN0IG9iamVjdCB0byBhIGRpY3QgY29udGFpbmluZyBpdGVtcyB0byBpbml0IHRoZSBub2RlLgoKICAgICAgICBXaWxsIGJlIHVzZWQgaW4gX2Zyb21fcmVzdF9vYmplY3QuIFBsZWFzZSBvdmVycmlkZSB0aGlzIG1ldGhvZCBpbnN0ZWFkIG9mIF9mcm9tX3Jlc3Rfb2JqZWN0IHRvIG1ha2UgdGhlIGxvZ2ljCiAgICAgICAgcmV1c2FibGUuCiAgICAgICAgIiIiCiAgICAgICAgaW5wdXRzID0gb2JqLmdldCgiaW5wdXRzIiwge30pCiAgICAgICAgb3V0cHV0cyA9IG9iai5nZXQoIm91dHB1dHMiLCB7fSkKCiAgICAgICAgb2JqWyJpbnB1dHMiXSA9IEJhc2VOb2RlLl9mcm9tX3Jlc3RfaW5wdXRzKGlucHV0cykKICAgICAgICBvYmpbIm91dHB1dHMiXSA9IEJhc2VOb2RlLl9mcm9tX3Jlc3Rfb3V0cHV0cyhvdXRwdXRzKQoKICAgICAgICAjIENoYW5nZSBjb21wdXRlSWQgLT4gY29tcHV0ZQogICAgICAgIGNvbXB1dGVfaWQgPSBvYmoucG9wKCJjb21wdXRlSWQiLCBOb25lKQogICAgICAgIG9ialsiY29tcHV0ZSJdID0gZ2V0X3Jlc291cmNlX25hbWVfZnJvbV9hcm1faWRfc2FmZShjb21wdXRlX2lkKQoKICAgICAgICAjIENoYW5nZSBjb21wb25lbnRJZCAtPiBjb21wb25lbnQuIE5vdGUgdGhhdCBzd2VlcCBub2RlIGhhcyBubyBjb21wb25lbnRJZC4KICAgICAgICBpZiAiY29tcG9uZW50SWQiIGluIG9iajoKICAgICAgICAgICAgb2JqWyJjb21wb25lbnQiXSA9IG9iai5wb3AoImNvbXBvbmVudElkIikKCiAgICAgICAgIyBkaXN0cmlidXRpb24sIHN3ZWVwIHdvbid0IGhhdmUgZGlzdHJpYnV0aW9uCiAgICAgICAgaWYgImRpc3RyaWJ1dGlvbiIgaW4gb2JqIGFuZCBvYmpbImRpc3RyaWJ1dGlvbiJdOgogICAgICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IuZGlzdHJpYnV0aW9uIGltcG9ydCBEaXN0cmlidXRpb25Db25maWd1cmF0aW9uCgogICAgICAgICAgICBvYmpbImRpc3RyaWJ1dGlvbiJdID0gRGlzdHJpYnV0aW9uQ29uZmlndXJhdGlvbi5fZnJvbV9yZXN0X29iamVjdChvYmpbImRpc3RyaWJ1dGlvbiJdKQoKICAgICAgICByZXR1cm4gb2JqCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX3BpY2tlZF9maWVsZHNfZnJvbV9kaWN0X3RvX3Jlc3Rfb2JqZWN0KGNscykgLT4gTGlzdFtzdHJdOgogICAgICAgICIiIk92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBjdXN0b20gZmllbGRzIHRvIGJlIHBpY2tlZCBmcm9tIHNlbGYuX3RvX2RpY3QoKSBpbiBzZWxmLl90b19yZXN0X29iamVjdCgpLgoKICAgICAgICBQaWNrIG5vdGhpbmcgYnkgZGVmYXVsdC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gW10KCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OiAgIyBweWxpbnQ6IGRpc2FibGU9dW51c2VkLWFyZ3VtZW50CiAgICAgICAgIiIiQ29udmVydCBzZWxmIHRvIGEgcmVzdCBvYmplY3QgZm9yIHJlbW90ZSBjYWxsLiIiIgogICAgICAgIGJhc2VfZGljdCwgcmVzdF9vYmogPSBzZWxmLl90b19kaWN0KCksIHt9CiAgICAgICAgZm9yIGtleSBpbiBzZWxmLl9waWNrZWRfZmllbGRzX2Zyb21fZGljdF90b19yZXN0X29iamVjdCgpOgogICAgICAgICAgICBpZiBrZXkgaW4gYmFzZV9kaWN0OgogICAgICAgICAgICAgICAgcmVzdF9vYmpba2V5XSA9IGJhc2VfZGljdC5nZXQoa2V5KQoKICAgICAgICByZXN0X29iai51cGRhdGUoCiAgICAgICAgICAgIGRpY3QoCiAgICAgICAgICAgICAgICBuYW1lPXNlbGYubmFtZSwKICAgICAgICAgICAgICAgIHR5cGU9c2VsZi50eXBlLAogICAgICAgICAgICAgICAgZGlzcGxheV9uYW1lPXNlbGYuZGlzcGxheV9uYW1lLAogICAgICAgICAgICAgICAgdGFncz1zZWxmLnRhZ3MsCiAgICAgICAgICAgICAgICBjb21wdXRlSWQ9c2VsZi5jb21wdXRlLAogICAgICAgICAgICAgICAgaW5wdXRzPXNlbGYuX3RvX3Jlc3RfaW5wdXRzKCksCiAgICAgICAgICAgICAgICBvdXRwdXRzPXNlbGYuX3RvX3Jlc3Rfb3V0cHV0cygpLAogICAgICAgICAgICAgICAgcHJvcGVydGllcz1zZWxmLnByb3BlcnRpZXMsCiAgICAgICAgICAgICAgICBfc291cmNlPXNlbGYuX3NvdXJjZSwKICAgICAgICAgICAgICAgICMgYWRkIGFsbCBhcmJpdHJhcnkgYXR0cmlidXRlcyB0byBzdXBwb3J0IHNldHRpbmcgdW5rbm93biBhdHRyaWJ1dGVzCiAgICAgICAgICAgICAgICAqKnNlbGYuX2dldF9hdHRycygpLAogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgICMgb25seSBhZGQgY29tbWVudCBpbiBSRVNUIG9iamVjdCB3aGVuIGl0IGlzIHNldAogICAgICAgIGlmIHNlbGYuY29tbWVudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmVzdF9vYmoudXBkYXRlKGRpY3QoY29tbWVudD1zZWxmLmNvbW1lbnQpKQoKICAgICAgICByZXR1cm4gY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdChyZXN0X29iaikKCiAgICBAcHJvcGVydHkKICAgIGRlZiBpbnB1dHMoc2VsZikgLT4gRGljdFtzdHIsIFVuaW9uW0lucHV0LCBzdHIsIGJvb2wsIGludCwgZmxvYXRdXToKICAgICAgICByZXR1cm4gc2VsZi5faW5wdXRzCgogICAgQHByb3BlcnR5CiAgICBkZWYgb3V0cHV0cyhzZWxmKSAtPiBEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXRdXToKICAgICAgICByZXR1cm4gc2VsZi5fb3V0cHV0cwoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIHN0cihzZWxmLl90b195YW1sKCkpCiAgICAgICAgZXhjZXB0IEJhc2VFeGNlcHRpb246ICAjIHB5bGludDogZGlzYWJsZT1icm9hZC1leGNlcHQKICAgICAgICAgICAgIyBhZGQgdHJ5IGNhdGNoIGluIGNhc2UgY29tcG9uZW50IGpvYiBmYWlsZWQgaW4gc2NoZW1hIHBhcnNlCiAgICAgICAgICAgIHJldHVybiBfQXR0ckRpY3QuX19zdHJfXygpCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKHNlbGYuX19zdHJfXygpKQoKICAgIGRlZiBfX2hlbHBfXyhzZWxmKToKICAgICAgICAjIG9ubHkgc2hvdyBoZWxwIHdoZW4gY29tcG9uZW50IGhhcyBkZWZpbml0aW9uCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLl9jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnQuX19oZWxwX18oKQoKICAgIGRlZiBfX2Jvb2xfXyhzZWxmKToKICAgICAgICAjIF9hdHRyX2RpY3Qgd2lsbCByZXR1cm4gRmFsc2UgaWYgbm8gZXh0cmEgYXR0cmlidXRlcyBhcmUgc2V0CiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgX2dldF9vcmlnaW5fam9iX291dHB1dHMoc2VsZik6CiAgICAgICAgIiIiUmVzdG9yZSBvdXRwdXRzIHRvIEpvYk91dHB1dC9CaW5kaW5nU3RyaW5nIGFuZCByZXR1cm4gdGhlbS4iIiIKICAgICAgICBvdXRwdXRzOiBEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXRdXSA9IHt9CiAgICAgICAgaWYgc2VsZi5vdXRwdXRzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBmb3Igb3V0cHV0X25hbWUsIG91dHB1dF9vYmogaW4gc2VsZi5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKG91dHB1dF9vYmosIE5vZGVPdXRwdXQpOgogICAgICAgICAgICAgICAgICAgIG91dHB1dHNbb3V0cHV0X25hbWVdID0gb3V0cHV0X29iai5fZGF0YQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInVuc3VwcG9ydGVkIGJ1aWx0IG91dHB1dCB0eXBlOiB7fToge30iLmZvcm1hdChvdXRwdXRfbmFtZSwgdHlwZShvdXRwdXRfb2JqKSkpCiAgICAgICAgcmV0dXJuIG91dHB1dHMKCiAgICBkZWYgX2dldF90ZWxlbWV0cnlfdmFsdWVzKHNlbGYpOgogICAgICAgIHRlbGVtZXRyeV92YWx1ZXMgPSB7InR5cGUiOiBzZWxmLnR5cGUsICJzb3VyY2UiOiBzZWxmLl9zb3VyY2V9CiAgICAgICAgcmV0dXJuIHRlbGVtZXRyeV92YWx1ZXMKCiAgICBkZWYgX3JlZ2lzdGVyX2luX2N1cnJlbnRfcGlwZWxpbmVfY29tcG9uZW50X2J1aWxkZXIoc2VsZik6CiAgICAgICAgIiIiUmVnaXN0ZXIgdGhpcyBub2RlIGluIGN1cnJlbnQgcGlwZWxpbmUgY29tcG9uZW50IGJ1aWxkZXIgYnkgYWRkaW5nIHNlbGYgdG8gYSBnbG9iYWwgc3RhY2suIiIiCiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5kc2wuX3BpcGVsaW5lX2NvbXBvbmVudF9idWlsZGVyIGltcG9ydCBfYWRkX2NvbXBvbmVudF90b19jdXJyZW50X2RlZmluaXRpb25fYnVpbGRlcgoKICAgICAgICAjIFRPRE86IHdvdWxkIGl0IGJlIGJldHRlciBpZiB3ZSBtYWtlIF9hZGRfY29tcG9uZW50X3RvX2N1cnJlbnRfZGVmaW5pdGlvbl9idWlsZGVyIGEgcHVibGljIGZ1bmN0aW9uIG9mCiAgICAgICAgIyAgX1BpcGVsaW5lQ29tcG9uZW50QnVpbGRlclN0YWNrIGFuZCBtYWtlIF9QaXBlbGluZUNvbXBvbmVudEJ1aWxkZXJTdGFjayBhIHNpbmdsZXRvbj8KICAgICAgICBfYWRkX2NvbXBvbmVudF90b19jdXJyZW50X2RlZmluaXRpb25fYnVpbGRlcihzZWxmKQoKICAgIGRlZiBfaXNfaW5wdXRfc2V0KHNlbGYsIGlucHV0X25hbWU6IHN0cikgLT4gYm9vbDoKICAgICAgICBidWlsdF9pbnB1dHMgPSBzZWxmLl9idWlsZF9pbnB1dHMoKQogICAgICAgIHJldHVybiBpbnB1dF9uYW1lIGluIGJ1aWx0X2lucHV0cyBhbmQgYnVpbHRfaW5wdXRzW2lucHV0X25hbWVdIGlzIG5vdCBOb25lCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX3JlZmluZV9vcHRpb25hbF9pbnB1dHNfd2l0aF9ub192YWx1ZShjbHMsIG5vZGUsIGt3YXJncyk6CiAgICAgICAgIiIiUmVmaW5lIG9wdGlvbmFsIGlucHV0cyB0aGF0IGhhdmUgbm8gZGVmYXVsdCB2YWx1ZSBhbmQgbm8gdmFsdWUgaXMgcHJvdmlkZWQgd2hlbiBjYWxsaW5nIGNvbW1hbmQvcGFyYWxsZWwKICAgICAgICBmdW5jdGlvbiBUaGlzIGlzIHRvIGFsaWduIHdpdGggYmVoYXZpb3Igb2YgY2FsbGluZyBjb21wb25lbnQgdG8gZ2VuZXJhdGUgYSBwaXBlbGluZSBub2RlLiIiIgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIG5vZGUuaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgIG1ldGEgPSB2YWx1ZS5fZGF0YQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBpc2luc3RhbmNlKG1ldGEsIElucHV0KQogICAgICAgICAgICAgICAgYW5kIG1ldGEuX2lzX3ByaW1pdGl2ZV90eXBlIGlzIEZhbHNlCiAgICAgICAgICAgICAgICBhbmQgbWV0YS5vcHRpb25hbCBpcyBUcnVlCiAgICAgICAgICAgICAgICBhbmQgbm90IG1ldGEucGF0aAogICAgICAgICAgICAgICAgYW5kIGtleSBub3QgaW4ga3dhcmdzCiAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICB2YWx1ZS5fZGF0YSA9IE5vbmUK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "GB0qOQZNQpMnLLkWmgvThg==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C271934\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "XLkBEugtBuc=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/import_func.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "3516",
        "Content-MD5": "w3ZZ7RSIhnzs8M\u002BIPLYrxg==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBPcHRpb25hbAoKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50U291cmNlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5pbXBvcnRfY29tcG9uZW50IGltcG9ydCBJbXBvcnRDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IE91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IuaW1wb3J0X2pvYiBpbXBvcnQgSW1wb3J0U291cmNlCgpmcm9tIC5jb21tYW5kX2Z1bmMgaW1wb3J0IF9wYXJzZV9pbnB1dCwgX3BhcnNlX2lucHV0c19vdXRwdXRzLCBfcGFyc2Vfb3V0cHV0CmZyb20gLmltcG9ydF9ub2RlIGltcG9ydCBJbXBvcnQKCgpkZWYgaW1wb3J0X2pvYigKICAgICosCiAgICBuYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIHRhZ3M6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgIGRpc3BsYXlfbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBleHBlcmltZW50X25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgc291cmNlOiBPcHRpb25hbFtJbXBvcnRTb3VyY2VdID0gTm9uZSwKICAgIG91dHB1dDogT3B0aW9uYWxbT3V0cHV0XSA9IE5vbmUsCiAgICBpc19kZXRlcm1pbmlzdGljOiBib29sID0gVHJ1ZSwKICAgICoqa3dhcmdzLAopIC0\u002BIEltcG9ydDoKICAgICIiIkNyZWF0ZSBhIEltcG9ydCBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW5zaWRlIGRzbC5waXBlbGluZSBhcyBhCiAgICBmdW5jdGlvbiBhbmQgY2FuIGFsc28gYmUgY3JlYXRlZCBhcyBhIHN0YW5kYWxvbmUgaW1wb3J0IGpvYi4KCiAgICA6cGFyYW0gbmFtZTogTmFtZSBvZiB0aGUgaW1wb3J0IGpvYiBvciBjb21wb25lbnQgY3JlYXRlZAogICAgOnR5cGUgbmFtZTogc3RyCiAgICA6cGFyYW0gZGVzY3JpcHRpb246IGEgZnJpZW5kbHkgZGVzY3JpcHRpb24gb2YgdGhlIGltcG9ydAogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZ3MgdG8gYmUgYXR0YWNoZWQgdG8gdGhpcyBpbXBvcnQKICAgIDp0eXBlIHRhZ3M6IERpY3QKICAgIDpwYXJhbSBkaXNwbGF5X25hbWU6IGEgZnJpZW5kbHkgbmFtZQogICAgOnR5cGUgZGlzcGxheV9uYW1lOiBzdHIKICAgIDpwYXJhbSBleHBlcmltZW50X25hbWU6ICBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLAogICAgICAgIGlmIE5vbmUgaXMgcHJvdmlkZWQsIGRlZmF1bHQgd2lsbCBiZSBzZXQgdG8gY3VycmVudCBkaXJlY3RvcnkgbmFtZS4gV2lsbCBiZSBpZ25vcmVkIGFzIGEgcGlwZWxpbmUgc3RlcC4KICAgIDp0eXBlIGV4cGVyaW1lbnRfbmFtZTogc3RyCiAgICA6cGFyYW0gc291cmNlOiBpbnB1dCBzb3VyY2UgcGFyYW1ldGVycyB1c2VkIGJ5IHRoaXMgaW1wb3J0LgogICAgOnR5cGUgc291cmNlOiBJbXBvcnRTb3VyY2UKICAgIDpwYXJhbSBvdXRwdXQ6IHRoZSBvdXRwdXQgb2YgdGhpcyBpbXBvcnQKICAgIDp0eXBlIG91dHB1dDogT3V0cHV0CiAgICA6cGFyYW0gaXNfZGV0ZXJtaW5pc3RpYzogU3BlY2lmeSB3aGV0aGVyIHRoZSBjb21tYW5kIHdpbGwgcmV0dXJuIHNhbWUgb3V0cHV0IGdpdmVuIHNhbWUgaW5wdXQuCiAgICAgICAgSWYgYSBjb21tYW5kIChjb21wb25lbnQpIGlzIGRldGVybWluaXN0aWMsIHdoZW4gdXNlIGl0IGFzIGEgbm9kZS9zdGVwIGluIGEgcGlwZWxpbmUsCiAgICAgICAgaXQgd2lsbCByZXVzZSByZXN1bHRzIGZyb20gYSBwcmV2aW91cyBzdWJtaXR0ZWQgam9iIGluIGN1cnJlbnQgd29ya3NwYWNlIHdoaWNoIGhhcyBzYW1lIGlucHV0cyBhbmQgc2V0dGluZ3MuCiAgICAgICAgSW4gdGhpcyBjYXNlLCB0aGlzIHN0ZXAgd2lsbCBub3QgdXNlIGFueSBjb21wdXRlIHJlc291cmNlLgogICAgICAgIERlZmF1bHQgdG8gYmUgVHJ1ZSwgc3BlY2lmeSBpc19kZXRlcm1pbmlzdGljPUZhbHNlIGlmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHN1Y2ggcmV1c2UgYmVoYXZpb3IuCiAgICA6dHlwZSBpc19kZXRlcm1pbmlzdGljOiBib29sCiAgICAiIiIKICAgIGlucHV0cyA9IHNvdXJjZS5fdG9fam9iX2lucHV0cygpIGlmIHNvdXJjZSBlbHNlIGt3YXJncy5wb3AoImlucHV0cyIpCiAgICBvdXRwdXRzID0geyJvdXRwdXQiOiBvdXRwdXR9IGlmIG91dHB1dCBlbHNlIGt3YXJncy5wb3AoIm91dHB1dHMiKQogICAgY29tcG9uZW50X2lucHV0cywgam9iX2lucHV0cyA9IF9wYXJzZV9pbnB1dHNfb3V0cHV0cyhpbnB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX2lucHV0KQogICAgIyBqb2IgaW5wdXRzIGNhbiBub3QgYmUgTm9uZQogICAgam9iX2lucHV0cyA9IHtrOiB2IGZvciBrLCB2IGluIGpvYl9pbnB1dHMuaXRlbXMoKSBpZiB2IGlzIG5vdCBOb25lfQogICAgY29tcG9uZW50X291dHB1dHMsIGpvYl9vdXRwdXRzID0gX3BhcnNlX2lucHV0c19vdXRwdXRzKG91dHB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX291dHB1dCkKCiAgICBjb21wb25lbnQgPSBrd2FyZ3MucG9wKCJjb21wb25lbnQiLCBOb25lKQoKICAgIGlmIGNvbXBvbmVudCBpcyBOb25lOgogICAgICAgIGNvbXBvbmVudCA9IEltcG9ydENvbXBvbmVudCgKICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICB0YWdzPXRhZ3MsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPWRlc2NyaXB0aW9uLAogICAgICAgICAgICBzb3VyY2U9Y29tcG9uZW50X2lucHV0cywKICAgICAgICAgICAgb3V0cHV0PWNvbXBvbmVudF9vdXRwdXRzWyJvdXRwdXQiXSwKICAgICAgICAgICAgX3NvdXJjZT1Db21wb25lbnRTb3VyY2UuQlVJTERFUiwKICAgICAgICAgICAgaXNfZGV0ZXJtaW5pc3RpYz1pc19kZXRlcm1pbmlzdGljLAogICAgICAgICAgICAqKmt3YXJncywKICAgICAgICApCgogICAgaW1wb3J0X29iaiA9IEltcG9ydCgKICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgIG5hbWU9bmFtZSwKICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbiwKICAgICAgICB0YWdzPXRhZ3MsCiAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLAogICAgICAgIGlucHV0cz1qb2JfaW5wdXRzLAogICAgICAgIG91dHB1dHM9am9iX291dHB1dHMsCiAgICAgICAgKiprd2FyZ3MsCiAgICApCgogICAgcmV0dXJuIGltcG9ydF9vYmoK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "w3ZZ7RSIhnzs8M\u002BIPLYrxg==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C289F9E\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "/cX7\u002B4swxgA=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/command_func.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "11721",
        "Content-MD5": "nV58jAAcfCAu\u002BrkmBGRC4Q==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKCmltcG9ydCBvcwpmcm9tIHR5cGluZyBpbXBvcnQgQ2FsbGFibGUsIERpY3QsIExpc3QsIE9wdGlvbmFsLCBUdXBsZSwgVW5pb24KCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21tb24gaW1wb3J0IEFzc2V0VHlwZXMsIExlZ2FjeUFzc2V0VHlwZXMKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50U291cmNlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2Fzc2V0cy5lbnZpcm9ubWVudCBpbXBvcnQgRW52aXJvbm1lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY29tcG9uZW50LmNvbW1hbmRfY29tcG9uZW50IGltcG9ydCBDb21tYW5kQ29tcG9uZW50CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NyZWRlbnRpYWxzIGltcG9ydCAoCiAgICBBbWxUb2tlbkNvbmZpZ3VyYXRpb24sCiAgICBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLAogICAgVXNlcklkZW50aXR5Q29uZmlndXJhdGlvbiwKKQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9pbnB1dHNfb3V0cHV0cyBpbXBvcnQgSW5wdXQsIE91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IuZGlzdHJpYnV0aW9uIGltcG9ydCBNcGlEaXN0cmlidXRpb24sIFB5VG9yY2hEaXN0cmlidXRpb24sIFRlbnNvckZsb3dEaXN0cmlidXRpb24KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmpvYl9zZXJ2aWNlIGltcG9ydCAoCiAgICBKb2JTZXJ2aWNlLAogICAgSnVweXRlckxhYkpvYlNlcnZpY2UsCiAgICBTc2hKb2JTZXJ2aWNlLAogICAgVGVuc29yQm9hcmRKb2JTZXJ2aWNlLAogICAgVnNDb2RlSm9iU2VydmljZSwKKQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUuX2NvbXBvbmVudF90cmFuc2xhdGFibGUgaW1wb3J0IENvbXBvbmVudFRyYW5zbGF0YWJsZU1peGluCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5zd2VlcC5zZWFyY2hfc3BhY2UgaW1wb3J0IFN3ZWVwRGlzdHJpYnV0aW9uCmZyb20gYXp1cmUuYWkubWwuZXhjZXB0aW9ucyBpbXBvcnQgRXJyb3JUYXJnZXQsIFZhbGlkYXRpb25FcnJvclR5cGUsIFZhbGlkYXRpb25FeGNlcHRpb24KCmZyb20gLmNvbW1hbmQgaW1wb3J0IENvbW1hbmQKClNVUFBPUlRFRF9JTlBVVFMgPSBbCiAgICBMZWdhY3lBc3NldFR5cGVzLlBBVEgsCiAgICBBc3NldFR5cGVzLlVSSV9GSUxFLAogICAgQXNzZXRUeXBlcy5VUklfRk9MREVSLAogICAgQXNzZXRUeXBlcy5DVVNUT01fTU9ERUwsCiAgICBBc3NldFR5cGVzLk1MRkxPV19NT0RFTCwKICAgIEFzc2V0VHlwZXMuTUxUQUJMRSwKICAgIEFzc2V0VHlwZXMuVFJJVE9OX01PREVMLApdCgoKZGVmIF9wYXJzZV9pbnB1dChpbnB1dF92YWx1ZSk6CiAgICBjb21wb25lbnRfaW5wdXQsIGpvYl9pbnB1dCA9IE5vbmUsIE5vbmUKICAgIGlmIGlzaW5zdGFuY2UoaW5wdXRfdmFsdWUsIElucHV0KToKICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCgqKmlucHV0X3ZhbHVlLl90b19kaWN0KCkpCiAgICAgICAgaW5wdXRfdHlwZSA9IGlucHV0X3ZhbHVlLnR5cGUKICAgICAgICBpZiBpbnB1dF90eXBlIGluIFNVUFBPUlRFRF9JTlBVVFM6CiAgICAgICAgICAgIGpvYl9pbnB1dCA9IElucHV0KCoqaW5wdXRfdmFsdWUuX3RvX2RpY3QoKSkKICAgIGVsaWYgaXNpbnN0YW5jZShpbnB1dF92YWx1ZSwgZGljdCk6CiAgICAgICAgIyBpZiB1c2VyIHByb3ZpZGVkIGRpY3QsIHdlIHRyeSB0byBwYXJzZSBpdCB0byBJbnB1dC4KICAgICAgICAjIGZvciBqb2IgaW5wdXQsIG9ubHkgcGFyc2UgZm9yIHBhdGggdHlwZQogICAgICAgIGlucHV0X3R5cGUgPSBpbnB1dF92YWx1ZS5nZXQoInR5cGUiLCBOb25lKQogICAgICAgIGlmIGlucHV0X3R5cGUgaW4gU1VQUE9SVEVEX0lOUFVUUzoKICAgICAgICAgICAgam9iX2lucHV0ID0gSW5wdXQoKippbnB1dF92YWx1ZSkKICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCgqKmlucHV0X3ZhbHVlKQogICAgZWxpZiBpc2luc3RhbmNlKGlucHV0X3ZhbHVlLCAoU3dlZXBEaXN0cmlidXRpb24sIHN0ciwgYm9vbCwgaW50LCBmbG9hdCkpOgogICAgICAgICMgSW5wdXQgYmluZGluZ3MgYXJlIG5vdCBzdXBwb3J0ZWQKICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBDb21wb25lbnRUcmFuc2xhdGFibGVNaXhpbi5fdG9faW5wdXRfYnVpbGRlcl9mdW5jdGlvbihpbnB1dF92YWx1ZSkKICAgICAgICBqb2JfaW5wdXQgPSBpbnB1dF92YWx1ZQogICAgZWxzZToKICAgICAgICBtc2cgPSBmIlVuc3VwcG9ydGVkIGlucHV0IHR5cGU6IHt0eXBlKGlucHV0X3ZhbHVlKX0sIG9ubHkgSW5wdXQsIGRpY3QsIHN0ciwgYm9vbCwgaW50IGFuZCBmbG9hdCBhcmUgc3VwcG9ydGVkLiIKICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICBtZXNzYWdlPW1zZywKICAgICAgICAgICAgbm9fcGVyc29uYWxfZGF0YV9tZXNzYWdlPW1zZywKICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkpPQiwKICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgKQogICAgcmV0dXJuIGNvbXBvbmVudF9pbnB1dCwgam9iX2lucHV0CgoKZGVmIF9wYXJzZV9vdXRwdXQob3V0cHV0X3ZhbHVlKToKICAgIGNvbXBvbmVudF9vdXRwdXQsIGpvYl9vdXRwdXQgPSBOb25lLCBOb25lCiAgICBpZiBpc2luc3RhbmNlKG91dHB1dF92YWx1ZSwgT3V0cHV0KToKICAgICAgICBjb21wb25lbnRfb3V0cHV0ID0gT3V0cHV0KCoqb3V0cHV0X3ZhbHVlLl90b19kaWN0KCkpCiAgICAgICAgam9iX291dHB1dCA9IE91dHB1dCgqKm91dHB1dF92YWx1ZS5fdG9fZGljdCgpKQogICAgZWxpZiBub3Qgb3V0cHV0X3ZhbHVlOgogICAgICAgICMgb3V0cHV0IHZhbHVlIGNhbiBiZSBOb25lIG9yIGVtcHR5IGRpY3Rpb25hcnkKICAgICAgICAjIE5vbmUgb3V0cHV0IHZhbHVlIHdpbGwgYmUgcGFja2VkIGludG8gYSBKb2JPdXRwdXQgb2JqZWN0IHdpdGggbW9kZSA9IFJlYWRXcml0ZU1vdW50ICYgdHlwZSA9IFVyaUZvbGRlcgogICAgICAgIGNvbXBvbmVudF9vdXRwdXQgPSBDb21wb25lbnRUcmFuc2xhdGFibGVNaXhpbi5fdG9fb3V0cHV0KG91dHB1dF92YWx1ZSkKICAgICAgICBqb2Jfb3V0cHV0ID0gb3V0cHV0X3ZhbHVlCiAgICBlbGlmIGlzaW5zdGFuY2Uob3V0cHV0X3ZhbHVlLCBkaWN0KTogICMgV2hlbiBvdXRwdXQgdmFsdWUgaXMgYSBub24tZW1wdHkgZGljdGlvbmFyeQogICAgICAgIGpvYl9vdXRwdXQgPSBPdXRwdXQoKipvdXRwdXRfdmFsdWUpCiAgICAgICAgY29tcG9uZW50X291dHB1dCA9IE91dHB1dCgqKm91dHB1dF92YWx1ZSkKICAgIGVsaWYgaXNpbnN0YW5jZShvdXRwdXRfdmFsdWUsIHN0cik6ICAjIFdoZW4gb3V0cHV0IGlzIHBhc3NlZCBpbiBmcm9tIHBpcGVsaW5lIGpvYiB5YW1sCiAgICAgICAgam9iX291dHB1dCA9IG91dHB1dF92YWx1ZQogICAgZWxzZToKICAgICAgICBtc2cgPSBmIlVuc3VwcG9ydGVkIG91dHB1dCB0eXBlOiB7dHlwZShvdXRwdXRfdmFsdWUpfSwgb25seSBPdXRwdXQgYW5kIGRpY3QgYXJlIHN1cHBvcnRlZC4iCiAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkV4Y2VwdGlvbigKICAgICAgICAgICAgbWVzc2FnZT1tc2csCiAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2csCiAgICAgICAgICAgIHRhcmdldD1FcnJvclRhcmdldC5KT0IsCiAgICAgICAgICAgIGVycm9yX3R5cGU9VmFsaWRhdGlvbkVycm9yVHlwZS5JTlZBTElEX1ZBTFVFLAogICAgICAgICkKICAgIHJldHVybiBjb21wb25lbnRfb3V0cHV0LCBqb2Jfb3V0cHV0CgoKZGVmIF9wYXJzZV9pbnB1dHNfb3V0cHV0cyhpb19kaWN0OiBEaWN0LCBwYXJzZV9mdW5jOiBDYWxsYWJsZSkgLT4gVHVwbGVbRGljdCwgRGljdF06CiAgICBjb21wb25lbnRfaW9fZGljdCwgam9iX2lvX2RpY3QgPSB7fSwge30KICAgIGlmIGlvX2RpY3Q6CiAgICAgICAgZm9yIGtleSwgdmFsIGluIGlvX2RpY3QuaXRlbXMoKToKICAgICAgICAgICAgY29tcG9uZW50X2lvLCBqb2JfaW8gPSBwYXJzZV9mdW5jKHZhbCkKICAgICAgICAgICAgY29tcG9uZW50X2lvX2RpY3Rba2V5XSA9IGNvbXBvbmVudF9pbwogICAgICAgICAgICBqb2JfaW9fZGljdFtrZXldID0gam9iX2lvCiAgICByZXR1cm4gY29tcG9uZW50X2lvX2RpY3QsIGpvYl9pb19kaWN0CgoKZGVmIGNvbW1hbmQoCiAgICAqLAogICAgbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBkZXNjcmlwdGlvbjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICB0YWdzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBwcm9wZXJ0aWVzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBkaXNwbGF5X25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgY29tbWFuZDogT3B0aW9uYWxbc3RyXSA9IE5vbmUsICAjIHB5bGludDogZGlzYWJsZT1yZWRlZmluZWQtb3V0ZXItbmFtZQogICAgZXhwZXJpbWVudF9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGVudmlyb25tZW50OiBPcHRpb25hbFtVbmlvbltzdHIsIEVudmlyb25tZW50XV0gPSBOb25lLAogICAgZW52aXJvbm1lbnRfdmFyaWFibGVzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBkaXN0cmlidXRpb246IE9wdGlvbmFsW1VuaW9uW0RpY3QsIE1waURpc3RyaWJ1dGlvbiwgVGVuc29yRmxvd0Rpc3RyaWJ1dGlvbiwgUHlUb3JjaERpc3RyaWJ1dGlvbl1dID0gTm9uZSwKICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgaW5wdXRzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBpbnN0YW5jZV9jb3VudDogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICBpbnN0YW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGxvY2F0aW9uczogT3B0aW9uYWxbTGlzdFtzdHJdXSA9IE5vbmUsCiAgICBkb2NrZXJfYXJnczogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBzaG1fc2l6ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICB0aW1lb3V0OiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIGNvZGU6IE9wdGlvbmFsW1VuaW9uW3N0ciwgb3MuUGF0aExpa2VdXSA9IE5vbmUsCiAgICBpZGVudGl0eTogT3B0aW9uYWxbVW5pb25bTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXV0gPSBOb25lLAogICAgaXNfZGV0ZXJtaW5pc3RpYzogYm9vbCA9IFRydWUsCiAgICBzZXJ2aWNlczogT3B0aW9uYWxbCiAgICAgICAgRGljdFtzdHIsIFVuaW9uW0pvYlNlcnZpY2UsIEp1cHl0ZXJMYWJKb2JTZXJ2aWNlLCBTc2hKb2JTZXJ2aWNlLCBUZW5zb3JCb2FyZEpvYlNlcnZpY2UsIFZzQ29kZUpvYlNlcnZpY2VdXQogICAgXSA9IE5vbmUsCiAgICBqb2JfdGllcjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBwcmlvcml0eTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAqKmt3YXJncywKKSAtPiBDb21tYW5kOgogICAgIiIiQ3JlYXRlIGEgQ29tbWFuZCBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW5zaWRlIGRzbC5waXBlbGluZSBhcyBhIGZ1bmN0aW9uIGFuZCBjYW4gYWxzbyBiZSBjcmVhdGVkIGFzIGEKICAgIHN0YW5kYWxvbmUgY29tbWFuZCBqb2IuCgogICAgOnBhcmFtIG5hbWU6IE5hbWUgb2YgdGhlIGNvbW1hbmQgam9iIG9yIGNvbXBvbmVudCBjcmVhdGVkCiAgICA6dHlwZSBuYW1lOiBzdHIKICAgIDpwYXJhbSBkZXNjcmlwdGlvbjogYSBmcmllbmRseSBkZXNjcmlwdGlvbiBvZiB0aGUgY29tbWFuZAogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZ3MgdG8gYmUgYXR0YWNoZWQgdG8gdGhpcyBjb21tYW5kCiAgICA6dHlwZSB0YWdzOiBEaWN0CiAgICA6cGFyYW0gcHJvcGVydGllczogVGhlIGFzc2V0IHByb3BlcnR5IGRpY3Rpb25hcnkuCiAgICA6dHlwZSBwcm9wZXJ0aWVzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIGRpc3BsYXlfbmFtZTogYSBmcmllbmRseSBuYW1lCiAgICA6dHlwZSBkaXNwbGF5X25hbWU6IHN0cgogICAgOnBhcmFtIGV4cGVyaW1lbnRfbmFtZTogIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdGhlIGpvYiB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIsCiAgICAgICAgaWYgTm9uZSBpcyBwcm92aWRlZCwgZGVmYXVsdCB3aWxsIGJlIHNldCB0byBjdXJyZW50IGRpcmVjdG9yeSBuYW1lLiBXaWxsIGJlIGlnbm9yZWQgYXMgYSBwaXBlbGluZSBzdGVwLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgIDpwYXJhbSBjb21tYW5kOiB0aGUgY29tbWFuZCBzdHJpbmcgdGhhdCB3aWxsIGJlIHJ1bgogICAgOnR5cGUgY29tbWFuZDogc3RyCiAgICA6cGFyYW0gZW52aXJvbm1lbnQ6IHRoZSBlbnZpcm9ubWVudCB0byB1c2UgZm9yIHRoaXMgY29tbWFuZAogICAgOnR5cGUgZW52aXJvbm1lbnQ6IFVuaW9uW3N0ciwgYXp1cmUuYWkubWwuZW50aXRpZXMuRW52aXJvbm1lbnRdCiAgICA6cGFyYW0gZW52aXJvbm1lbnRfdmFyaWFibGVzOiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgdG8gc2V0IG9uIHRoZSBjb21wdXRlIGJlZm9yZSB0aGlzIGNvbW1hbmQgaXMgZXhlY3V0ZWQKICAgIDp0eXBlIGVudmlyb25tZW50X3ZhcmlhYmxlczogZGljdAogICAgOnBhcmFtIGRpc3RyaWJ1dGlvbjogdGhlIGRpc3RyaWJ1dGlvbiBtb2RlIHRvIHVzZSBmb3IgdGhpcyBjb21tYW5kCiAgICA6dHlwZSBkaXN0cmlidXRpb246CiAgICAgICAgVW5pb25bRGljdCwgYXp1cmUuYWkubWwuTXBpRGlzdHJpYnV0aW9uLCBhenVyZS5haS5tbC5UZW5zb3JGbG93RGlzdHJpYnV0aW9uLCBhenVyZS5haS5tbC5QeVRvcmNoRGlzdHJpYnV0aW9uXQogICAgOnBhcmFtIGNvbXB1dGU6IHRoZSBuYW1lIG9mIHRoZSBjb21wdXRlIHdoZXJlIHRoZSBjb21tYW5kIGpvYiBpcyBleGVjdXRlZCgKICAgICAgICB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoZSBjb21tYW5kIGlzIHVzZWQgYXMgYSBjb21wb25lbnQvZnVuY3Rpb24pCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSBpbnB1dHM6IGEgZGljdCBvZiBpbnB1dHMgdXNlZCBieSB0aGlzIGNvbW1hbmQuCiAgICA6dHlwZSBpbnB1dHM6IERpY3QKICAgIDpwYXJhbSBvdXRwdXRzOiB0aGUgb3V0cHV0cyBvZiB0aGlzIGNvbW1hbmQKICAgIDp0eXBlIG91dHB1dHM6IERpY3QKICAgIDpwYXJhbSBpbnN0YW5jZV9jb3VudDogT3B0aW9uYWwgbnVtYmVyIG9mIGluc3RhbmNlcyBvciBub2RlcyB1c2VkIGJ5IHRoZSBjb21wdXRlIHRhcmdldC4gRGVmYXVsdHMgdG8gMS4KICAgIDp2YXJ0eXBlIGluc3RhbmNlX2NvdW50OiBpbnQKICAgIDpwYXJhbSBpbnN0YW5jZV90eXBlOiBPcHRpb25hbCB0eXBlIG9mIFZNIHVzZWQgYXMgc3VwcG9ydGVkIGJ5IHRoZSBjb21wdXRlIHRhcmdldC4KICAgIDp2YXJ0eXBlIGluc3RhbmNlX3R5cGU6IHN0cgogICAgOnBhcmFtIGxvY2F0aW9uczogT3B0aW9uYWwgbGlzdCBvZiBsb2NhdGlvbnMgd2hlcmUgdGhlIGpvYiBjYW4gcnVuLgogICAgOnZhcnR5cGUgbG9jYXRpb25zOiBMaXN0W3N0cl0KICAgIDpwYXJhbSBkb2NrZXJfYXJnczogRXh0cmEgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIERvY2tlciBydW4gY29tbWFuZC4gVGhpcyB3b3VsZCBvdmVycmlkZSBhbnkKICAgICBwYXJhbWV0ZXJzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0IGJ5IHRoZSBzeXN0ZW0sIG9yIGluIHRoaXMgc2VjdGlvbi4gVGhpcyBwYXJhbWV0ZXIgaXMgb25seQogICAgIHN1cHBvcnRlZCBmb3IgQXp1cmUgTUwgY29tcHV0ZSB0eXBlcy4KICAgIDp2YXJ0eXBlIGRvY2tlcl9hcmdzOiBzdHIKICAgIDpwYXJhbSBzaG1fc2l6ZTogU2l6ZSBvZiB0aGUgZG9ja2VyIGNvbnRhaW5lcidzIHNoYXJlZCBtZW1vcnkgYmxvY2suIFRoaXMgc2hvdWxkIGJlIGluIHRoZQogICAgIGZvcm1hdCBvZiAobnVtYmVyKSh1bml0KSB3aGVyZSBudW1iZXIgYXMgdG8gYmUgZ3JlYXRlciB0aGFuIDAgYW5kIHRoZSB1bml0IGNhbiBiZSBvbmUgb2YKICAgICBiKGJ5dGVzKSwgayhraWxvYnl0ZXMpLCBtKG1lZ2FieXRlcyksIG9yIGcoZ2lnYWJ5dGVzKS4KICAgIDp2YXJ0eXBlIHNobV9zaXplOiBzdHIKICAgIDpwYXJhbSB0aW1lb3V0OiBUaGUgbnVtYmVyIGluIHNlY29uZHMsIGFmdGVyIHdoaWNoIHRoZSBqb2Igd2lsbCBiZSBjYW5jZWxsZWQuCiAgICA6dmFydHlwZSB0aW1lb3V0OiBpbnQKICAgIDpwYXJhbSBjb2RlOiB0aGUgY29kZSBmb2xkZXIgdG8gcnVuIC0tIHR5cGljYWxseSBhIGxvY2FsIGZvbGRlciB0aGF0IHdpbGwgYmUgdXBsb2FkZWQgYXMgdGhlIGpvYiBpcyBzdWJtaXR0ZWQKICAgIDp0eXBlIGNvZGU6IFVuaW9uW3N0ciwgb3MuUGF0aExpa2VdCiAgICA6cGFyYW0gaWRlbnRpdHk6IElkZW50aXR5IHRoYXQgdHJhaW5pbmcgam9iIHdpbGwgdXNlIHdoaWxlIHJ1bm5pbmcgb24gY29tcHV0ZS4KICAgIDp0eXBlIGlkZW50aXR5OiBVbmlvblsKICAgICAgICBhenVyZS5haS5tbC5NYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLAogICAgICAgIGF6dXJlLmFpLm1sLkFtbFRva2VuQ29uZmlndXJhdGlvbl0KICAgIDpwYXJhbSBpc19kZXRlcm1pbmlzdGljOiBTcGVjaWZ5IHdoZXRoZXIgdGhlIGNvbW1hbmQgd2lsbCByZXR1cm4gc2FtZSBvdXRwdXQgZ2l2ZW4gc2FtZSBpbnB1dC4KICAgICAgICBJZiBhIGNvbW1hbmQgKGNvbXBvbmVudCkgaXMgZGV0ZXJtaW5pc3RpYywgd2hlbiB1c2UgaXQgYXMgYSBub2RlL3N0ZXAgaW4gYSBwaXBlbGluZSwKICAgICAgICBpdCB3aWxsIHJldXNlIHJlc3VsdHMgZnJvbSBhIHByZXZpb3VzIHN1Ym1pdHRlZCBqb2IgaW4gY3VycmVudCB3b3Jrc3BhY2Ugd2hpY2ggaGFzIHNhbWUgaW5wdXRzIGFuZCBzZXR0aW5ncy4KICAgICAgICBJbiB0aGlzIGNhc2UsIHRoaXMgc3RlcCB3aWxsIG5vdCB1c2UgYW55IGNvbXB1dGUgcmVzb3VyY2UuCiAgICAgICAgRGVmYXVsdCB0byBiZSBUcnVlLCBzcGVjaWZ5IGlzX2RldGVybWluaXN0aWM9RmFsc2UgaWYgeW91IHdvdWxkIGxpa2UgdG8gYXZvaWQgc3VjaCByZXVzZSBiZWhhdmlvci4KICAgIDp0eXBlIGlzX2RldGVybWluaXN0aWM6IGJvb2wKICAgIDpwYXJhbSBzZXJ2aWNlczogSW50ZXJhY3RpdmUgc2VydmljZXMgZm9yIHRoZSBub2RlLiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBwYXJhbWV0ZXIsIGFuZCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lLgogICAgICAgIFBsZWFzZSBzZWUgaHR0cHM6Ly9ha2EubXMvYXp1cmVtbGV4cGVyaW1lbnRhbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgIDp0eXBlIHNlcnZpY2VzOiBEaWN0W3N0ciwgSm9iU2VydmljZV0KICAgICIiIgogICAgIyBweWxpbnQ6IGRpc2FibGU9dG9vLW1hbnktbG9jYWxzCiAgICBpbnB1dHMgPSBpbnB1dHMgb3Ige30KICAgIG91dHB1dHMgPSBvdXRwdXRzIG9yIHt9CiAgICBjb21wb25lbnRfaW5wdXRzLCBqb2JfaW5wdXRzID0gX3BhcnNlX2lucHV0c19vdXRwdXRzKGlucHV0cywgcGFyc2VfZnVuYz1fcGFyc2VfaW5wdXQpCiAgICAjIGpvYiBpbnB1dHMgY2FuIG5vdCBiZSBOb25lCiAgICBqb2JfaW5wdXRzID0ge2s6IHYgZm9yIGssIHYgaW4gam9iX2lucHV0cy5pdGVtcygpIGlmIHYgaXMgbm90IE5vbmV9CiAgICBjb21wb25lbnRfb3V0cHV0cywgam9iX291dHB1dHMgPSBfcGFyc2VfaW5wdXRzX291dHB1dHMob3V0cHV0cywgcGFyc2VfZnVuYz1fcGFyc2Vfb3V0cHV0KQoKICAgIGNvbXBvbmVudCA9IGt3YXJncy5wb3AoImNvbXBvbmVudCIsIE5vbmUpCiAgICBpZiBjb21wb25lbnQgaXMgTm9uZToKICAgICAgICBjb21wb25lbnQgPSBDb21tYW5kQ29tcG9uZW50KAogICAgICAgICAgICBuYW1lPW5hbWUsCiAgICAgICAgICAgIHRhZ3M9dGFncywKICAgICAgICAgICAgY29kZT1jb2RlLAogICAgICAgICAgICBjb21tYW5kPWNvbW1hbmQsCiAgICAgICAgICAgIGVudmlyb25tZW50PWVudmlyb25tZW50LAogICAgICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbiwKICAgICAgICAgICAgaW5wdXRzPWNvbXBvbmVudF9pbnB1dHMsCiAgICAgICAgICAgIG91dHB1dHM9Y29tcG9uZW50X291dHB1dHMsCiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbj1kaXN0cmlidXRpb24sCiAgICAgICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlcz1lbnZpcm9ubWVudF92YXJpYWJsZXMsCiAgICAgICAgICAgIF9zb3VyY2U9Q29tcG9uZW50U291cmNlLkJVSUxERVIsCiAgICAgICAgICAgIGlzX2RldGVybWluaXN0aWM9aXNfZGV0ZXJtaW5pc3RpYywKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQogICAgY29tbWFuZF9vYmogPSBDb21tYW5kKAogICAgICAgIGNvbXBvbmVudD1jb21wb25lbnQsCiAgICAgICAgbmFtZT1uYW1lLAogICAgICAgIGRlc2NyaXB0aW9uPWRlc2NyaXB0aW9uLAogICAgICAgIHRhZ3M9dGFncywKICAgICAgICBwcm9wZXJ0aWVzPXByb3BlcnRpZXMsCiAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLAogICAgICAgIGNvbXB1dGU9Y29tcHV0ZSwKICAgICAgICBpbnB1dHM9am9iX2lucHV0cywKICAgICAgICBvdXRwdXRzPWpvYl9vdXRwdXRzLAogICAgICAgIGlkZW50aXR5PWlkZW50aXR5LAogICAgICAgIGRpc3RyaWJ1dGlvbj1kaXN0cmlidXRpb24sCiAgICAgICAgZW52aXJvbm1lbnQ9ZW52aXJvbm1lbnQsCiAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzPWVudmlyb25tZW50X3ZhcmlhYmxlcywKICAgICAgICBzZXJ2aWNlcz1zZXJ2aWNlcywKICAgICAgICAqKmt3YXJncywKICAgICkKCiAgICBpZiAoCiAgICAgICAgbG9jYXRpb25zIGlzIG5vdCBOb25lCiAgICAgICAgb3IgaW5zdGFuY2VfY291bnQgaXMgbm90IE5vbmUKICAgICAgICBvciBpbnN0YW5jZV90eXBlIGlzIG5vdCBOb25lCiAgICAgICAgb3IgZG9ja2VyX2FyZ3MgaXMgbm90IE5vbmUKICAgICAgICBvciBzaG1fc2l6ZSBpcyBub3QgTm9uZQogICAgKToKICAgICAgICBjb21tYW5kX29iai5zZXRfcmVzb3VyY2VzKAogICAgICAgICAgICBsb2NhdGlvbnM9bG9jYXRpb25zLAogICAgICAgICAgICBpbnN0YW5jZV9jb3VudD1pbnN0YW5jZV9jb3VudCwKICAgICAgICAgICAgaW5zdGFuY2VfdHlwZT1pbnN0YW5jZV90eXBlLAogICAgICAgICAgICBkb2NrZXJfYXJncz1kb2NrZXJfYXJncywKICAgICAgICAgICAgc2htX3NpemU9c2htX3NpemUsCiAgICAgICAgKQoKICAgIGlmIHRpbWVvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgY29tbWFuZF9vYmouc2V0X2xpbWl0cyh0aW1lb3V0PXRpbWVvdXQpCgogICAgaWYgam9iX3RpZXIgaXMgbm90IE5vbmUgb3IgcHJpb3JpdHkgaXMgbm90IE5vbmU6CiAgICAgICAgY29tbWFuZF9vYmouc2V0X3F1ZXVlX3NldHRpbmdzKGpvYl90aWVyPWpvYl90aWVyLCBwcmlvcml0eT1wcmlvcml0eSkKCiAgICByZXR1cm4gY29tbWFuZF9vYmoK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "nV58jAAcfCAu\u002BrkmBGRC4Q==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C2914B2\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "M8AKANBvDPE=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/control_flow_node.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "6050",
        "Content-MD5": "p9hdEVCkbK1zlUw9Phdn9Q==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW1wb3J0IGxvZ2dpbmcKaW1wb3J0IHJlCmltcG9ydCB1dWlkCmZyb20gYWJjIGltcG9ydCBBQkMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIFVuaW9uCgpmcm9tIG1hcnNobWFsbG93IGltcG9ydCBWYWxpZGF0aW9uRXJyb3IKCmZyb20gYXp1cmUuYWkubWwuX3V0aWxzLnV0aWxzIGltcG9ydCBpc19kYXRhX2JpbmRpbmdfZXhwcmVzc2lvbiwgaXNfaW50ZXJuYWxfY29tcG9uZW50c19lbmFibGVkCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21tb24gaW1wb3J0IENvbW1vbllhbWxGaWVsZHMKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29udHJvbEZsb3dUeXBlLCBDb21wb25lbnRTb3VyY2UKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fbWl4aW5zIGltcG9ydCBZYW1sVHJhbnNsYXRhYmxlTWl4aW4KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fdmFsaWRhdGlvbiBpbXBvcnQgU2NoZW1hVmFsaWRhdGFibGVNaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMgaW1wb3J0IEVycm9yQ2F0ZWdvcnksIEVycm9yVGFyZ2V0LCBWYWxpZGF0aW9uRXJyb3JUeXBlCgpmcm9tIC4uX3V0aWwgaW1wb3J0IGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QKZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZQoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCiMgQ29udHJvbEZsb3dOb2RlIGRpZCBub3QgaW5oZXJpdCBmcm9tIEJhc2VOb2RlIHNpbmNlIGl0IGRvZXNuJ3QgaGF2ZSBpbnB1dHMvb3V0cHV0cyBsaWtlIG90aGVyIG5vZGVzLgpjbGFzcyBDb250cm9sRmxvd05vZGUoWWFtbFRyYW5zbGF0YWJsZU1peGluLCBTY2hlbWFWYWxpZGF0YWJsZU1peGluLCBBQkMpOgogICAgIiIiQmFzZSBjbGFzcyBmb3IgY29udHJvbCBmbG93IG5vZGUgaW4gcGlwZWxpbmUuCgogICAgUGxlYXNlIGRvIG5vdCBkaXJlY3RseSB1c2UgdGhpcyBjbGFzcy4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgIyBUT0RPKDE5Nzk1NDcpOiByZWZhY3RvciB0aGlzCiAgICAgICAgX3NvdXJjZSA9IGt3YXJncy5wb3AoIl9zb3VyY2UiLCBOb25lKQogICAgICAgIHNlbGYuX3NvdXJjZSA9IF9zb3VyY2UgaWYgX3NvdXJjZSBlbHNlIENvbXBvbmVudFNvdXJjZS5EU0wKICAgICAgICBfZnJvbV9jb21wb25lbnRfZnVuYyA9IGt3YXJncy5wb3AoIl9mcm9tX2NvbXBvbmVudF9mdW5jIiwgRmFsc2UpCiAgICAgICAgc2VsZi5fdHlwZSA9IGt3YXJncy5nZXQoInR5cGUiLCBOb25lKQogICAgICAgIHNlbGYuX2luc3RhbmNlX2lkID0gc3RyKHV1aWQudXVpZDQoKSkKICAgICAgICBzZWxmLm5hbWUgPSBOb25lCiAgICAgICAgaWYgX2Zyb21fY29tcG9uZW50X2Z1bmM6CiAgICAgICAgICAgICMgYWRkIGN1cnJlbnQgY29udHJvbCBmbG93IG5vZGUgaW4gcGlwZWxpbmUgc3RhY2sgZm9yIGRzbCBzY2VuYXJpbyBhbmQgcmVtb3ZlIHRoZSBib2R5IGZyb20gdGhlIHBpcGVsaW5lCiAgICAgICAgICAgICMgc3RhY2suCiAgICAgICAgICAgIHNlbGYuX3JlZ2lzdGVyX2luX2N1cnJlbnRfcGlwZWxpbmVfY29tcG9uZW50X2J1aWxkZXIoKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHR5cGUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX3R5cGUKCiAgICBkZWYgX3RvX2RpY3Qoc2VsZikgLT4gRGljdDoKICAgICAgICByZXR1cm4gc2VsZi5fZHVtcF9mb3JfdmFsaWRhdGlvbigpCgogICAgZGVmIF90b19yZXN0X29iamVjdChzZWxmLCAqKmt3YXJncykgLT4gZGljdDogICMgcHlsaW50OiBkaXNhYmxlPXVudXNlZC1hcmd1bWVudAogICAgICAgICIiIkNvbnZlcnQgc2VsZiB0byBhIHJlc3Qgb2JqZWN0IGZvciByZW1vdGUgY2FsbC4iIiIKICAgICAgICByZXN0X29iaiA9IHNlbGYuX3RvX2RpY3QoKQogICAgICAgIHJlc3Rfb2JqWyJfc291cmNlIl0gPSBzZWxmLl9zb3VyY2UKICAgICAgICByZXR1cm4gY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdChyZXN0X29iaikKCiAgICBkZWYgX3JlZ2lzdGVyX2luX2N1cnJlbnRfcGlwZWxpbmVfY29tcG9uZW50X2J1aWxkZXIoc2VsZik6CiAgICAgICAgIiIiUmVnaXN0ZXIgdGhpcyBub2RlIGluIGN1cnJlbnQgcGlwZWxpbmUgY29tcG9uZW50IGJ1aWxkZXIgYnkgYWRkaW5nIHNlbGYgdG8gYSBnbG9iYWwgc3RhY2suIiIiCiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5kc2wuX3BpcGVsaW5lX2NvbXBvbmVudF9idWlsZGVyIGltcG9ydCBfYWRkX2NvbXBvbmVudF90b19jdXJyZW50X2RlZmluaXRpb25fYnVpbGRlcgoKICAgICAgICBfYWRkX2NvbXBvbmVudF90b19jdXJyZW50X2RlZmluaXRpb25fYnVpbGRlcihzZWxmKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfdmFsaWRhdGlvbl9lcnJvcl90YXJnZXQoY2xzKSAtPiBFcnJvclRhcmdldDoKICAgICAgICAiIiJSZXR1cm4gdGhlIGVycm9yIHRhcmdldCBvZiB0aGlzIHJlc291cmNlLgoKICAgICAgICBTaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzcy4gVmFsdWUgc2hvdWxkIGJlIGluIEVycm9yVGFyZ2V0IGVudW0uCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIEVycm9yVGFyZ2V0LlBJUEVMSU5FCgoKY2xhc3MgTG9vcE5vZGUoQ29udHJvbEZsb3dOb2RlLCBBQkMpOgogICAgIiIiQmFzZSBjbGFzcyBmb3IgbG9vcCBub2RlIGluIHBpcGVsaW5lLgoKICAgIFBsZWFzZSBkbyBub3QgZGlyZWN0bHkgdXNlIHRoaXMgY2xhc3MuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKiwgYm9keTogVW5pb25bQmFzZU5vZGVdLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5fYm9keSA9IGJvZHkKICAgICAgICBzdXBlcihMb29wTm9kZSwgc2VsZikuX19pbml0X18oKiprd2FyZ3MpCiAgICAgICAgIyBhbHdheXMgc2V0IHRoZSByZWZlcmVuY2VkIGNvbnRyb2wgZmxvdyBub2RlIGluc3RhbmNlIGlkIHRvIHRoZSBib2R5LgogICAgICAgIHNlbGYuYm9keS5fc2V0X3JlZmVyZW5jZWRfY29udHJvbF9mbG93X25vZGVfaW5zdGFuY2VfaWQoc2VsZi5faW5zdGFuY2VfaWQpCgogICAgQHByb3BlcnR5CiAgICBkZWYgYm9keShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fYm9keQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9hdHRyX3R5cGVfbWFwKGNscykgLT4gZGljdDoKICAgICAgICBmcm9tIC5jb21tYW5kIGltcG9ydCBDb21tYW5kCiAgICAgICAgZnJvbSAucGlwZWxpbmUgaW1wb3J0IFBpcGVsaW5lCgogICAgICAgIGVuYWJsZV9ib2R5X3R5cGUgPSAoQ29tbWFuZCwgUGlwZWxpbmUpCiAgICAgICAgaWYgaXNfaW50ZXJuYWxfY29tcG9uZW50c19lbmFibGVkKCk6CiAgICAgICAgICAgIGZyb20gYXp1cmUuYWkubWwuX2ludGVybmFsLmVudGl0aWVzIGltcG9ydCBDb21tYW5kIGFzIEludGVybmFsQ29tbWFuZAogICAgICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9pbnRlcm5hbC5lbnRpdGllcyBpbXBvcnQgUGlwZWxpbmUgYXMgSW50ZXJuYWxQaXBlbGluZQoKICAgICAgICAgICAgZW5hYmxlX2JvZHlfdHlwZSA9IGVuYWJsZV9ib2R5X3R5cGUgKyAoSW50ZXJuYWxDb21tYW5kLCBJbnRlcm5hbFBpcGVsaW5lKQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJib2R5IjogZW5hYmxlX2JvZHlfdHlwZSwKICAgICAgICB9CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2dldF9ib2R5X2Zyb21fcGlwZWxpbmVfam9icyhjbHMsIHBpcGVsaW5lX2pvYnM6IGRpY3QsIGJvZHlfbmFtZTogc3RyKToKICAgICAgICAjIEdldCBib2R5IG9iamVjdCBmcm9tIHBpcGVsaW5lIGpvYiBsaXN0LgogICAgICAgIGlmIGJvZHlfbmFtZSBub3QgaW4gcGlwZWxpbmVfam9iczoKICAgICAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkVycm9yKAogICAgICAgICAgICAgICAgbWVzc2FnZT1mJ0Nhbm5vdCBmaW5kIHRoZSBkby13aGlsZSBsb29wIGJvZHkgIntib2R5X25hbWV9IiBpbiB0aGUgcGlwZWxpbmUuJywKICAgICAgICAgICAgICAgIHRhcmdldD1jbHMuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLAogICAgICAgICAgICAgICAgZXJyb3JfY2F0ZWdvcnk9RXJyb3JDYXRlZ29yeS5VU0VSX0VSUk9SLAogICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICkKICAgICAgICByZXR1cm4gcGlwZWxpbmVfam9ic1tib2R5X25hbWVdCgogICAgZGVmIF92YWxpZGF0ZV9ib2R5KHNlbGYsIHJhaXNlX2Vycm9yPVRydWUpOgogICAgICAgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHNlbGYuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCgogICAgICAgIGlmIHNlbGYuX2luc3RhbmNlX2lkICE9IHNlbGYuYm9keS5fcmVmZXJlbmNlZF9jb250cm9sX2Zsb3dfbm9kZV9pbnN0YW5jZV9pZDoKICAgICAgICAgICAgIyBXaGVuIHRoZSBib2R5IGlzIHVzZWQgaW4gYW5vdGhlciBsb29wIG5vZGUgcmVjb3JkIHRoZSBlcnJvciBtZXNzYWdlIGluIHZhbGlkYXRpb24gcmVzdWx0LgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoImJvZHkiLCAiVGhlIGJvZHkgb2YgbG9vcCBub2RlIGNhbm5vdCBiZSBwcm9tb3RlZCBhcyBhbm90aGVyIGxvb3AgYWdhaW4uIikKICAgICAgICByZXR1cm4gdmFsaWRhdGlvbl9yZXN1bHQudHJ5X3JhaXNlKHNlbGYuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLCByYWlzZV9lcnJvcj1yYWlzZV9lcnJvcikKCiAgICBkZWYgX2dldF9ib2R5X2JpbmRpbmdfc3RyKHNlbGYpOgogICAgICAgIHJldHVybiAiJHt7cGFyZW50LmpvYnMuJXN9fSIgJSBzZWxmLmJvZHkubmFtZQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfZ2V0X2RhdGFfYmluZGluZ19leHByZXNzaW9uX3ZhbHVlKGV4cHJlc3Npb24sIHJlZ2V4KToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIGlzX2RhdGFfYmluZGluZ19leHByZXNzaW9uKGV4cHJlc3Npb24pOgogICAgICAgICAgICAgICAgcmV0dXJuIHJlLmZpbmRhbGwocmVnZXgsIGV4cHJlc3Npb24pWzBdCgogICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246ICAjIHB5bGludDogZGlzYWJsZT1icm9hZC1leGNlcHQKICAgICAgICAgICAgbW9kdWxlX2xvZ2dlci53YXJuaW5nKCJDYW5ub3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIGRhdGEgYmluZGluZyBleHByZXNzaW9uICVzLiIsIGV4cHJlc3Npb24pCiAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9pc19sb29wX25vZGVfZGljdChvYmopOgogICAgICAgIHJldHVybiBvYmouZ2V0KENvbW1vbllhbWxGaWVsZHMuVFlQRSwgTm9uZSkgaW4gW0NvbnRyb2xGbG93VHlwZS5ET19XSElMRSwgQ29udHJvbEZsb3dUeXBlLlBBUkFMTEVMX0ZPUl0KCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdChjbHMsIG9iajogZGljdCwgcGlwZWxpbmVfam9iczogZGljdCkgLT4gIkxvb3BOb2RlIjoKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUuX2xvYWRfY29tcG9uZW50IGltcG9ydCBwaXBlbGluZV9ub2RlX2ZhY3RvcnkKCiAgICAgICAgbm9kZV90eXBlID0gb2JqLmdldChDb21tb25ZYW1sRmllbGRzLlRZUEUsIE5vbmUpCiAgICAgICAgbG9hZF9mcm9tX3Jlc3Rfb2JqX2Z1bmMgPSBwaXBlbGluZV9ub2RlX2ZhY3RvcnkuZ2V0X2xvYWRfZnJvbV9yZXN0X29iamVjdF9mdW5jKF90eXBlPW5vZGVfdHlwZSkKICAgICAgICByZXR1cm4gbG9hZF9mcm9tX3Jlc3Rfb2JqX2Z1bmMob2JqLCBwaXBlbGluZV9qb2JzKQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "p9hdEVCkbK1zlUw9Phdn9Q==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C31C60A\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "TYbvo1WgiBE=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/pipeline.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "7126",
        "Content-MD5": "XfY85i90CQxAeDDOoAXPFA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW1wb3J0IGxvZ2dpbmcKZnJvbSBlbnVtIGltcG9ydCBFbnVtCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmZyb20gbWFyc2htYWxsb3cgaW1wb3J0IFNjaGVtYQoKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY29tcG9uZW50LmNvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50LCBOb2RlVHlwZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9pbnB1dHNfb3V0cHV0cyBpbXBvcnQgSW5wdXQsIE91dHB1dAoKZnJvbSAuLi5fc2NoZW1hIGltcG9ydCBQYXRoQXdhcmVTY2hlbWEKZnJvbSAuLl9qb2IucGlwZWxpbmUucGlwZWxpbmVfam9iX3NldHRpbmdzIGltcG9ydCBQaXBlbGluZUpvYlNldHRpbmdzCmZyb20gLi5fdXRpbCBpbXBvcnQgY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdCwgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUsIGNvcHlfb3V0cHV0X3NldHRpbmcKZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZQoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIFBpcGVsaW5lKEJhc2VOb2RlKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIHBpcGVsaW5lIG5vZGUsIHVzZWQgZm9yIHBpcGVsaW5lIGNvbXBvbmVudCB2ZXJzaW9uIGNvbnN1bXB0aW9uLiBZb3Ugc2hvdWxkIG5vdCBpbnN0YW50aWF0ZSB0aGlzCiAgICBjbGFzcyBkaXJlY3RseS4gSW5zdGVhZCwgeW91IHNob3VsZCB1c2UgQHBpcGVsaW5lIGRlY29yYXRvciB0byBjcmVhdGUgYSBwaXBlbGluZSBub2RlLgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIEBwaXBlbGluZSBkZWNvcmF0b3IuCgogICAgOnBhcmFtIGNvbXBvbmVudDogSWQgb3IgaW5zdGFuY2Ugb2YgdGhlIHBpcGVsaW5lIGNvbXBvbmVudC9qb2IgdG8gYmUgcnVuIGZvciB0aGUgc3RlcAogICAgOnR5cGUgY29tcG9uZW50OiBQaXBlbGluZUNvbXBvbmVudAogICAgOnBhcmFtIGRlc2NyaXB0aW9uOiBEZXNjcmlwdGlvbiBvZiB0aGUgcGlwZWxpbmUgbm9kZS4KICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSBpbnB1dHM6IElucHV0cyBvZiB0aGUgcGlwZWxpbmUgbm9kZS4KICAgIDp0eXBlIGlucHV0czogZGljdAogICAgOnBhcmFtIG91dHB1dHM6IE91dHB1dHMgb2YgdGhlIHBpcGVsaW5lIG5vZGUuCiAgICA6dHlwZSBvdXRwdXRzOiBkaWN0CiAgICA6cGFyYW0gc2V0dGluZ3M6IFNldHRpbmcgb2YgcGlwZWxpbmUgbm9kZSwgb25seSB0YWtpbmcgZWZmZWN0IGZvciByb290IHBpcGVsaW5lIGpvYi4KICAgIDp0eXBlIHNldHRpbmdzOiB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuUGlwZWxpbmVKb2JTZXR0aW5ncwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICBjb21wb25lbnQ6IFVuaW9uW0NvbXBvbmVudCwgc3RyXSwKICAgICAgICBpbnB1dHM6IE9wdGlvbmFsWwogICAgICAgICAgICBEaWN0WwogICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgVW5pb25bCiAgICAgICAgICAgICAgICAgICAgSW5wdXQsCiAgICAgICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgICAgIGJvb2wsCiAgICAgICAgICAgICAgICAgICAgaW50LAogICAgICAgICAgICAgICAgICAgIGZsb2F0LAogICAgICAgICAgICAgICAgICAgIEVudW0sCiAgICAgICAgICAgICAgICAgICAgIklucHV0IiwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIF0KICAgICAgICBdID0gTm9uZSwKICAgICAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXQsICJPdXRwdXQiXV1dID0gTm9uZSwKICAgICAgICBzZXR0aW5nczogT3B0aW9uYWxbUGlwZWxpbmVKb2JTZXR0aW5nc10gPSBOb25lLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIHZhbGlkYXRlIGluaXQgcGFyYW1zIGFyZSB2YWxpZCB0eXBlCiAgICAgICAgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUoYXR0cnNfdG9fY2hlY2s9bG9jYWxzKCksIGF0dHJfdHlwZV9tYXA9c2VsZi5fYXR0cl90eXBlX21hcCgpKQogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQoKICAgICAgICBCYXNlTm9kZS5fX2luaXRfXygKICAgICAgICAgICAgc2VsZiwKICAgICAgICAgICAgdHlwZT1Ob2RlVHlwZS5QSVBFTElORSwKICAgICAgICAgICAgY29tcG9uZW50PWNvbXBvbmVudCwKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLAogICAgICAgICAgICAqKmt3YXJncywKICAgICAgICApCiAgICAgICAgIyBjb3B5IHBpcGVsaW5lIGNvbXBvbmVudCBvdXRwdXQncyBzZXR0aW5nIHRvIG5vZGUgbGV2ZWwKICAgICAgICBzZWxmLl9jb3B5X3BpcGVsaW5lX2NvbXBvbmVudF9vdXRfc2V0dGluZ190b19ub2RlKCkKICAgICAgICBzZWxmLl9zZXR0aW5ncyA9IE5vbmUKICAgICAgICBzZWxmLnNldHRpbmdzID0gc2V0dGluZ3MKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb21wb25lbnQoc2VsZikgLT4gVW5pb25bc3RyLCBDb21wb25lbnRdOgogICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnQKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzZXR0aW5ncyhzZWxmKSAtPiBQaXBlbGluZUpvYlNldHRpbmdzOgogICAgICAgICIiIlNldHRpbmdzIG9mIHRoZSBwaXBlbGluZS4KCiAgICAgICAgTm90ZTogc2V0dGluZ3MgaXMgYXZhaWxhYmxlIG9ubHkgd2hlbiBjcmVhdGUgbm9kZSBhcyBhIGpvYi4KICAgICAgICAgICAgaS5lLiBtbF9jbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKG5vZGUpLgoKICAgICAgICA6cmV0dXJuOiBTZXR0aW5ncyBvZiB0aGUgcGlwZWxpbmUuCiAgICAgICAgOnJ0eXBlOiB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuUGlwZWxpbmVKb2JTZXR0aW5ncwogICAgICAgICIiIgogICAgICAgIGlmIHNlbGYuX3NldHRpbmdzIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuX3NldHRpbmdzID0gUGlwZWxpbmVKb2JTZXR0aW5ncygpCiAgICAgICAgcmV0dXJuIHNlbGYuX3NldHRpbmdzCgogICAgQHNldHRpbmdzLnNldHRlcgogICAgZGVmIHNldHRpbmdzKHNlbGYsIHZhbHVlKToKICAgICAgICBpZiB2YWx1ZSBhbmQgbm90IGlzaW5zdGFuY2UodmFsdWUsIFBpcGVsaW5lSm9iU2V0dGluZ3MpOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoInNldHRpbmdzIG11c3QgYmUgUGlwZWxpbmVKb2JTZXR0aW5ncyBvciBkaWN0IGJ1dCBnb3Qge30iLmZvcm1hdCh0eXBlKHZhbHVlKSkpCiAgICAgICAgc2VsZi5fc2V0dGluZ3MgPSB2YWx1ZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc3VwcG9ydGVkX2lucHV0c190eXBlcyhjbHMpOgogICAgICAgICMgUmV0dXJuIE5vbmUgaGVyZSB0byBza2lwIHZhbGlkYXRpb24sCiAgICAgICAgIyBhcyBpbnB1dCBjb3VsZCBiZSBjdXN0b20gY2xhc3Mgb2JqZWN0KHBhcmFtZXRlciBncm91cCkuCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBfc2tpcF9yZXF1aXJlZF9jb21wdXRlX21pc3NpbmdfdmFsaWRhdGlvbihzZWxmKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc2tpcF9maWVsZHNfaW5fc2NoZW1hX3ZhbGlkYXRpb24oY2xzKSAtPiBMaXN0W3N0cl06CiAgICAgICAgIyBwaXBlbGluZSBjb21wb25lbnQgbXVzdCBiZSBhIGZpbGUgcmVmZXJlbmNlIHdoZW4gbG9hZGluZyBmcm9tIHlhbWwsCiAgICAgICAgIyBzbyB0aGUgY3JlYXRlZCBvYmplY3QgY2FuJ3QgcGFzcyBzY2hlbWEgdmFsaWRhdGlvbi4KICAgICAgICByZXR1cm4gWyJjb21wb25lbnQiXQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9hdHRyX3R5cGVfbWFwKGNscykgLT4gZGljdDoKICAgICAgICAjIFVzZSBsb2NhbCBpbXBvcnQgdG8gYXZvaWQgcmVjdXJzaXZlIHJlZmVyZW5jZSBhcyBCYXNlTm9kZSBpcyBpbXBvcnRlZCBpbiBQaXBlbGluZUNvbXBvbmVudC4KICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBQaXBlbGluZUNvbXBvbmVudAoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiY29tcG9uZW50IjogKHN0ciwgUGlwZWxpbmVDb21wb25lbnQpLAogICAgICAgIH0KCiAgICBkZWYgX3RvX2pvYihzZWxmKToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUucGlwZWxpbmVfam9iIGltcG9ydCBQaXBlbGluZUpvYgoKICAgICAgICByZXR1cm4gUGlwZWxpbmVKb2IoCiAgICAgICAgICAgIG5hbWU9c2VsZi5uYW1lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9c2VsZi5kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXNlbGYuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIHRhZ3M9c2VsZi50YWdzLAogICAgICAgICAgICBwcm9wZXJ0aWVzPXNlbGYucHJvcGVydGllcywKICAgICAgICAgICAgIyBGaWx0ZXIgTm9uZSBvdXQgdG8gYXZvaWQgY2FzZSBiZWxvdyBmYWlsZWQgd2l0aCBjb25mbGljdCBrZXlzIGNoZWNrOgogICAgICAgICAgICAjIGdyb3VwOiBOb25lICh1c2VyIG5vdCBzcGVjaWZpZWQpCiAgICAgICAgICAgICMgZ3JvdXAueHg6IDEgKHVzZXIgc3BlY2lmaWVkCiAgICAgICAgICAgIGlucHV0cz17azogdiBmb3IgaywgdiBpbiBzZWxmLl9qb2JfaW5wdXRzLml0ZW1zKCkgaWYgdn0sCiAgICAgICAgICAgIG91dHB1dHM9c2VsZi5fam9iX291dHB1dHMsCiAgICAgICAgICAgIGNvbXBvbmVudD1zZWxmLmNvbXBvbmVudCwKICAgICAgICAgICAgc2V0dGluZ3M9c2VsZi5zZXR0aW5ncywKICAgICAgICApCgogICAgZGVmIF9jdXN0b21pemVkX3ZhbGlkYXRlKHNlbGYpOgogICAgICAgICIiIkNoZWNrIHVuc3VwcG9ydGVkIHNldHRpbmdzIHdoZW4gdXNlIGFzIGEgbm9kZS4iIiIKICAgICAgICAjIE5vdGU6IHNldHRpbmdzIGlzIG5vdCBzdXBwb3J0ZWQgb24gbm9kZSwKICAgICAgICAjIGpvYnMuY3JlYXRlX29yX3VwZGF0ZShub2RlKSB3aWxsIGNhbGwgbm9kZS5fdG9fam9iKCkgYXQgZmlyc3QsCiAgICAgICAgIyB0aHVzIHdvbid0IHJlYWNoIGhlcmUuCiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgIGZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMgaW1wb3J0IFBpcGVsaW5lQ29tcG9uZW50CgogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gc3VwZXIoUGlwZWxpbmUsIHNlbGYpLl9jdXN0b21pemVkX3ZhbGlkYXRlKCkKICAgICAgICBpZ25vcmVkX2tleXMgPSBQaXBlbGluZUNvbXBvbmVudC5fY2hlY2tfaWdub3JlZF9rZXlzKHNlbGYpCiAgICAgICAgaWYgaWdub3JlZF9rZXlzOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfd2FybmluZyhtZXNzYWdlPWYie2lnbm9yZWRfa2V5c30gaWdub3JlZCBvbiBub2RlIHtzZWxmLm5hbWUhcn0uIikKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuY29tcG9uZW50LCBQaXBlbGluZUNvbXBvbmVudCk6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoc2VsZi5jb21wb25lbnQuX2N1c3RvbWl6ZWRfdmFsaWRhdGUoKSkKICAgICAgICByZXR1cm4gdmFsaWRhdGlvbl9yZXN1bHQKCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHJlc3Rfb2JqID0gc3VwZXIoKS5fdG9fcmVzdF9vYmplY3QoKiprd2FyZ3MpCiAgICAgICAgcmVzdF9vYmoudXBkYXRlKAogICAgICAgICAgICBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0KAogICAgICAgICAgICAgICAgZGljdCgKICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZD1zZWxmLl9nZXRfY29tcG9uZW50X2lkKCksCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICApCiAgICAgICAgcmV0dXJuIHJlc3Rfb2JqCgogICAgZGVmIF9idWlsZF9pbnB1dHMoc2VsZik6CiAgICAgICAgaW5wdXRzID0gc3VwZXIoUGlwZWxpbmUsIHNlbGYpLl9idWlsZF9pbnB1dHMoKQogICAgICAgIGJ1aWx0X2lucHV0cyA9IHt9CiAgICAgICAgIyBWYWxpZGF0ZSBhbmQgcmVtb3ZlIG5vbi1zcGVjaWZpZWQgaW5wdXRzCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHZhbHVlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgYnVpbHRfaW5wdXRzW2tleV0gPSB2YWx1ZQogICAgICAgIHJldHVybiBidWlsdF9pbnB1dHMKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX3NjaGVtYV9mb3JfdmFsaWRhdGlvbihjbHMsIGNvbnRleHQpIC0\u002BIFVuaW9uW1BhdGhBd2FyZVNjaGVtYSwgU2NoZW1hXToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUucGlwZWxpbmVfY29tcG9uZW50IGltcG9ydCBQaXBlbGluZVNjaGVtYQoKICAgICAgICByZXR1cm4gUGlwZWxpbmVTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIGRlZiBfY29weV9waXBlbGluZV9jb21wb25lbnRfb3V0X3NldHRpbmdfdG9fbm9kZShzZWxmKToKICAgICAgICAiIiJDb3B5IHBpcGVsaW5lIGNvbXBvbmVudCBvdXRwdXQncyBzZXR0aW5nIHRvIG5vZGUgbGV2ZWwuIiIiCiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcyBpbXBvcnQgUGlwZWxpbmVDb21wb25lbnQKCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5jb21wb25lbnQsIFBpcGVsaW5lQ29tcG9uZW50KToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZm9yIGtleSwgdmFsIGluIHNlbGYuY29tcG9uZW50Lm91dHB1dHMuaXRlbXMoKToKICAgICAgICAgICAgbm9kZV9vdXRwdXQgPSBzZWxmLm91dHB1dHMuZ2V0KGtleSkKICAgICAgICAgICAgY29weV9vdXRwdXRfc2V0dGluZyhzb3VyY2U9dmFsLCB0YXJnZXQ9bm9kZV9vdXRwdXQpCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "XfY85i90CQxAeDDOoAXPFA==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C31C60A\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "3f1eHruUAaA=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/data_transfer.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "22646",
        "Content-MD5": "nRFeQlJ1MT6LmqCAibNkNw==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKCmltcG9ydCBsb2dnaW5nCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmZyb20gbWFyc2htYWxsb3cgaW1wb3J0IFNjaGVtYQoKZnJvbSBhenVyZS5haS5tbC5fcmVzdGNsaWVudC52MjAyMl8xMF8wMV9wcmV2aWV3Lm1vZGVscyBpbXBvcnQgSm9iQmFzZQpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEuam9iLmRhdGFfdHJhbnNmZXJfam9iIGltcG9ydCAoCiAgICBEYXRhVHJhbnNmZXJDb3B5Sm9iU2NoZW1hLAogICAgRGF0YVRyYW5zZmVySW1wb3J0Sm9iU2NoZW1hLAogICAgRGF0YVRyYW5zZmVyRXhwb3J0Sm9iU2NoZW1hLAopCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0IE5vZGVUeXBlLCBFeHRlcm5hbERhdGFUeXBlLCBEYXRhVHJhbnNmZXJUYXNrVHlwZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuZGF0YXRyYW5zZmVyX2NvbXBvbmVudCBpbXBvcnQgKAogICAgRGF0YVRyYW5zZmVyQ29weUNvbXBvbmVudCwKICAgIERhdGFUcmFuc2ZlckltcG9ydENvbXBvbmVudCwKICAgIERhdGFUcmFuc2ZlckV4cG9ydENvbXBvbmVudCwKICAgIERhdGFUcmFuc2ZlckNvbXBvbmVudCwKKQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuY29tcG9uZW50IGltcG9ydCBDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IElucHV0LCBPdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmRhdGFfdHJhbnNmZXIuZGF0YV90cmFuc2Zlcl9qb2IgaW1wb3J0ICgKICAgIERhdGFUcmFuc2ZlckNvcHlKb2IsCiAgICBEYXRhVHJhbnNmZXJJbXBvcnRKb2IsCiAgICBEYXRhVHJhbnNmZXJFeHBvcnRKb2IsCikKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbW1vbiBpbXBvcnQgQkFTRV9QQVRIX0NPTlRFWFRfS0VZLCBBc3NldFR5cGVzCmZyb20gYXp1cmUuYWkubWwuZXhjZXB0aW9ucyBpbXBvcnQgRXJyb3JDYXRlZ29yeSwgRXJyb3JUYXJnZXQsIFZhbGlkYXRpb25FcnJvclR5cGUsIFZhbGlkYXRpb25FeGNlcHRpb24KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMuZXh0ZXJuYWxfZGF0YSBpbXBvcnQgRGF0YWJhc2UsIEZpbGVTeXN0ZW0KCgpmcm9tIC4uLl9zY2hlbWEgaW1wb3J0IFBhdGhBd2FyZVNjaGVtYQpmcm9tIC4uX3V0aWwgaW1wb3J0ICgKICAgIGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QsCiAgICBsb2FkX2Zyb21fZGljdCwKICAgIHZhbGlkYXRlX2F0dHJpYnV0ZV90eXBlLAopCmZyb20gLmJhc2Vfbm9kZSBpbXBvcnQgQmFzZU5vZGUKZnJvbSAuLl9qb2IucGlwZWxpbmUuX2lvIGltcG9ydCBOb2RlT3V0cHV0Cgptb2R1bGVfbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKZGVmIF9idWlsZF9zb3VyY2Vfc2luayhpb19kaWN0OiBVbmlvbltEaWN0LCBEYXRhYmFzZSwgRmlsZVN5c3RlbV0pOgogICAgaWYgaW9fZGljdCBpcyBOb25lOgogICAgICAgIHJldHVybiBpb19kaWN0CiAgICBpZiBpc2luc3RhbmNlKGlvX2RpY3QsIChEYXRhYmFzZSwgRmlsZVN5c3RlbSkpOgogICAgICAgIGNvbXBvbmVudF9pbyA9IGlvX2RpY3QKICAgIGVsc2U6CiAgICAgICAgaWYgaXNpbnN0YW5jZShpb19kaWN0LCBkaWN0KToKICAgICAgICAgICAgZGF0YV90eXBlID0gaW9fZGljdC5nZXQoInR5cGUiLCBOb25lKQogICAgICAgICAgICBpZiBkYXRhX3R5cGUgPT0gRXh0ZXJuYWxEYXRhVHlwZS5EQVRBQkFTRToKICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbyA9IERhdGFiYXNlKCoqaW9fZGljdCkKICAgICAgICAgICAgZWxpZiBkYXRhX3R5cGUgPT0gRXh0ZXJuYWxEYXRhVHlwZS5GSUxFX1NZU1RFTToKICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbyA9IEZpbGVTeXN0ZW0oKippb19kaWN0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbXNnID0gIlR5cGUgaW4gc291cmNlIG9yIHNpbmsgb25seSBzdXBwb3J0IHt9IGFuZCB7fSwgY3VycmVudGx5IGdvdCB7fS4iCiAgICAgICAgICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdChFeHRlcm5hbERhdGFUeXBlLkRBVEFCQVNFLCBFeHRlcm5hbERhdGFUeXBlLkZJTEVfU1lTVEVNLCBkYXRhX3R5cGUpLAogICAgICAgICAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2cuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICBFeHRlcm5hbERhdGFUeXBlLkRBVEFCQVNFLCBFeHRlcm5hbERhdGFUeXBlLkZJTEVfU1lTVEVNLCAiZGF0YV90eXBlIgogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkRBVEFfVFJBTlNGRVJfSk9CLAogICAgICAgICAgICAgICAgICAgIGVycm9yX2NhdGVnb3J5PUVycm9yQ2F0ZWdvcnkuVVNFUl9FUlJPUiwKICAgICAgICAgICAgICAgICAgICBlcnJvcl90eXBlPVZhbGlkYXRpb25FcnJvclR5cGUuSU5WQUxJRF9WQUxVRSwKICAgICAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBtc2cgPSAiU291cmNlIG9yIHNpbmsgb25seSBzdXBwb3J0IGRpY3QsIERhdGFiYXNlIGFuZCBGaWxlU3lzdGVtIgogICAgICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgbWVzc2FnZT1tc2csCiAgICAgICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLAogICAgICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkRBVEFfVFJBTlNGRVJfSk9CLAogICAgICAgICAgICAgICAgZXJyb3JfY2F0ZWdvcnk9RXJyb3JDYXRlZ29yeS5VU0VSX0VSUk9SLAogICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICkKCiAgICByZXR1cm4gY29tcG9uZW50X2lvCgoKY2xhc3MgRGF0YVRyYW5zZmVyKEJhc2VOb2RlKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIGRhdGEgdHJhbnNmZXIgbm9kZSwgdXNlZCBmb3IgZGF0YSB0cmFuc2ZlciBjb21wb25lbnQgdmVyc2lvbiBjb25zdW1wdGlvbi4KCiAgICBZb3Ugc2hvdWxkIG5vdCBpbnN0YW50aWF0ZSB0aGlzIGNsYXNzIGRpcmVjdGx5LgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICBjb21wb25lbnQ6IFVuaW9uW3N0ciwgRGF0YVRyYW5zZmVyQ29weUNvbXBvbmVudF0sCiAgICAgICAgY29tcHV0ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgaW5wdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bTm9kZU91dHB1dCwgSW5wdXQsIHN0cl1dXSA9IE5vbmUsCiAgICAgICAgb3V0cHV0czogT3B0aW9uYWxbRGljdFtzdHIsIFVuaW9uW3N0ciwgT3V0cHV0XV1dID0gTm9uZSwKICAgICAgICAqKmt3YXJncywKICAgICk6CiAgICAgICAgIyByZXNvbHZlIG5vcm1hbCBkaWN0IHRvIGRpY3Rbc3RyLCBKb2JTZXJ2aWNlXQogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIHR5cGU9Tm9kZVR5cGUuREFUQV9UUkFOU0ZFUiwKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLAogICAgICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb21wb25lbnQoc2VsZikgLT4gVW5pb25bc3RyLCBEYXRhVHJhbnNmZXJDb21wb25lbnRdOgogICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnQKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfbG9hZF9mcm9tX3Jlc3Rfam9iKGNscywgb2JqOiBKb2JCYXNlKSAtPiAiRGF0YVRyYW5zZmVyIjoKICAgICAgICAjIFRvZG86IG5lZWQgdXBkYXRlIHJlc3QgYXBpCiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiTm90IHN1cHBvcnQgc3VibWl0IHN0YW5kYWxvbmUgam9iIGZvciBub3ciKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc3VwcG9ydGVkX291dHB1dHNfdHlwZXMoY2xzKToKICAgICAgICByZXR1cm4gc3RyLCBPdXRwdXQKCiAgICBkZWYgX2J1aWxkX2lucHV0cyhzZWxmKToKICAgICAgICBpbnB1dHMgPSBzdXBlcihEYXRhVHJhbnNmZXIsIHNlbGYpLl9idWlsZF9pbnB1dHMoKQogICAgICAgIGJ1aWx0X2lucHV0cyA9IHt9CiAgICAgICAgIyBWYWxpZGF0ZSBhbmQgcmVtb3ZlIG5vbi1zcGVjaWZpZWQgaW5wdXRzCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHZhbHVlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgYnVpbHRfaW5wdXRzW2tleV0gPSB2YWx1ZQoKICAgICAgICByZXR1cm4gYnVpbHRfaW5wdXRzCgoKY2xhc3MgRGF0YVRyYW5zZmVyQ29weShEYXRhVHJhbnNmZXIpOgogICAgIiIiQmFzZSBjbGFzcyBmb3IgZGF0YSB0cmFuc2ZlciBjb3B5IG5vZGUuCgogICAgWW91IHNob3VsZCBub3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gSW5zdGVhZCwgeW91IHNob3VsZAogICAgY3JlYXRlIGZyb20gYnVpbGRlciBmdW5jdGlvbjogY29weV9kYXRhLgoKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9yIGluc3RhbmNlIG9mIHRoZSBkYXRhIHRyYW5zZmVyIGNvbXBvbmVudC9qb2IgdG8gYmUgcnVuIGZvciB0aGUgc3RlcAogICAgOnR5cGUgY29tcG9uZW50OiBEYXRhVHJhbnNmZXJDb3B5Q29tcG9uZW50CiAgICA6cGFyYW0gaW5wdXRzOiBJbnB1dHMgdG8gdGhlIGRhdGEgdHJhbnNmZXIuCiAgICA6dHlwZSBpbnB1dHM6IERpY3Rbc3RyLCBVbmlvbltOb2RlT3V0cHV0LCBJbnB1dCwgc3RyXV0KICAgIDpwYXJhbSBvdXRwdXRzOiBNYXBwaW5nIG9mIG91dHB1dCBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIG91dHB1dHM6IERpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dCwgZGljdF1dCiAgICA6cGFyYW0gbmFtZTogTmFtZSBvZiB0aGUgZGF0YSB0cmFuc2Zlci4KICAgIDp0eXBlIG5hbWU6IHN0cgogICAgOnBhcmFtIGRlc2NyaXB0aW9uOiBEZXNjcmlwdGlvbiBvZiB0aGUgZGF0YSB0cmFuc2Zlci4KICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSB0YWdzOiBUYWcgZGljdGlvbmFyeS4gVGFncyBjYW4gYmUgYWRkZWQsIHJlbW92ZWQsIGFuZCB1cGRhdGVkLgogICAgOnR5cGUgdGFnczogZGljdFtzdHIsIHN0cl0KICAgIDpwYXJhbSBkaXNwbGF5X25hbWU6IERpc3BsYXkgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgZGlzcGxheV9uYW1lOiBzdHIKICAgIDpwYXJhbSBleHBlcmltZW50X25hbWU6ICBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLAogICAgICAgIGlmIE5vbmUgaXMgcHJvdmlkZWQsIGRlZmF1bHQgd2lsbCBiZSBzZXQgdG8gY3VycmVudCBkaXJlY3RvcnkgbmFtZS4KICAgIDp0eXBlIGV4cGVyaW1lbnRfbmFtZTogc3RyCiAgICA6cGFyYW0gY29tcHV0ZTogVGhlIGNvbXB1dGUgdGFyZ2V0IHRoZSBqb2IgcnVucyBvbi4KICAgIDp0eXBlIGNvbXB1dGU6IHN0cgogICAgOnBhcmFtIHRhc2s6IHRhc2sgdHlwZSBpbiBkYXRhIHRyYW5zZmVyIGNvbXBvbmVudCwgcG9zc2libGUgdmFsdWUgaXMgImNvcHlfZGF0YSIuCiAgICA6dHlwZSB0YXNrOiBzdHIKICAgIDpwYXJhbSBkYXRhX2NvcHlfbW9kZTogZGF0YSBjb3B5IG1vZGUgaW4gY29weSB0YXNrLCBwb3NzaWJsZSB2YWx1ZSBpcyAibWVyZ2Vfd2l0aF9vdmVyd3JpdGUiLCAiZmFpbF9pZl9jb25mbGljdCIuCiAgICA6dHlwZSBkYXRhX2NvcHlfbW9kZTogc3RyCiAgICA6cmFpc2VzIH5henVyZS5haS5tbC5leGNlcHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb246IFJhaXNlZCBpZiBEYXRhVHJhbnNmZXJDb3B5IGNhbm5vdCBiZSBzdWNjZXNzZnVsbHkgdmFsaWRhdGVkLgogICAgICAgIERldGFpbHMgd2lsbCBiZSBwcm92aWRlZCBpbiB0aGUgZXJyb3IgbWVzc2FnZS4KICAgICIiIgoKICAgICMgcHlsaW50OiBkaXNhYmxlPXRvby1tYW55LWluc3RhbmNlLWF0dHJpYnV0ZXMKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgY29tcG9uZW50OiBVbmlvbltzdHIsIERhdGFUcmFuc2ZlckNvcHlDb21wb25lbnRdLAogICAgICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIGlucHV0czogT3B0aW9uYWxbRGljdFtzdHIsIFVuaW9uW05vZGVPdXRwdXQsIElucHV0LCBzdHJdXV0gPSBOb25lLAogICAgICAgIG91dHB1dHM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dF1dXSA9IE5vbmUsCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IERhdGFUcmFuc2ZlclRhc2tUeXBlLkNPUFlfREFUQSwKICAgICAgICBkYXRhX2NvcHlfbW9kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsCiAgICApOgogICAgICAgICMgdmFsaWRhdGUgaW5pdCBwYXJhbXMgYXJlIHZhbGlkIHR5cGUKICAgICAgICB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZShhdHRyc190b19jaGVjaz1sb2NhbHMoKSwgYXR0cl90eXBlX21hcD1zZWxmLl9hdHRyX3R5cGVfbWFwKCkpCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLAogICAgICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgICAgICAjIGluaXQgbWFyayBmb3IgX0F0dHJEaWN0CiAgICAgICAgc2VsZi5faW5pdCA9IFRydWUKICAgICAgICBzZWxmLnRhc2sgPSB0YXNrCiAgICAgICAgc2VsZi5kYXRhX2NvcHlfbW9kZSA9IGRhdGFfY29weV9tb2RlCiAgICAgICAgaXNfY29tcG9uZW50ID0gaXNpbnN0YW5jZShjb21wb25lbnQsIERhdGFUcmFuc2ZlckNvcHlDb21wb25lbnQpCiAgICAgICAgaWYgaXNfY29tcG9uZW50OgogICAgICAgICAgICBzZWxmLnRhc2sgPSBjb21wb25lbnQudGFzayBvciBzZWxmLnRhc2sKICAgICAgICAgICAgc2VsZi5kYXRhX2NvcHlfbW9kZSA9IGNvbXBvbmVudC5kYXRhX2NvcHlfbW9kZSBvciBzZWxmLmRhdGFfY29weV9tb2RlCiAgICAgICAgc2VsZi5faW5pdCA9IEZhbHNlCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJjb21wb25lbnQiOiAoc3RyLCBEYXRhVHJhbnNmZXJDb3B5Q29tcG9uZW50KSwKICAgICAgICB9CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZV9zY2hlbWFfZm9yX3ZhbGlkYXRpb24oY2xzLCBjb250ZXh0KSAtPiBVbmlvbltQYXRoQXdhcmVTY2hlbWEsIFNjaGVtYV06CiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5fc2NoZW1hLnBpcGVsaW5lIGltcG9ydCBEYXRhVHJhbnNmZXJDb3B5U2NoZW1hCgogICAgICAgIHJldHVybiBEYXRhVHJhbnNmZXJDb3B5U2NoZW1hKGNvbnRleHQ9Y29udGV4dCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfcGlja2VkX2ZpZWxkc19mcm9tX2RpY3RfdG9fcmVzdF9vYmplY3QoY2xzKSAtPiBMaXN0W3N0cl06CiAgICAgICAgcmV0dXJuIFsidHlwZSIsICJ0YXNrIiwgImRhdGFfY29weV9tb2RlIl0KCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHJlc3Rfb2JqID0gc3VwZXIoKS5fdG9fcmVzdF9vYmplY3QoKiprd2FyZ3MpCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4geyJjb21wb25lbnRJZCI6IHNlbGYuX2dldF9jb21wb25lbnRfaWQoKSwgImRhdGFfY29weV9tb2RlIjogc2VsZi5kYXRhX2NvcHlfbW9kZX0uaXRlbXMoKToKICAgICAgICAgICAgaWYgdmFsdWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZXN0X29ialtrZXldID0gdmFsdWUKICAgICAgICByZXR1cm4gY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdChyZXN0X29iaikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfbG9hZF9mcm9tX2RpY3QoY2xzLCBkYXRhOiBEaWN0LCBjb250ZXh0OiBEaWN0LCBhZGRpdGlvbmFsX21lc3NhZ2U6IHN0ciwgKiprd2FyZ3MpIC0\u002BICJTcGFyayI6CiAgICAgICAgZnJvbSAuZGF0YV90cmFuc2Zlcl9mdW5jIGltcG9ydCBjb3B5X2RhdGEKCiAgICAgICAgbG9hZGVkX2RhdGEgPSBsb2FkX2Zyb21fZGljdChEYXRhVHJhbnNmZXJDb3B5Sm9iU2NoZW1hLCBkYXRhLCBjb250ZXh0LCBhZGRpdGlvbmFsX21lc3NhZ2UsICoqa3dhcmdzKQogICAgICAgIGRhdGFfdHJhbnNmZXJfam9iID0gY29weV9kYXRhKGJhc2VfcGF0aD1jb250ZXh0W0JBU0VfUEFUSF9DT05URVhUX0tFWV0sICoqbG9hZGVkX2RhdGEpCgogICAgICAgIHJldHVybiBkYXRhX3RyYW5zZmVyX2pvYgoKICAgIGRlZiBfdG9fam9iKHNlbGYpIC0\u002BIERhdGFUcmFuc2ZlckNvcHlKb2I6CiAgICAgICAgcmV0dXJuIERhdGFUcmFuc2ZlckNvcHlKb2IoCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1zZWxmLmV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249c2VsZi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgdGFncz1zZWxmLnRhZ3MsCiAgICAgICAgICAgIHN0YXR1cz1zZWxmLnN0YXR1cywKICAgICAgICAgICAgaW5wdXRzPXNlbGYuX2pvYl9pbnB1dHMsCiAgICAgICAgICAgIG91dHB1dHM9c2VsZi5fam9iX291dHB1dHMsCiAgICAgICAgICAgIHNlcnZpY2VzPXNlbGYuc2VydmljZXMsCiAgICAgICAgICAgIGNvbXB1dGU9c2VsZi5jb21wdXRlLAogICAgICAgICAgICB0YXNrPXNlbGYudGFzaywKICAgICAgICAgICAgZGF0YV9jb3B5X21vZGU9c2VsZi5kYXRhX2NvcHlfbW9kZSwKICAgICAgICApCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsICphcmdzLCAqKmt3YXJncykgLT4gIkRhdGFUcmFuc2ZlckNvcHkiOgogICAgICAgICIiIkNhbGwgRGF0YVRyYW5zZmVyQ29weSBhcyBhIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgbmV3IGluc3RhbmNlIGVhY2ggdGltZS4iIiIKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuX2NvbXBvbmVudCwgQ29tcG9uZW50KToKICAgICAgICAgICAgIyBjYWxsIHRoaXMgdG8gdmFsaWRhdGUgaW5wdXRzCiAgICAgICAgICAgIG5vZGUgPSBzZWxmLl9jb21wb25lbnQoKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICAjIG1lcmdlIGlucHV0cwogICAgICAgICAgICBmb3IgbmFtZSwgb3JpZ2luYWxfaW5wdXQgaW4gc2VsZi5pbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIG5hbWUgbm90IGluIGt3YXJncy5rZXlzKCk6CiAgICAgICAgICAgICAgICAgICAgIyB1c2Ugc2V0YXR0ciBoZXJlIHRvIG1ha2Ugc3VyZSBvd25lciBvZiBpbnB1dCB3b24ndCBjaGFuZ2UKICAgICAgICAgICAgICAgICAgICBzZXRhdHRyKG5vZGUuaW5wdXRzLCBuYW1lLCBvcmlnaW5hbF9pbnB1dC5fZGF0YSkKICAgICAgICAgICAgICAgICAgICBub2RlLl9qb2JfaW5wdXRzW25hbWVdID0gb3JpZ2luYWxfaW5wdXQuX2RhdGEKICAgICAgICAgICAgICAgICMgZ2V0IG91dHB1dHMKICAgICAgICAgICAgZm9yIG5hbWUsIG9yaWdpbmFsX291dHB1dCBpbiBzZWxmLm91dHB1dHMuaXRlbXMoKToKICAgICAgICAgICAgICAgICMgdXNlIHNldGF0dHIgaGVyZSB0byBtYWtlIHN1cmUgb3duZXIgb2YgaW5wdXQgd29uJ3QgY2hhbmdlCiAgICAgICAgICAgICAgICBzZXRhdHRyKG5vZGUub3V0cHV0cywgbmFtZSwgb3JpZ2luYWxfb3V0cHV0Ll9kYXRhKQogICAgICAgICAgICBzZWxmLl9yZWZpbmVfb3B0aW9uYWxfaW5wdXRzX3dpdGhfbm9fdmFsdWUobm9kZSwga3dhcmdzKQogICAgICAgICAgICAjIHNldCBkZWZhdWx0IHZhbHVlczogY29tcHV0ZSwgZW52aXJvbm1lbnRfdmFyaWFibGVzLCBvdXRwdXRzCiAgICAgICAgICAgIG5vZGUuX25hbWUgPSBzZWxmLm5hbWUKICAgICAgICAgICAgbm9kZS5jb21wdXRlID0gc2VsZi5jb21wdXRlCiAgICAgICAgICAgIG5vZGUudGFncyA9IHNlbGYudGFncwogICAgICAgICAgICAjIFBhc3MgdGhyb3VnaCB0aGUgZGlzcGxheSBuYW1lIG9ubHkgaWYgdGhlIGRpc3BsYXkgbmFtZSBpcyBub3Qgc3lzdGVtIGdlbmVyYXRlZC4KICAgICAgICAgICAgbm9kZS5kaXNwbGF5X25hbWUgPSBzZWxmLmRpc3BsYXlfbmFtZSBpZiBzZWxmLmRpc3BsYXlfbmFtZSAhPSBzZWxmLm5hbWUgZWxzZSBOb25lCiAgICAgICAgICAgIHJldHVybiBub2RlCiAgICAgICAgbXNnID0gImNvcHlfZGF0YSBjYW4gYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24gb25seSB3aGVuIHJlZmVyZW5jZWQgY29tcG9uZW50IGlzIHt9LCBjdXJyZW50bHkgZ290IHt9LiIKICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICBtZXNzYWdlPW1zZy5mb3JtYXQodHlwZShDb21wb25lbnQpLCBzZWxmLl9jb21wb25lbnQpLAogICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLmZvcm1hdCh0eXBlKENvbXBvbmVudCksICJzZWxmLl9jb21wb25lbnQiKSwKICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkRBVEFfVFJBTlNGRVJfSk9CLAogICAgICAgICAgICBlcnJvcl90eXBlPVZhbGlkYXRpb25FcnJvclR5cGUuSU5WQUxJRF9WQUxVRSwKICAgICAgICApCgoKY2xhc3MgRGF0YVRyYW5zZmVySW1wb3J0KERhdGFUcmFuc2Zlcik6CiAgICAiIiJCYXNlIGNsYXNzIGZvciBkYXRhIHRyYW5zZmVyIGltcG9ydCBub2RlLgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIGJ1aWxkZXIgZnVuY3Rpb246IGltcG9ydF9kYXRhLgoKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9mIHRoZSBkYXRhIHRyYW5zZmVyIGJ1aWx0IGluIGNvbXBvbmVudCB0byBiZSBydW4gZm9yIHRoZSBzdGVwCiAgICA6dHlwZSBjb21wb25lbnQ6IHN0cgogICAgOnBhcmFtIHNvdXJjZTogVGhlIGRhdGEgc291cmNlIG9mIGZpbGUgc3lzdGVtIG9yIGRhdGFiYXNlCiAgICA6dHlwZSBzb3VyY2U6IFVuaW9uW0RpY3QsIERhdGFiYXNlLCBGaWxlU3lzdGVtXQogICAgOnBhcmFtIG91dHB1dHM6IE1hcHBpbmcgb2Ygb3V0cHV0IGRhdGEgYmluZGluZ3MgdXNlZCBpbiB0aGUgam9iLgogICAgOnR5cGUgb3V0cHV0czogRGljdFtzdHIsIFVuaW9uW3N0ciwgT3V0cHV0LCBkaWN0XV0KICAgIDpwYXJhbSBuYW1lOiBOYW1lIG9mIHRoZSBkYXRhIHRyYW5zZmVyLgogICAgOnR5cGUgbmFtZTogc3RyCiAgICA6cGFyYW0gZGVzY3JpcHRpb246IERlc2NyaXB0aW9uIG9mIHRoZSBkYXRhIHRyYW5zZmVyLgogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZyBkaWN0aW9uYXJ5LiBUYWdzIGNhbiBiZSBhZGRlZCwgcmVtb3ZlZCwgYW5kIHVwZGF0ZWQuCiAgICA6dHlwZSB0YWdzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIGRpc3BsYXlfbmFtZTogRGlzcGxheSBuYW1lIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBkaXNwbGF5X25hbWU6IHN0cgogICAgOnBhcmFtIGV4cGVyaW1lbnRfbmFtZTogIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdGhlIGpvYiB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIsCiAgICAgICAgaWYgTm9uZSBpcyBwcm92aWRlZCwgZGVmYXVsdCB3aWxsIGJlIHNldCB0byBjdXJyZW50IGRpcmVjdG9yeSBuYW1lLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgIDpwYXJhbSBjb21wdXRlOiBUaGUgY29tcHV0ZSB0YXJnZXQgdGhlIGpvYiBydW5zIG9uLgogICAgOnR5cGUgY29tcHV0ZTogc3RyCiAgICA6cGFyYW0gdGFzazogdGFzayB0eXBlIGluIGRhdGEgdHJhbnNmZXIgY29tcG9uZW50LCBwb3NzaWJsZSB2YWx1ZSBpcyAiaW1wb3J0X2RhdGEiLgogICAgOnR5cGUgdGFzazogc3RyCiAgICA6cmFpc2VzIH5henVyZS5haS5tbC5leGNlcHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb246IFJhaXNlZCBpZiBEYXRhVHJhbnNmZXJJbXBvcnQgY2Fubm90IGJlIHN1Y2Nlc3NmdWxseSB2YWxpZGF0ZWQuCiAgICAgICAgRGV0YWlscyB3aWxsIGJlIHByb3ZpZGVkIGluIHRoZSBlcnJvciBtZXNzYWdlLgogICAgIiIiCgogICAgIyBweWxpbnQ6IGRpc2FibGU9dG9vLW1hbnktaW5zdGFuY2UtYXR0cmlidXRlcwogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICBjb21wb25lbnQ6IFVuaW9uW3N0ciwgRGF0YVRyYW5zZmVySW1wb3J0Q29tcG9uZW50XSwKICAgICAgICBjb21wdXRlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBzb3VyY2U6IE9wdGlvbmFsW1VuaW9uW0RpY3QsIERhdGFiYXNlLCBGaWxlU3lzdGVtXV0gPSBOb25lLAogICAgICAgIG91dHB1dHM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dF1dXSA9IE5vbmUsCiAgICAgICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IERhdGFUcmFuc2ZlclRhc2tUeXBlLklNUE9SVF9EQVRBLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIHZhbGlkYXRlIGluaXQgcGFyYW1zIGFyZSB2YWxpZCB0eXBlCiAgICAgICAgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUoYXR0cnNfdG9fY2hlY2s9bG9jYWxzKCksIGF0dHJfdHlwZV9tYXA9c2VsZi5fYXR0cl90eXBlX21hcCgpKQogICAgICAgIHN1cGVyKERhdGFUcmFuc2ZlckltcG9ydCwgc2VsZikuX19pbml0X18oCiAgICAgICAgICAgIGNvbXBvbmVudD1jb21wb25lbnQsCiAgICAgICAgICAgIG91dHB1dHM9b3V0cHV0cywKICAgICAgICAgICAgY29tcHV0ZT1jb21wdXRlLAogICAgICAgICAgICAqKmt3YXJncywKICAgICAgICApCiAgICAgICAgIyBpbml0IG1hcmsgZm9yIF9BdHRyRGljdAogICAgICAgIHNlbGYuX2luaXQgPSBUcnVlCiAgICAgICAgc2VsZi50YXNrID0gdGFzawogICAgICAgIGlzX2NvbXBvbmVudCA9IGlzaW5zdGFuY2UoY29tcG9uZW50LCBEYXRhVHJhbnNmZXJJbXBvcnRDb21wb25lbnQpCiAgICAgICAgaWYgaXNfY29tcG9uZW50OgogICAgICAgICAgICBzZWxmLnRhc2sgPSBjb21wb25lbnQudGFzayBvciBzZWxmLnRhc2sKICAgICAgICBzZWxmLnNvdXJjZSA9IF9idWlsZF9zb3VyY2Vfc2luayhzb3VyY2UpCiAgICAgICAgc2VsZi5faW5pdCA9IEZhbHNlCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJjb21wb25lbnQiOiAoc3RyLCBEYXRhVHJhbnNmZXJJbXBvcnRDb21wb25lbnQpLAogICAgICAgIH0KCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX3NjaGVtYV9mb3JfdmFsaWRhdGlvbihjbHMsIGNvbnRleHQpIC0\u002BIFVuaW9uW1BhdGhBd2FyZVNjaGVtYSwgU2NoZW1hXToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUgaW1wb3J0IERhdGFUcmFuc2ZlckltcG9ydFNjaGVtYQoKICAgICAgICByZXR1cm4gRGF0YVRyYW5zZmVySW1wb3J0U2NoZW1hKGNvbnRleHQ9Y29udGV4dCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfcGlja2VkX2ZpZWxkc19mcm9tX2RpY3RfdG9fcmVzdF9vYmplY3QoY2xzKSAtPiBMaXN0W3N0cl06CiAgICAgICAgcmV0dXJuIFsidHlwZSIsICJ0YXNrIiwgInNvdXJjZSJdCgogICAgZGVmIF9jdXN0b21pemVkX3ZhbGlkYXRlKHNlbGYpOgogICAgICAgIHJlc3VsdCA9IHN1cGVyKCkuX2N1c3RvbWl6ZWRfdmFsaWRhdGUoKQogICAgICAgIGlmIHNlbGYuc291cmNlIGlzIE5vbmU6CiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9InNvdXJjZSIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPSJTb3VyY2UgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgaW1wb3J0IGRhdGEgdGFzayBpbiBEYXRhVHJhbnNmZXIgam9iIiwKICAgICAgICAgICAgKQogICAgICAgIGlmIGxlbihzZWxmLm91dHB1dHMpICE9IDEgb3IgbGlzdChzZWxmLm91dHB1dHMua2V5cygpKVswXSAhPSAic2luayI6CiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9Im91dHB1dHMuc2luayIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPSJPdXRwdXRzIGZpZWxkIG9ubHkgc3VwcG9ydCBvbmUgb3V0cHV0IGNhbGxlZCBzaW5rIGluIGltcG9ydCB0YXNrIiwKICAgICAgICAgICAgKQogICAgICAgIGlmICJzaW5rIiBpbiBzZWxmLm91dHB1dHMgYW5kIGlzaW5zdGFuY2Uoc2VsZi5vdXRwdXRzWyJzaW5rIl0uX2RhdGEsIE91dHB1dCk6CiAgICAgICAgICAgIHNpbmtfb3V0cHV0ID0gc2VsZi5vdXRwdXRzWyJzaW5rIl0uX2RhdGEKICAgICAgICAgICAgaWYgKHNlbGYuc291cmNlLnR5cGUgPT0gRXh0ZXJuYWxEYXRhVHlwZS5EQVRBQkFTRSBhbmQgc2lua19vdXRwdXQudHlwZSAhPSBBc3NldFR5cGVzLk1MVEFCTEUpIG9yICgKICAgICAgICAgICAgICAgIHNlbGYuc291cmNlLnR5cGUgPT0gRXh0ZXJuYWxEYXRhVHlwZS5GSUxFX1NZU1RFTSBhbmQgc2lua19vdXRwdXQudHlwZSAhPSBBc3NldFR5cGVzLlVSSV9GT0xERVIKICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJvdXRwdXRzLnNpbmsudHlwZSIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT0iT3V0cHV0cyBmaWVsZCBvbmx5IHN1cHBvcnQgdHlwZSB7fSBmb3Ige30gYW5kIHt9IGZvciB7fSIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVybmFsRGF0YVR5cGUuREFUQUJBU0UsCiAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0VHlwZXMuVVJJX0ZPTERFUiwKICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZXJuYWxEYXRhVHlwZS5GSUxFX1NZU1RFTSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgKQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHJlc3Rfb2JqID0gc3VwZXIoKS5fdG9fcmVzdF9vYmplY3QoKiprd2FyZ3MpCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gewogICAgICAgICAgICAiY29tcG9uZW50SWQiOiBzZWxmLl9nZXRfY29tcG9uZW50X2lkKCksCiAgICAgICAgfS5pdGVtcygpOgogICAgICAgICAgICBpZiB2YWx1ZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJlc3Rfb2JqW2tleV0gPSB2YWx1ZQogICAgICAgIHJldHVybiBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0KHJlc3Rfb2JqKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sb2FkX2Zyb21fZGljdChjbHMsIGRhdGE6IERpY3QsIGNvbnRleHQ6IERpY3QsIGFkZGl0aW9uYWxfbWVzc2FnZTogc3RyLCAqKmt3YXJncykgLT4gIkRhdGFUcmFuc2ZlckltcG9ydCI6CiAgICAgICAgZnJvbSAuZGF0YV90cmFuc2Zlcl9mdW5jIGltcG9ydCBpbXBvcnRfZGF0YQoKICAgICAgICBsb2FkZWRfZGF0YSA9IGxvYWRfZnJvbV9kaWN0KERhdGFUcmFuc2ZlckltcG9ydEpvYlNjaGVtYSwgZGF0YSwgY29udGV4dCwgYWRkaXRpb25hbF9tZXNzYWdlLCAqKmt3YXJncykKICAgICAgICBkYXRhX3RyYW5zZmVyX2pvYiA9IGltcG9ydF9kYXRhKGJhc2VfcGF0aD1jb250ZXh0W0JBU0VfUEFUSF9DT05URVhUX0tFWV0sICoqbG9hZGVkX2RhdGEpCgogICAgICAgIHJldHVybiBkYXRhX3RyYW5zZmVyX2pvYgoKICAgIGRlZiBfdG9fam9iKHNlbGYpIC0\u002BIERhdGFUcmFuc2ZlckltcG9ydEpvYjoKICAgICAgICByZXR1cm4gRGF0YVRyYW5zZmVySW1wb3J0Sm9iKAogICAgICAgICAgICBleHBlcmltZW50X25hbWU9c2VsZi5leHBlcmltZW50X25hbWUsCiAgICAgICAgICAgIG5hbWU9c2VsZi5uYW1lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9c2VsZi5kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXNlbGYuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIHRhZ3M9c2VsZi50YWdzLAogICAgICAgICAgICBzdGF0dXM9c2VsZi5zdGF0dXMsCiAgICAgICAgICAgIHNvdXJjZT1zZWxmLnNvdXJjZSwKICAgICAgICAgICAgb3V0cHV0cz1zZWxmLl9qb2Jfb3V0cHV0cywKICAgICAgICAgICAgc2VydmljZXM9c2VsZi5zZXJ2aWNlcywKICAgICAgICAgICAgY29tcHV0ZT1zZWxmLmNvbXB1dGUsCiAgICAgICAgICAgIHRhc2s9c2VsZi50YXNrLAogICAgICAgICkKCgpjbGFzcyBEYXRhVHJhbnNmZXJFeHBvcnQoRGF0YVRyYW5zZmVyKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIGRhdGEgdHJhbnNmZXIgZXhwb3J0IG5vZGUuCgogICAgWW91IHNob3VsZCBub3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gSW5zdGVhZCwgeW91IHNob3VsZAogICAgY3JlYXRlIGZyb20gYnVpbGRlciBmdW5jdGlvbjogZXhwb3J0X2RhdGEuCgogICAgOnBhcmFtIGNvbXBvbmVudDogSWQgb2YgdGhlIGRhdGEgdHJhbnNmZXIgYnVpbHQgaW4gY29tcG9uZW50IHRvIGJlIHJ1biBmb3IgdGhlIHN0ZXAKICAgIDp0eXBlIGNvbXBvbmVudDogc3RyCiAgICA6cGFyYW0gc2luazogVGhlIHNpbmsgb2YgZXh0ZXJuYWwgZGF0YSBhbmQgZGF0YWJhc2VzLgogICAgOnR5cGUgc2luazogVW5pb25bRGljdCwgRGF0YWJhc2UsIEZpbGVTeXN0ZW1dCiAgICA6cGFyYW0gaW5wdXRzOiBNYXBwaW5nIG9mIGlucHV0IGRhdGEgYmluZGluZ3MgdXNlZCBpbiB0aGUgam9iLgogICAgOnR5cGUgaW5wdXRzOiBEaWN0W3N0ciwgVW5pb25bTm9kZU91dHB1dCwgSW5wdXQsIHN0ciwgSW5wdXRdXQogICAgOnBhcmFtIG5hbWU6IE5hbWUgb2YgdGhlIGRhdGEgdHJhbnNmZXIuCiAgICA6dHlwZSBuYW1lOiBzdHIKICAgIDpwYXJhbSBkZXNjcmlwdGlvbjogRGVzY3JpcHRpb24gb2YgdGhlIGRhdGEgdHJhbnNmZXIuCiAgICA6dHlwZSBkZXNjcmlwdGlvbjogc3RyCiAgICA6cGFyYW0gdGFnczogVGFnIGRpY3Rpb25hcnkuIFRhZ3MgY2FuIGJlIGFkZGVkLCByZW1vdmVkLCBhbmQgdXBkYXRlZC4KICAgIDp0eXBlIHRhZ3M6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gZGlzcGxheV9uYW1lOiBEaXNwbGF5IG5hbWUgb2YgdGhlIGpvYi4KICAgIDp0eXBlIGRpc3BsYXlfbmFtZTogc3RyCiAgICA6cGFyYW0gZXhwZXJpbWVudF9uYW1lOiAgTmFtZSBvZiB0aGUgZXhwZXJpbWVudCB0aGUgam9iIHdpbGwgYmUgY3JlYXRlZCB1bmRlciwKICAgICAgICBpZiBOb25lIGlzIHByb3ZpZGVkLCBkZWZhdWx0IHdpbGwgYmUgc2V0IHRvIGN1cnJlbnQgZGlyZWN0b3J5IG5hbWUuCiAgICA6dHlwZSBleHBlcmltZW50X25hbWU6IHN0cgogICAgOnBhcmFtIGNvbXB1dGU6IFRoZSBjb21wdXRlIHRhcmdldCB0aGUgam9iIHJ1bnMgb24uCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSB0YXNrOiB0YXNrIHR5cGUgaW4gZGF0YSB0cmFuc2ZlciBjb21wb25lbnQsIHBvc3NpYmxlIHZhbHVlIGlzICJleHBvcnRfZGF0YSIuCiAgICA6dHlwZSB0YXNrOiBzdHIKICAgIDpyYWlzZXMgfmF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMuVmFsaWRhdGlvbkV4Y2VwdGlvbjogUmFpc2VkIGlmIERhdGFUcmFuc2ZlckV4cG9ydCBjYW5ub3QgYmUgc3VjY2Vzc2Z1bGx5IHZhbGlkYXRlZC4KICAgICAgICBEZXRhaWxzIHdpbGwgYmUgcHJvdmlkZWQgaW4gdGhlIGVycm9yIG1lc3NhZ2UuCiAgICAiIiIKCiAgICAjIHB5bGludDogZGlzYWJsZT10b28tbWFueS1pbnN0YW5jZS1hdHRyaWJ1dGVzCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIGNvbXBvbmVudDogVW5pb25bc3RyLCBEYXRhVHJhbnNmZXJFeHBvcnRDb21wb25lbnRdLAogICAgICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIHNpbms6IE9wdGlvbmFsW1VuaW9uW0RpY3QsIERhdGFiYXNlLCBGaWxlU3lzdGVtXV0gPSBOb25lLAogICAgICAgIGlucHV0czogT3B0aW9uYWxbRGljdFtzdHIsIFVuaW9uW05vZGVPdXRwdXQsIElucHV0LCBzdHJdXV0gPSBOb25lLAogICAgICAgIHRhc2s6IE9wdGlvbmFsW3N0cl0gPSBEYXRhVHJhbnNmZXJUYXNrVHlwZS5FWFBPUlRfREFUQSwKICAgICAgICAqKmt3YXJncywKICAgICk6CiAgICAgICAgIyB2YWxpZGF0ZSBpbml0IHBhcmFtcyBhcmUgdmFsaWQgdHlwZQogICAgICAgIHZhbGlkYXRlX2F0dHJpYnV0ZV90eXBlKGF0dHJzX3RvX2NoZWNrPWxvY2FscygpLCBhdHRyX3R5cGVfbWFwPXNlbGYuX2F0dHJfdHlwZV9tYXAoKSkKICAgICAgICBzdXBlcihEYXRhVHJhbnNmZXJFeHBvcnQsIHNlbGYpLl9faW5pdF9fKAogICAgICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgICAgICBpbnB1dHM9aW5wdXRzLAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgICAgICAjIGluaXQgbWFyayBmb3IgX0F0dHJEaWN0CiAgICAgICAgc2VsZi5faW5pdCA9IFRydWUKICAgICAgICBzZWxmLnRhc2sgPSB0YXNrCiAgICAgICAgaXNfY29tcG9uZW50ID0gaXNpbnN0YW5jZShjb21wb25lbnQsIERhdGFUcmFuc2ZlckV4cG9ydENvbXBvbmVudCkKICAgICAgICBpZiBpc19jb21wb25lbnQ6CiAgICAgICAgICAgIHNlbGYudGFzayA9IGNvbXBvbmVudC50YXNrIG9yIHNlbGYudGFzawogICAgICAgIHNlbGYuc2luayA9IHNpbmsKICAgICAgICBzZWxmLl9pbml0ID0gRmFsc2UKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzaW5rKHNlbGYpIC0\u002BIFVuaW9uW05vbmUsIERhdGFiYXNlLCBGaWxlU3lzdGVtXToKICAgICAgICAiIiJUaGUgc2luayBvZiBleHRlcm5hbCBkYXRhIGFuZCBkYXRhYmFzZXMuCgogICAgICAgIDpyZXR1cm46IFRoZSBzaW5rIG9mIGV4dGVybmFsIGRhdGEgYW5kIGRhdGFiYXNlcy4KICAgICAgICA6cnR5cGU6IFVuaW9uW05vbmUsIERhdGFiYXNlLCBGaWxlU3lzdGVtXQogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLl9zaW5rCgogICAgQHNpbmsuc2V0dGVyCiAgICBkZWYgc2luayhzZWxmLCB2YWx1ZSk6CiAgICAgICAgc2VsZi5fc2luayA9IF9idWlsZF9zb3VyY2Vfc2luayh2YWx1ZSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfYXR0cl90eXBlX21hcChjbHMpIC0\u002BIGRpY3Q6CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgImNvbXBvbmVudCI6IChzdHIsIERhdGFUcmFuc2ZlckV4cG9ydENvbXBvbmVudCksCiAgICAgICAgfQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jcmVhdGVfc2NoZW1hX2Zvcl92YWxpZGF0aW9uKGNscywgY29udGV4dCkgLT4gVW5pb25bUGF0aEF3YXJlU2NoZW1hLCBTY2hlbWFdOgogICAgICAgIGZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5waXBlbGluZSBpbXBvcnQgRGF0YVRyYW5zZmVyRXhwb3J0U2NoZW1hCgogICAgICAgIHJldHVybiBEYXRhVHJhbnNmZXJFeHBvcnRTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9waWNrZWRfZmllbGRzX2Zyb21fZGljdF90b19yZXN0X29iamVjdChjbHMpIC0\u002BIExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gWyJ0eXBlIiwgInRhc2siLCAic2luayJdCgogICAgZGVmIF9jdXN0b21pemVkX3ZhbGlkYXRlKHNlbGYpOgogICAgICAgIHJlc3VsdCA9IHN1cGVyKCkuX2N1c3RvbWl6ZWRfdmFsaWRhdGUoKQogICAgICAgIGlmIHNlbGYuc2luayBpcyBOb25lOgogICAgICAgICAgICByZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJzaW5rIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9IlNpbmsgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgZXhwb3J0IGRhdGEgdGFzayBpbiBEYXRhVHJhbnNmZXIgam9iIiwKICAgICAgICAgICAgKQogICAgICAgIGlmIGxlbihzZWxmLmlucHV0cykgIT0gMSBvciBsaXN0KHNlbGYuaW5wdXRzLmtleXMoKSlbMF0gIT0gInNvdXJjZSI6CiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImlucHV0cy5zb3VyY2UiLAogICAgICAgICAgICAgICAgbWVzc2FnZT0iSW5wdXRzIGZpZWxkIG9ubHkgc3VwcG9ydCBvbmUgaW5wdXQgY2FsbGVkIHNvdXJjZSBpbiBleHBvcnQgdGFzayIsCiAgICAgICAgICAgICkKICAgICAgICBpZiAic291cmNlIiBpbiBzZWxmLmlucHV0cyBhbmQgaXNpbnN0YW5jZShzZWxmLmlucHV0c1sic291cmNlIl0uX2RhdGEsIElucHV0KToKICAgICAgICAgICAgc291cmNlX2lucHV0ID0gc2VsZi5pbnB1dHNbInNvdXJjZSJdLl9kYXRhCiAgICAgICAgICAgIGlmIChzZWxmLnNpbmsudHlwZSA9PSBFeHRlcm5hbERhdGFUeXBlLkRBVEFCQVNFIGFuZCBzb3VyY2VfaW5wdXQudHlwZSAhPSBBc3NldFR5cGVzLlVSSV9GSUxFKSBvciAoCiAgICAgICAgICAgICAgICBzZWxmLnNpbmsudHlwZSA9PSBFeHRlcm5hbERhdGFUeXBlLkZJTEVfU1lTVEVNIGFuZCBzb3VyY2VfaW5wdXQudHlwZSAhPSBBc3NldFR5cGVzLlVSSV9GT0xERVIKICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJpbnB1dHMuc291cmNlLnR5cGUiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9IklucHV0cyBmaWVsZCBvbmx5IHN1cHBvcnQgdHlwZSB7fSBmb3Ige30gYW5kIHt9IGZvciB7fSIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICBBc3NldFR5cGVzLlVSSV9GSUxFLAogICAgICAgICAgICAgICAgICAgICAgICBFeHRlcm5hbERhdGFUeXBlLkRBVEFCQVNFLAogICAgICAgICAgICAgICAgICAgICAgICBBc3NldFR5cGVzLlVSSV9GT0xERVIsCiAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVybmFsRGF0YVR5cGUuRklMRV9TWVNURU0sCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICkKCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBfdG9fcmVzdF9vYmplY3Qoc2VsZiwgKiprd2FyZ3MpIC0\u002BIGRpY3Q6CiAgICAgICAgcmVzdF9vYmogPSBzdXBlcigpLl90b19yZXN0X29iamVjdCgqKmt3YXJncykKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiB7CiAgICAgICAgICAgICJjb21wb25lbnRJZCI6IHNlbGYuX2dldF9jb21wb25lbnRfaWQoKSwKICAgICAgICB9Lml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHZhbHVlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmVzdF9vYmpba2V5XSA9IHZhbHVlCiAgICAgICAgcmV0dXJuIGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QocmVzdF9vYmopCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2xvYWRfZnJvbV9kaWN0KGNscywgZGF0YTogRGljdCwgY29udGV4dDogRGljdCwgYWRkaXRpb25hbF9tZXNzYWdlOiBzdHIsICoqa3dhcmdzKSAtPiAiRGF0YVRyYW5zZmVyRXhwb3J0IjoKICAgICAgICBmcm9tIC5kYXRhX3RyYW5zZmVyX2Z1bmMgaW1wb3J0IGV4cG9ydF9kYXRhCgogICAgICAgIGxvYWRlZF9kYXRhID0gbG9hZF9mcm9tX2RpY3QoRGF0YVRyYW5zZmVyRXhwb3J0Sm9iU2NoZW1hLCBkYXRhLCBjb250ZXh0LCBhZGRpdGlvbmFsX21lc3NhZ2UsICoqa3dhcmdzKQogICAgICAgIGRhdGFfdHJhbnNmZXJfam9iID0gZXhwb3J0X2RhdGEoYmFzZV9wYXRoPWNvbnRleHRbQkFTRV9QQVRIX0NPTlRFWFRfS0VZXSwgKipsb2FkZWRfZGF0YSkKCiAgICAgICAgcmV0dXJuIGRhdGFfdHJhbnNmZXJfam9iCgogICAgZGVmIF90b19qb2Ioc2VsZikgLT4gRGF0YVRyYW5zZmVyRXhwb3J0Sm9iOgogICAgICAgIHJldHVybiBEYXRhVHJhbnNmZXJFeHBvcnRKb2IoCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1zZWxmLmV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249c2VsZi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgdGFncz1zZWxmLnRhZ3MsCiAgICAgICAgICAgIHN0YXR1cz1zZWxmLnN0YXR1cywKICAgICAgICAgICAgc2luaz1zZWxmLnNpbmssCiAgICAgICAgICAgIGlucHV0cz1zZWxmLl9qb2JfaW5wdXRzLAogICAgICAgICAgICBzZXJ2aWNlcz1zZWxmLnNlcnZpY2VzLAogICAgICAgICAgICBjb21wdXRlPXNlbGYuY29tcHV0ZSwKICAgICAgICAgICAgdGFzaz1zZWxmLnRhc2ssCiAgICAgICAgKQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "nRFeQlJ1MT6LmqCAibNkNw==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C31C60A\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "y03qRxOKdt0=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/do_while.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "13926",
        "Content-MD5": "d/OgohWJvH06QztsUsUGgA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW1wb3J0IGxvZ2dpbmcKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKZnJvbSBtYXJzaG1hbGxvdyBpbXBvcnQgVmFsaWRhdGlvbkVycm9yCgpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUuY29udHJvbF9mbG93X2pvYiBpbXBvcnQgRG9XaGlsZVNjaGVtYQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tcG9uZW50IGltcG9ydCBET19XSElMRV9NQVhfSVRFUkFUSU9OLCBDb250cm9sRmxvd1R5cGUKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IElucHV0LCBPdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmpvYl9saW1pdHMgaW1wb3J0IERvV2hpbGVKb2JMaW1pdHMKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnBpcGVsaW5lLl9pbyBpbXBvcnQgSW5wdXRPdXRwdXRCYXNlCmZyb20gYXp1cmUuYWkubWwuZXhjZXB0aW9ucyBpbXBvcnQgRXJyb3JDYXRlZ29yeSwgVmFsaWRhdGlvbkVycm9yVHlwZQoKZnJvbSAuLl91dGlsIGltcG9ydCBsb2FkX2Zyb21fZGljdCwgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUKZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZQpmcm9tIC5jb250cm9sX2Zsb3dfbm9kZSBpbXBvcnQgTG9vcE5vZGUKZnJvbSAucGlwZWxpbmUgaW1wb3J0IFBpcGVsaW5lCgptb2R1bGVfbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgRG9XaGlsZShMb29wTm9kZSk6CiAgICAiIiJEby13aGlsZSBsb29wIG5vZGUgaW4gdGhlIHBpcGVsaW5lIGpvYi4gQnkgc3BlY2lmeWluZyB0aGUgbG9vcCBib2R5IGFuZCBsb29wIHRlcm1pbmF0aW9uIGNvbmRpdGlvbiBpbiB0aGlzIGNsYXNzLAogICAgYSBqb2ItbGV2ZWwgZG8gd2hpbGUgbG9vcCBjYW4gYmUgaW1wbGVtZW50ZWQuIEl0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2hlbiBjYWxsaW5nIGRzbC5kb193aGlsZSBvciB3aGVuIGxvYWRpbmcgdGhlCiAgICBwaXBlbGluZSB5bWwgY29udGFpbmluZyBkb193aGlsZSBub2RlLiBQbGVhc2UgZG8gbm90IG1hbnVhbGx5IGluaXRpYWxpemUgdGhpcyBjbGFzcy4KCiAgICA6cGFyYW0gYm9keTogUGlwZWxpbmUgam9iIGZvciB0aGUgZG8td2hpbGUgbG9vcCBib2R5LgogICAgOnR5cGUgYm9keTogUGlwZWxpbmUKICAgIDpwYXJhbSBjb25kaXRpb246IEJvb2xlYW4gdHlwZSBjb250cm9sIG91dHB1dCBvZiBib2R5IGFzIGRvLXdoaWxlIGxvb3AgY29uZGl0aW9uLgogICAgOnR5cGUgY29uZGl0aW9uOiBPdXRwdXQKICAgIDpwYXJhbSBtYXBwaW5nOiBPdXRwdXQtSW5wdXQgbWFwcGluZyBmb3IgcmVhY2ggcm91bmQgb2YgdGhlIGRvLXdoaWxlIGxvb3AuCiAgICAgICAgICAgICAgICAgICAgS2V5IGlzIHRoZSBsYXN0IHJvdW5kIG91dHB1dCBvZiB0aGUgYm9keS4gVmFsdWUgaXMgdGhlIGlucHV0IHBvcnQgZm9yIGN1cnJlbnQgYm9keS4KICAgIDp0eXBlIG1hcHBpbmc6IERpY3RbVW5pb25bc3RyLCBPdXRwdXRdLCBVbmlvbltzdHIsIElucHV0LCBMaXN0XV0KICAgIDpwYXJhbSBsaW1pdHM6IGxpbWl0cyBpbiBydW5uaW5nIHRoZSBkby13aGlsZSBub2RlLgogICAgOnR5cGUgbGltaXRzOiBEb1doaWxlSm9iTGltaXRzCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIGJvZHk6IFBpcGVsaW5lLAogICAgICAgIGNvbmRpdGlvbjogc3RyLAogICAgICAgIG1hcHBpbmc6IERpY3RbVW5pb25bc3RyLCBPdXRwdXRdLCBVbmlvbltzdHIsIElucHV0LCBMaXN0XV0sCiAgICAgICAgbGltaXRzOiBPcHRpb25hbFtVbmlvbltkaWN0LCBEb1doaWxlSm9iTGltaXRzXV0gPSBOb25lLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIHZhbGlkYXRlIGluaXQgcGFyYW1zIGFyZSB2YWxpZCB0eXBlCiAgICAgICAgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUoYXR0cnNfdG9fY2hlY2s9bG9jYWxzKCksIGF0dHJfdHlwZV9tYXA9c2VsZi5fYXR0cl90eXBlX21hcCgpKQoKICAgICAgICBrd2FyZ3MucG9wKCJ0eXBlIiwgTm9uZSkKICAgICAgICBzdXBlcihEb1doaWxlLCBzZWxmKS5fX2luaXRfXygKICAgICAgICAgICAgdHlwZT1Db250cm9sRmxvd1R5cGUuRE9fV0hJTEUsCiAgICAgICAgICAgIGJvZHk9Ym9keSwKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQoKICAgICAgICAjIGluaXQgbWFyayBmb3IgX0F0dHJEaWN0CiAgICAgICAgc2VsZi5faW5pdCA9IFRydWUKICAgICAgICBzZWxmLl9tYXBwaW5nID0gbWFwcGluZyBvciB7fQogICAgICAgIHNlbGYuX2NvbmRpdGlvbiA9IGNvbmRpdGlvbgogICAgICAgIHNlbGYuX2xpbWl0cyA9IGxpbWl0cwogICAgICAgIHNlbGYuX2luaXQgPSBGYWxzZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1hcHBpbmcoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX21hcHBpbmcKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb25kaXRpb24oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbmRpdGlvbgoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGxpbWl0cyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fbGltaXRzCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICoqc3VwZXIoRG9XaGlsZSwgY2xzKS5fYXR0cl90eXBlX21hcCgpLAogICAgICAgICAgICAibWFwcGluZyI6IGRpY3QsCiAgICAgICAgICAgICJsaW1pdHMiOiAoZGljdCwgRG9XaGlsZUpvYkxpbWl0cyksCiAgICAgICAgfQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sb2FkX2Zyb21fZGljdChjbHMsIGRhdGE6IERpY3QsIGNvbnRleHQ6IERpY3QsIGFkZGl0aW9uYWxfbWVzc2FnZTogc3RyLCAqKmt3YXJncyk6CiAgICAgICAgbG9hZGVkX2RhdGEgPSBsb2FkX2Zyb21fZGljdChEb1doaWxlU2NoZW1hLCBkYXRhLCBjb250ZXh0LCBhZGRpdGlvbmFsX21lc3NhZ2UsICoqa3dhcmdzKQoKICAgICAgICByZXR1cm4gY2xzKCoqbG9hZGVkX2RhdGEpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZV9pbnN0YW5jZV9mcm9tX3NjaGVtYV9kaWN0KGNscywgcGlwZWxpbmVfam9icywgbG9hZGVkX2RhdGE6IERpY3QsIHZhbGlkYXRlX3BvcnQ9VHJ1ZSkgLT4gIkRvV2hpbGUiOgogICAgICAgICIiIkNyZWF0ZSBhIGRvX3doaWxlIGluc3RhbmNlIGZyb20gc2NoZW1hIHBhcnNlZCBkaWN0LiIiIgoKICAgICAgICAjIHB5bGludDogZGlzYWJsZT1wcm90ZWN0ZWQtYWNjZXNzCgogICAgICAgIGRlZiBnZXRfcG9ydF9vYmooYm9keSwgcG9ydF9uYW1lLCBpc19pbnB1dD1UcnVlLCB2YWxpZGF0ZV9wb3J0PVRydWUpOgogICAgICAgICAgICBpZiBpc19pbnB1dDoKICAgICAgICAgICAgICAgIHBvcnQgPSBib2R5LmlucHV0cy5nZXQocG9ydF9uYW1lLCBOb25lKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcG9ydCA9IGJvZHkub3V0cHV0cy5nZXQocG9ydF9uYW1lLCBOb25lKQogICAgICAgICAgICBpZiBwb3J0IGlzIE5vbmU6CiAgICAgICAgICAgICAgICBpZiB2YWxpZGF0ZV9wb3J0OgogICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbGlkYXRpb25FcnJvcigKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mIkNhbm5vdCBmaW5kIHtwb3J0X25hbWV9IGluIGRvX3doaWxlIGxvb3AgYm9keSB7J2lucHV0cycgaWYgaXNfaW5wdXQgZWxzZSAnb3V0cHV0cyd9LiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1jbHMuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9jYXRlZ29yeT1FcnJvckNhdGVnb3J5LlVTRVJfRVJST1IsCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX3R5cGU9VmFsaWRhdGlvbkVycm9yVHlwZS5JTlZBTElEX1ZBTFVFLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHJldHVybiBwb3J0X25hbWUKCiAgICAgICAgICAgIHJldHVybiBwb3J0CgogICAgICAgICMgR2V0IGJvZHkgb2JqZWN0IGZyb20gcGlwZWxpbmUgam9iIGxpc3QuCiAgICAgICAgYm9keV9uYW1lID0gY2xzLl9nZXRfZGF0YV9iaW5kaW5nX2V4cHJlc3Npb25fdmFsdWUobG9hZGVkX2RhdGEucG9wKCJib2R5IiksIHJlZ2V4PXIiXHtcey4qXC5qb2JzXC4oLiopXH1cfSIpCiAgICAgICAgYm9keSA9IGNscy5fZ2V0X2JvZHlfZnJvbV9waXBlbGluZV9qb2JzKHBpcGVsaW5lX2pvYnMsIGJvZHlfbmFtZSkKCiAgICAgICAgIyBDb252ZXJ0IG1hcHBpbmcga2V5LXZhdWx0IHRvIGlucHV0L291dHB1dCBvYmplY3QKICAgICAgICBtYXBwaW5nID0ge30KICAgICAgICBmb3IgaywgdiBpbiBsb2FkZWRfZGF0YS5wb3AoIm1hcHBpbmciLCB7fSkuaXRlbXMoKToKICAgICAgICAgICAgb3V0cHV0X25hbWUgPSBjbHMuX2dldF9kYXRhX2JpbmRpbmdfZXhwcmVzc2lvbl92YWx1ZShrLCByZWdleD1yIlx7XHsuKlwuJXNcLm91dHB1dHNcLiguKilcfVx9IiAlIGJvZHlfbmFtZSkKICAgICAgICAgICAgaW5wdXRfbmFtZXMgPSB2IGlmIGlzaW5zdGFuY2UodiwgbGlzdCkgZWxzZSBbdl0KICAgICAgICAgICAgaW5wdXRfbmFtZXMgPSBbCiAgICAgICAgICAgICAgICBjbHMuX2dldF9kYXRhX2JpbmRpbmdfZXhwcmVzc2lvbl92YWx1ZShpdGVtLCByZWdleD1yIlx7XHsuKlwuJXNcLmlucHV0c1wuKC4qKVx9XH0iICUgYm9keV9uYW1lKQogICAgICAgICAgICAgICAgZm9yIGl0ZW0gaW4gaW5wdXRfbmFtZXMKICAgICAgICAgICAgXQogICAgICAgICAgICBtYXBwaW5nW291dHB1dF9uYW1lXSA9IFtnZXRfcG9ydF9vYmooYm9keSwgaXRlbSwgdmFsaWRhdGVfcG9ydD12YWxpZGF0ZV9wb3J0KSBmb3IgaXRlbSBpbiBpbnB1dF9uYW1lc10KCiAgICAgICAgbGltaXRzID0gbG9hZGVkX2RhdGEucG9wKCJsaW1pdHMiLCBOb25lKQoKICAgICAgICBpZiAiY29uZGl0aW9uIiBpbiBsb2FkZWRfZGF0YToKICAgICAgICAgICAgIyBDb252ZXJ0IGNvbmRpdGlvbiB0byBvdXRwdXQgb2JqZWN0CiAgICAgICAgICAgIGNvbmRpdGlvbl9uYW1lID0gY2xzLl9nZXRfZGF0YV9iaW5kaW5nX2V4cHJlc3Npb25fdmFsdWUoCiAgICAgICAgICAgICAgICBsb2FkZWRfZGF0YS5wb3AoImNvbmRpdGlvbiIpLCByZWdleD1yIlx7XHsuKlwuJXNcLm91dHB1dHNcLiguKilcfVx9IiAlIGJvZHlfbmFtZQogICAgICAgICAgICApCiAgICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZSA9IGdldF9wb3J0X29iaihib2R5LCBjb25kaXRpb25fbmFtZSwgaXNfaW5wdXQ9RmFsc2UsIHZhbGlkYXRlX3BvcnQ9dmFsaWRhdGVfcG9ydCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb25kaXRpb25fdmFsdWUgPSBOb25lCgogICAgICAgIGRvX3doaWxlX2luc3RhbmNlID0gRG9XaGlsZSgKICAgICAgICAgICAgYm9keT1ib2R5LAogICAgICAgICAgICBtYXBwaW5nPW1hcHBpbmcsCiAgICAgICAgICAgIGNvbmRpdGlvbj1jb25kaXRpb25fdmFsdWUsCiAgICAgICAgICAgICoqbG9hZGVkX2RhdGEsCiAgICAgICAgKQogICAgICAgIGRvX3doaWxlX2luc3RhbmNlLnNldF9saW1pdHMoKipsaW1pdHMpCgogICAgICAgIHJldHVybiBkb193aGlsZV9pbnN0YW5jZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jcmVhdGVfc2NoZW1hX2Zvcl92YWxpZGF0aW9uKGNscywgY29udGV4dCk6CiAgICAgICAgcmV0dXJuIERvV2hpbGVTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9mcm9tX3Jlc3Rfb2JqZWN0KGNscywgb2JqOiBkaWN0LCBwaXBlbGluZV9qb2JzOiBkaWN0KSAtPiAiRG9XaGlsZSI6CiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwoKICAgICAgICBvYmogPSBCYXNlTm9kZS5fZnJvbV9yZXN0X29iamVjdF90b19pbml0X3BhcmFtcyhvYmopCiAgICAgICAgcmV0dXJuIGNscy5fY3JlYXRlX2luc3RhbmNlX2Zyb21fc2NoZW1hX2RpY3QocGlwZWxpbmVfam9icywgb2JqLCB2YWxpZGF0ZV9wb3J0PUZhbHNlKQoKICAgIGRlZiBzZXRfbGltaXRzKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICBtYXhfaXRlcmF0aW9uX2NvdW50OiBpbnQsCiAgICAgICAgKiprd2FyZ3MsICAjIHB5bGludDogZGlzYWJsZT11bnVzZWQtYXJndW1lbnQKICAgICk6CiAgICAgICAgIiIiU2V0IG1heCBpdGVyYXRpb24gY291bnQgZm9yIGRvIHdoaWxlIGpvYi4KCiAgICAgICAgVGhlIHJhbmdlIG9mIHRoZSBpdGVyYXRpb24gY291bnQgaXMgKDAsIDEwMDBdLgogICAgICAgICIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5saW1pdHMsIERvV2hpbGVKb2JMaW1pdHMpOgogICAgICAgICAgICBzZWxmLmxpbWl0cy5fbWF4X2l0ZXJhdGlvbl9jb3VudCA9IG1heF9pdGVyYXRpb25fY291bnQgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl9saW1pdHMgPSBEb1doaWxlSm9iTGltaXRzKG1heF9pdGVyYXRpb25fY291bnQ9bWF4X2l0ZXJhdGlvbl9jb3VudCkKCiAgICBkZWYgX2N1c3RvbWl6ZWRfdmFsaWRhdGUoc2VsZik6CiAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgPSBzZWxmLl92YWxpZGF0ZV9sb29wX2NvbmRpdGlvbihyYWlzZV9lcnJvcj1GYWxzZSkKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5tZXJnZV93aXRoKHNlbGYuX3ZhbGlkYXRlX2JvZHkocmFpc2VfZXJyb3I9RmFsc2UpKQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoc2VsZi5fdmFsaWRhdGVfZG9fd2hpbGVfbGltaXQocmFpc2VfZXJyb3I9RmFsc2UpKQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoc2VsZi5fdmFsaWRhdGVfYm9keV9vdXRwdXRfbWFwcGluZyhyYWlzZV9lcnJvcj1GYWxzZSkpCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0CgogICAgZGVmIF92YWxpZGF0ZV9wb3J0KHNlbGYsIHBvcnQsIG5vZGVfcG9ydHMsIHBvcnRfdHlwZSwgeWFtbF9wYXRoKToKICAgICAgICAiIiJWYWxpZGF0ZSBpbnB1dC9vdXRwdXQgcG9ydCBpcyBleGlzdCBpbiB0aGUgZG93aGlsZSBib2R5LiIiIgogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gc2VsZi5fY3JlYXRlX2VtcHR5X3ZhbGlkYXRpb25fcmVzdWx0KCkKICAgICAgICBpZiBpc2luc3RhbmNlKHBvcnQsIHN0cik6CiAgICAgICAgICAgIHBvcnRfb2JqID0gbm9kZV9wb3J0cy5nZXQocG9ydCwgTm9uZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwb3J0X29iaiA9IHBvcnQKICAgICAgICBpZiAoCiAgICAgICAgICAgIHBvcnRfb2JqIGlzIG5vdCBOb25lCiAgICAgICAgICAgIGFuZCBwb3J0X29iai5fb3duZXIuX2luc3RhbmNlX2lkICE9IHNlbGYuYm9keS5faW5zdGFuY2VfaWQgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICApOgogICAgICAgICAgICAjIENoZWNrIHRoZSBwb3J0IG93bmVyIGlzIGRvd2hpbGUgYm9keS4KICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPXlhbWxfcGF0aCwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9KAogICAgICAgICAgICAgICAgICAgIGYie3BvcnRfb2JqLl9wb3J0X25hbWV9IGlzIHRoZSB7cG9ydF90eXBlfSBvZiB7cG9ydF9vYmouX293bmVyLm5hbWV9LCAiICAjIHB5bGludDogZGlzYWJsZT1wcm90ZWN0ZWQtYWNjZXNzCiAgICAgICAgICAgICAgICAgICAgZiJkb3doaWxlIG9ubHkgYWNjZXB0IHtwb3J0X3R5cGV9IG9mIHRoZSBib2R5OiB7c2VsZi5ib2R5Lm5hbWV9LiIKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICkKICAgICAgICBlbGlmIHBvcnRfb2JqIGlzIE5vbmUgb3IgcG9ydF9vYmouX3BvcnRfbmFtZSBub3QgaW4gbm9kZV9wb3J0czogICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICAgICAgIyBDaGVjayBwb3J0IGlzIGV4aXN0IGluIGRvd2hpbGUgYm9keS4KICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPXlhbWxfcGF0aCwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9KAogICAgICAgICAgICAgICAgICAgIGYiVGhlIHtwb3J0X3R5cGV9IG9mIG1hcHBpbmcge3BvcnRfb2JqLl9wb3J0X25hbWUgaWYgcG9ydF9vYmogZWxzZSBwb3J0fSBkb2VzIG5vdCAiICAjIHB5bGludDogZGlzYWJsZT1wcm90ZWN0ZWQtYWNjZXNzCiAgICAgICAgICAgICAgICAgICAgZiJleGlzdCBpbiB7c2VsZi5ib2R5Lm5hbWV9IHtwb3J0X3R5cGV9LCBleGlzdGluZyB7cG9ydF90eXBlfToge25vZGVfcG9ydHMua2V5cygpfSIKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICkKICAgICAgICByZXR1cm4gdmFsaWRhdGlvbl9yZXN1bHQKCiAgICBkZWYgX3ZhbGlkYXRlX2xvb3BfY29uZGl0aW9uKHNlbGYsIHJhaXNlX2Vycm9yPVRydWUpOgogICAgICAgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHNlbGYuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCiAgICAgICAgaWYgc2VsZi5jb25kaXRpb24gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICMgQ2hlY2sgY29uZGl0aW9uIGV4aXN0cyBpbiBkb3doaWxlIGJvZHkuCiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoCiAgICAgICAgICAgICAgICBzZWxmLl92YWxpZGF0ZV9wb3J0KHNlbGYuY29uZGl0aW9uLCBzZWxmLmJvZHkub3V0cHV0cywgcG9ydF90eXBlPSJvdXRwdXQiLCB5YW1sX3BhdGg9ImNvbmRpdGlvbiIpCiAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgdmFsaWRhdGlvbl9yZXN1bHQucGFzc2VkOgogICAgICAgICAgICAgICAgIyBDaGVjayBjb25kaXRpb24gaXMgYSBjb250cm9sIG91dHB1dC4KICAgICAgICAgICAgICAgIGNvbmRpdGlvbl9uYW1lID0gc2VsZi5jb25kaXRpb24gaWYgaXNpbnN0YW5jZShzZWxmLmNvbmRpdGlvbiwgc3RyKSBlbHNlIHNlbGYuY29uZGl0aW9uLl9wb3J0X25hbWUKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmJvZHkuX291dHB1dHNbY29uZGl0aW9uX25hbWVdLmlzX2NvbnRyb2w6CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImNvbmRpdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZiJ7Y29uZGl0aW9uX25hbWV9IGlzIG5vdCBhIGNvbnRyb2wgb3V0cHV0LiAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGhlIGNvbmRpdGlvbiBvZiBkb3doaWxlIG11c3QgYmUgdGhlIGNvbnRyb2wgb3V0cHV0IG9mIHRoZSBib2R5LiIKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0LnRyeV9yYWlzZShzZWxmLl9nZXRfdmFsaWRhdGlvbl9lcnJvcl90YXJnZXQoKSwgcmFpc2VfZXJyb3I9cmFpc2VfZXJyb3IpCgogICAgZGVmIF92YWxpZGF0ZV9kb193aGlsZV9saW1pdChzZWxmLCByYWlzZV9lcnJvcj1UcnVlKToKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHNlbGYuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCiAgICAgICAgaWYgbm90IHNlbGYubGltaXRzIG9yIHNlbGYubGltaXRzLm1heF9pdGVyYXRpb25fY291bnQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0LnRyeV9yYWlzZShzZWxmLl9nZXRfdmFsaWRhdGlvbl9lcnJvcl90YXJnZXQoKSwgcmFpc2VfZXJyb3I9cmFpc2VfZXJyb3IpCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmxpbWl0cy5tYXhfaXRlcmF0aW9uX2NvdW50LCBJbnB1dE91dHB1dEJhc2UpOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImxpbWl0Lm1heF9pdGVyYXRpb25fY291bnQiLAogICAgICAgICAgICAgICAgbWVzc2FnZT0iVGhlIG1heCBpdGVyYXRpb24gY291bnQgY2Fubm90IGJlIGxpbmtlZCB3aXRoIGFuIHByaW1pdGl2ZSB0eXBlIGlucHV0LiIsCiAgICAgICAgICAgICkKICAgICAgICBlbGlmIHNlbGYubGltaXRzLm1heF9pdGVyYXRpb25fY291bnQgPiBET19XSElMRV9NQVhfSVRFUkFUSU9OIG9yIHNlbGYubGltaXRzLm1heF9pdGVyYXRpb25fY291bnQgPCAwOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9ImxpbWl0Lm1heF9pdGVyYXRpb25fY291bnQiLAogICAgICAgICAgICAgICAgbWVzc2FnZT1mIlRoZSBtYXggaXRlcmF0aW9uIGNvdW50IGNhbm5vdCBiZSBsZXNzIHRoYW4gMCBvciBsYXJnZXIgdGhhbiB7RE9fV0hJTEVfTUFYX0lURVJBVElPTn0uIiwKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiB2YWxpZGF0aW9uX3Jlc3VsdC50cnlfcmFpc2Uoc2VsZi5fZ2V0X3ZhbGlkYXRpb25fZXJyb3JfdGFyZ2V0KCksIHJhaXNlX2Vycm9yPXJhaXNlX2Vycm9yKQoKICAgIGRlZiBfdmFsaWRhdGVfYm9keV9vdXRwdXRfbWFwcGluZyhzZWxmLCByYWlzZV9lcnJvcj1UcnVlKToKICAgICAgICAjIHB5bGludCBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHNlbGYuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZi5tYXBwaW5nLCBkaWN0KToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJtYXBwaW5nIiwgbWVzc2FnZT1mIk1hcHBpbmcgZXhwZWN0cyBhIGRpY3QgdHlwZSBidXQgcGFzc2VzIGluIGEge3R5cGUoc2VsZi5tYXBwaW5nKX0gdHlwZS4iCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIFJlY29yZCB0aGUgbWFwcGluZyByZWxhdGlvbnNoaXAgYmV0d2VlbiBpbnB1dCBhbmQgb3V0cHV0CiAgICAgICAgICAgIGlucHV0X291dHB1dF9tYXBwaW5nID0ge30KICAgICAgICAgICAgIyBWYWxpZGF0ZSBtYXBwaW5nIGlucHV0Jm91dHB1dCBzaG91bGQgY29tZSBmcm9tIHdoaWxlIGJvZHkKICAgICAgICAgICAgZm9yIG91dHB1dCwgaW5wdXRzIGluIHNlbGYubWFwcGluZy5pdGVtcygpOgogICAgICAgICAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgICAgICAgICAgb3V0cHV0X25hbWUgPSBvdXRwdXQgaWYgaXNpbnN0YW5jZShvdXRwdXQsIHN0cikgZWxzZSBvdXRwdXQuX3BvcnRfbmFtZQogICAgICAgICAgICAgICAgdmFsaWRhdGVfcmVzdWx0cyA9IHNlbGYuX3ZhbGlkYXRlX3BvcnQoCiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LCBzZWxmLmJvZHkub3V0cHV0cywgcG9ydF90eXBlPSJvdXRwdXQiLCB5YW1sX3BhdGg9Im1hcHBpbmciCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBpZiB2YWxpZGF0ZV9yZXN1bHRzLnBhc3NlZDoKICAgICAgICAgICAgICAgICAgICBpc19jb250cm9sX291dHB1dCA9IHNlbGYuYm9keS5fb3V0cHV0c1tvdXRwdXRfbmFtZV0uaXNfY29udHJvbAogICAgICAgICAgICAgICAgICAgIGlucHV0cyA9IGlucHV0cyBpZiBpc2luc3RhbmNlKGlucHV0cywgbGlzdCkgZWxzZSBbaW5wdXRzXQogICAgICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIGlucHV0czoKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfdmFsaWRhdGVfcmVzdWx0cyA9IHNlbGYuX3ZhbGlkYXRlX3BvcnQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLCBzZWxmLmJvZHkuaW5wdXRzLCBwb3J0X3R5cGU9ImlucHV0IiwgeWFtbF9wYXRoPSJtYXBwaW5nIgogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoaW5wdXRfdmFsaWRhdGVfcmVzdWx0cykKICAgICAgICAgICAgICAgICAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9uYW1lID0gaXRlbSBpZiBpc2luc3RhbmNlKGl0ZW0sIHN0cikgZWxzZSBpdGVtLl9wb3J0X25hbWUKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfb3V0cHV0X21hcHBpbmdbaW5wdXRfbmFtZV0gPSBpbnB1dF9vdXRwdXRfbWFwcGluZy5nZXQoaW5wdXRfbmFtZSwgW10pICsgW291dHB1dF9uYW1lXQogICAgICAgICAgICAgICAgICAgICAgICBpc19wcmltaXRpdmVfdHlwZSA9IHNlbGYuYm9keS5faW5wdXRzW2lucHV0X25hbWVdLl9tZXRhLl9pc19wcmltaXRpdmVfdHlwZQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfdmFsaWRhdGVfcmVzdWx0cy5wYXNzZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBub3QgaXNfY29udHJvbF9vdXRwdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBpc19wcmltaXRpdmVfdHlwZSAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgICAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVfcmVzdWx0cy5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJtYXBwaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZiJ7b3V0cHV0X25hbWV9IGlzIGEgbm9uLXByaW1pdGl2ZSB0eXBlIG91dHB1dCBhbmQge2lucHV0X25hbWV9ICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImlzIGEgcHJpbWl0aXZlIGlucHV0LiBOb24tcHJpbWl0aXZlIHR5cGUgb3V0cHV0IGNhbm5vdCBiZSBjb25uZWN0ZWQgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG8gYW4gYSBwcmltaXRpdmUgdHlwZSBpbnB1dC4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQubWVyZ2Vfd2l0aCh2YWxpZGF0ZV9yZXN1bHRzKQogICAgICAgICAgICAjIFZhbGlkYXRlIHdoZXRoZXIgaW5wdXQgaXMgbGlua2VkIHRvIG11bHRpcGxlIG91dHB1dHMKICAgICAgICAgICAgZm9yIF9pbnB1dCwgb3V0cHV0cyBpbiBpbnB1dF9vdXRwdXRfbWFwcGluZy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgbGVuKG91dHB1dHMpID4gMToKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfcGF0aD0ibWFwcGluZyIsIG1lc3NhZ2U9ZiJJbnB1dCB7X2lucHV0fSBoYXMgYmVlbiBsaW5rZWQgdG8gbXVsdGlwbGUgb3V0cHV0cyB7b3V0cHV0c30uIgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICByZXR1cm4gdmFsaWRhdGlvbl9yZXN1bHQudHJ5X3JhaXNlKHNlbGYuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLCByYWlzZV9lcnJvcj1yYWlzZV9lcnJvcikK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "d/OgohWJvH06QztsUsUGgA==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C33C18C\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "heLLuc8uh9k=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/data_transfer_func.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "13259",
        "Content-MD5": "51EFJI1yj6HevQpanMku7Q==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0LCBVbmlvbiwgQ2FsbGFibGUsIFR1cGxlCgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuZGF0YXRyYW5zZmVyX2NvbXBvbmVudCBpbXBvcnQgKAogICAgRGF0YVRyYW5zZmVyQ29weUNvbXBvbmVudCwKKQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBBc3NldFR5cGVzLCBMZWdhY3lBc3NldFR5cGVzCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0ICgKICAgIENvbXBvbmVudFNvdXJjZSwKICAgIEV4dGVybmFsRGF0YVR5cGUsCiAgICBEYXRhVHJhbnNmZXJCdWlsdGluQ29tcG9uZW50VXJpLAogICAgRGF0YVRyYW5zZmVyVGFza1R5cGUsCikKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMuZXh0ZXJuYWxfZGF0YSBpbXBvcnQgRGF0YWJhc2UsIEZpbGVTeXN0ZW0KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IE91dHB1dCwgSW5wdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnBpcGVsaW5lLl9pbyBpbXBvcnQgUGlwZWxpbmVJbnB1dCwgTm9kZU91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9idWlsZGVycy5iYXNlX25vZGUgaW1wb3J0IHBpcGVsaW5lX25vZGVfZGVjb3JhdG9yCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5waXBlbGluZS5fY29tcG9uZW50X3RyYW5zbGF0YWJsZSBpbXBvcnQgQ29tcG9uZW50VHJhbnNsYXRhYmxlTWl4aW4KZnJvbSBhenVyZS5haS5tbC5leGNlcHRpb25zIGltcG9ydCBFcnJvclRhcmdldCwgVmFsaWRhdGlvbkVycm9yVHlwZSwgVmFsaWRhdGlvbkV4Y2VwdGlvbgpmcm9tIC5kYXRhX3RyYW5zZmVyIGltcG9ydCBEYXRhVHJhbnNmZXJDb3B5LCBEYXRhVHJhbnNmZXJJbXBvcnQsIERhdGFUcmFuc2ZlckV4cG9ydCwgX2J1aWxkX3NvdXJjZV9zaW5rCgoKU1VQUE9SVEVEX0lOUFVUUyA9IFsKICAgIExlZ2FjeUFzc2V0VHlwZXMuUEFUSCwKICAgIEFzc2V0VHlwZXMuVVJJX0ZJTEUsCiAgICBBc3NldFR5cGVzLlVSSV9GT0xERVIsCiAgICBBc3NldFR5cGVzLkNVU1RPTV9NT0RFTCwKICAgIEFzc2V0VHlwZXMuTUxGTE9XX01PREVMLAogICAgQXNzZXRUeXBlcy5NTFRBQkxFLAogICAgQXNzZXRUeXBlcy5UUklUT05fTU9ERUwsCl0KCgpkZWYgX3BhcnNlX2lucHV0KGlucHV0X3ZhbHVlKToKICAgIGNvbXBvbmVudF9pbnB1dCwgam9iX2lucHV0ID0gTm9uZSwgTm9uZQogICAgaWYgaXNpbnN0YW5jZShpbnB1dF92YWx1ZSwgSW5wdXQpOgogICAgICAgIGNvbXBvbmVudF9pbnB1dCA9IElucHV0KCoqaW5wdXRfdmFsdWUuX3RvX2RpY3QoKSkKICAgICAgICBpbnB1dF90eXBlID0gaW5wdXRfdmFsdWUudHlwZQogICAgICAgIGlmIGlucHV0X3R5cGUgaW4gU1VQUE9SVEVEX0lOUFVUUzoKICAgICAgICAgICAgam9iX2lucHV0ID0gSW5wdXQoKippbnB1dF92YWx1ZS5fdG9fZGljdCgpKQogICAgZWxpZiBpc2luc3RhbmNlKGlucHV0X3ZhbHVlLCBkaWN0KToKICAgICAgICAjIGlmIHVzZXIgcHJvdmlkZWQgZGljdCwgd2UgdHJ5IHRvIHBhcnNlIGl0IHRvIElucHV0LgogICAgICAgICMgZm9yIGpvYiBpbnB1dCwgb25seSBwYXJzZSBmb3IgcGF0aCB0eXBlCiAgICAgICAgaW5wdXRfdHlwZSA9IGlucHV0X3ZhbHVlLmdldCgidHlwZSIsIE5vbmUpCiAgICAgICAgaWYgaW5wdXRfdHlwZSBpbiBTVVBQT1JURURfSU5QVVRTOgogICAgICAgICAgICBqb2JfaW5wdXQgPSBJbnB1dCgqKmlucHV0X3ZhbHVlKQogICAgICAgIGNvbXBvbmVudF9pbnB1dCA9IElucHV0KCoqaW5wdXRfdmFsdWUpCiAgICBlbGlmIGlzaW5zdGFuY2UoaW5wdXRfdmFsdWUsIHN0cik6CiAgICAgICAgIyBJbnB1dCBiaW5kaW5ncwogICAgICAgIGNvbXBvbmVudF9pbnB1dCA9IENvbXBvbmVudFRyYW5zbGF0YWJsZU1peGluLl90b19pbnB1dF9idWlsZGVyX2Z1bmN0aW9uKGlucHV0X3ZhbHVlKQogICAgICAgIGpvYl9pbnB1dCA9IGlucHV0X3ZhbHVlCiAgICBlbGlmIGlzaW5zdGFuY2UoaW5wdXRfdmFsdWUsIChQaXBlbGluZUlucHV0LCBOb2RlT3V0cHV0KSk6CiAgICAgICAgIyBkYXRhdHJhbnNmZXIgbm9kZSBjYW4gYWNjZXB0IFBpcGVsaW5lSW5wdXQvTm9kZU91dHB1dCBmb3IgZXhwb3J0IHRhc2suCiAgICAgICAgaWYgaW5wdXRfdmFsdWUuX2RhdGEgaXMgTm9uZSBvciBpc2luc3RhbmNlKGlucHV0X3ZhbHVlLl9kYXRhLCBPdXRwdXQpOgogICAgICAgICAgICBkYXRhID0gSW5wdXQodHlwZT1pbnB1dF92YWx1ZS50eXBlLCBtb2RlPWlucHV0X3ZhbHVlLm1vZGUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGF0YSA9IGlucHV0X3ZhbHVlLl9kYXRhCiAgICAgICAgY29tcG9uZW50X2lucHV0LCBfID0gX3BhcnNlX2lucHV0KGRhdGEpCiAgICAgICAgam9iX2lucHV0ID0gaW5wdXRfdmFsdWUKICAgIGVsc2U6CiAgICAgICAgbXNnID0gKAogICAgICAgICAgICBmIlVuc3VwcG9ydGVkIGlucHV0IHR5cGU6IHt0eXBlKGlucHV0X3ZhbHVlKX0sIG9ubHkgSW5wdXQsIGRpY3QsIHN0ciwgUGlwZWxpbmVJbnB1dCBhbmQgTm9kZU91dHB1dCBhcmUgIgogICAgICAgICAgICBmInN1cHBvcnRlZC4iCiAgICAgICAgKQogICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgIG1lc3NhZ2U9bXNnLAogICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLAogICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuSk9CLAogICAgICAgICAgICBlcnJvcl90eXBlPVZhbGlkYXRpb25FcnJvclR5cGUuSU5WQUxJRF9WQUxVRSwKICAgICAgICApCiAgICByZXR1cm4gY29tcG9uZW50X2lucHV0LCBqb2JfaW5wdXQKCgpkZWYgX3BhcnNlX291dHB1dChvdXRwdXRfdmFsdWUpOgogICAgY29tcG9uZW50X291dHB1dCwgam9iX291dHB1dCA9IE5vbmUsIE5vbmUKICAgIGlmIGlzaW5zdGFuY2Uob3V0cHV0X3ZhbHVlLCBPdXRwdXQpOgogICAgICAgIGNvbXBvbmVudF9vdXRwdXQgPSBPdXRwdXQoKipvdXRwdXRfdmFsdWUuX3RvX2RpY3QoKSkKICAgICAgICBqb2Jfb3V0cHV0ID0gT3V0cHV0KCoqb3V0cHV0X3ZhbHVlLl90b19kaWN0KCkpCiAgICBlbGlmIG5vdCBvdXRwdXRfdmFsdWU6CiAgICAgICAgIyBvdXRwdXQgdmFsdWUgY2FuIGJlIE5vbmUgb3IgZW1wdHkgZGljdGlvbmFyeQogICAgICAgICMgTm9uZSBvdXRwdXQgdmFsdWUgd2lsbCBiZSBwYWNrZWQgaW50byBhIEpvYk91dHB1dCBvYmplY3Qgd2l0aCBtb2RlID0gUmVhZFdyaXRlTW91bnQgJiB0eXBlID0gVXJpRm9sZGVyCiAgICAgICAgY29tcG9uZW50X291dHB1dCA9IENvbXBvbmVudFRyYW5zbGF0YWJsZU1peGluLl90b19vdXRwdXQob3V0cHV0X3ZhbHVlKQogICAgICAgIGpvYl9vdXRwdXQgPSBvdXRwdXRfdmFsdWUKICAgIGVsaWYgaXNpbnN0YW5jZShvdXRwdXRfdmFsdWUsIGRpY3QpOiAgIyBXaGVuIG91dHB1dCB2YWx1ZSBpcyBhIG5vbi1lbXB0eSBkaWN0aW9uYXJ5CiAgICAgICAgam9iX291dHB1dCA9IE91dHB1dCgqKm91dHB1dF92YWx1ZSkKICAgICAgICBjb21wb25lbnRfb3V0cHV0ID0gT3V0cHV0KCoqb3V0cHV0X3ZhbHVlKQogICAgZWxpZiBpc2luc3RhbmNlKG91dHB1dF92YWx1ZSwgc3RyKTogICMgV2hlbiBvdXRwdXQgaXMgcGFzc2VkIGluIGZyb20gcGlwZWxpbmUgam9iIHlhbWwKICAgICAgICBqb2Jfb3V0cHV0ID0gb3V0cHV0X3ZhbHVlCiAgICBlbHNlOgogICAgICAgIG1zZyA9IGYiVW5zdXBwb3J0ZWQgb3V0cHV0IHR5cGU6IHt0eXBlKG91dHB1dF92YWx1ZSl9LCBvbmx5IE91dHB1dCBhbmQgZGljdCBhcmUgc3VwcG9ydGVkLiIKICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICBtZXNzYWdlPW1zZywKICAgICAgICAgICAgbm9fcGVyc29uYWxfZGF0YV9tZXNzYWdlPW1zZywKICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkpPQiwKICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgKQogICAgcmV0dXJuIGNvbXBvbmVudF9vdXRwdXQsIGpvYl9vdXRwdXQKCgpkZWYgX3BhcnNlX2lucHV0c19vdXRwdXRzKGlvX2RpY3Q6IERpY3QsIHBhcnNlX2Z1bmM6IENhbGxhYmxlKSAtPiBUdXBsZVtEaWN0LCBEaWN0XToKICAgIGNvbXBvbmVudF9pb19kaWN0LCBqb2JfaW9fZGljdCA9IHt9LCB7fQogICAgaWYgaW9fZGljdDoKICAgICAgICBmb3Iga2V5LCB2YWwgaW4gaW9fZGljdC5pdGVtcygpOgogICAgICAgICAgICBjb21wb25lbnRfaW8sIGpvYl9pbyA9IHBhcnNlX2Z1bmModmFsKQogICAgICAgICAgICBjb21wb25lbnRfaW9fZGljdFtrZXldID0gY29tcG9uZW50X2lvCiAgICAgICAgICAgIGpvYl9pb19kaWN0W2tleV0gPSBqb2JfaW8KICAgIHJldHVybiBjb21wb25lbnRfaW9fZGljdCwgam9iX2lvX2RpY3QKCgpkZWYgY29weV9kYXRhKAogICAgKiwKICAgIG5hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgZGVzY3JpcHRpb246IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgdGFnczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgZGlzcGxheV9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGV4cGVyaW1lbnRfbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBjb21wdXRlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGlucHV0czogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgb3V0cHV0czogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgaXNfZGV0ZXJtaW5pc3RpYzogYm9vbCA9IFRydWUsCiAgICB0YXNrOiBPcHRpb25hbFtzdHJdID0gRGF0YVRyYW5zZmVyVGFza1R5cGUuQ09QWV9EQVRBLAogICAgZGF0YV9jb3B5X21vZGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgKiprd2FyZ3MsCikgLT4gRGF0YVRyYW5zZmVyQ29weToKICAgICIiIkNyZWF0ZSBhIERhdGFUcmFuc2ZlckNvcHkgb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIGluc2lkZSBkc2wucGlwZWxpbmUgYXMgYSBmdW5jdGlvbi4KCiAgICA6cGFyYW0gbmFtZTogVGhlIG5hbWUgb2YgdGhlIGpvYi4KICAgIDp0eXBlIG5hbWU6IHN0cgogICAgOnBhcmFtIGRlc2NyaXB0aW9uOiBEZXNjcmlwdGlvbiBvZiB0aGUgam9iLgogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZyBkaWN0aW9uYXJ5LiBUYWdzIGNhbiBiZSBhZGRlZCwgcmVtb3ZlZCwgYW5kIHVwZGF0ZWQuCiAgICA6dHlwZSB0YWdzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIGRpc3BsYXlfbmFtZTogRGlzcGxheSBuYW1lIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBkaXNwbGF5X25hbWU6IHN0cgogICAgOnBhcmFtIGV4cGVyaW1lbnRfbmFtZTogIE5hbWUgb2YgdGhlIGV4cGVyaW1lbnQgdGhlIGpvYiB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIuCiAgICA6dHlwZSBleHBlcmltZW50X25hbWU6IHN0cgogICAgOnBhcmFtIGNvbXB1dGU6IFRoZSBjb21wdXRlIHJlc291cmNlIHRoZSBqb2IgcnVucyBvbi4KICAgIDp0eXBlIGNvbXB1dGU6IHN0cgogICAgOnBhcmFtIGlucHV0czogTWFwcGluZyBvZiBpbnB1dHMgZGF0YSBiaW5kaW5ncyB1c2VkIGluIHRoZSBqb2IuCiAgICA6dHlwZSBpbnB1dHM6IGRpY3QKICAgIDpwYXJhbSBvdXRwdXRzOiBNYXBwaW5nIG9mIG91dHB1dHMgZGF0YSBiaW5kaW5ncyB1c2VkIGluIHRoZSBqb2IuCiAgICA6dHlwZSBvdXRwdXRzOiBkaWN0CiAgICA6cGFyYW0gaXNfZGV0ZXJtaW5pc3RpYzogU3BlY2lmeSB3aGV0aGVyIHRoZSBjb21tYW5kIHdpbGwgcmV0dXJuIHNhbWUgb3V0cHV0IGdpdmVuIHNhbWUgaW5wdXQuCiAgICAgICAgSWYgYSBjb21tYW5kIChjb21wb25lbnQpIGlzIGRldGVybWluaXN0aWMsIHdoZW4gdXNlIGl0IGFzIGEgbm9kZS9zdGVwIGluIGEgcGlwZWxpbmUsCiAgICAgICAgaXQgd2lsbCByZXVzZSByZXN1bHRzIGZyb20gYSBwcmV2aW91cyBzdWJtaXR0ZWQgam9iIGluIGN1cnJlbnQgd29ya3NwYWNlIHdoaWNoIGhhcyBzYW1lIGlucHV0cyBhbmQgc2V0dGluZ3MuCiAgICAgICAgSW4gdGhpcyBjYXNlLCB0aGlzIHN0ZXAgd2lsbCBub3QgdXNlIGFueSBjb21wdXRlIHJlc291cmNlLgogICAgICAgIERlZmF1bHQgdG8gYmUgVHJ1ZSwgc3BlY2lmeSBpc19kZXRlcm1pbmlzdGljPUZhbHNlIGlmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHN1Y2ggcmV1c2UgYmVoYXZpb3IuCiAgICA6dHlwZSBpc19kZXRlcm1pbmlzdGljOiBib29sCiAgICA6cGFyYW0gdGFzazogdGFzayB0eXBlIGluIGRhdGEgdHJhbnNmZXIgY29tcG9uZW50LCBwb3NzaWJsZSB2YWx1ZSBpcyAiY29weV9kYXRhIi4KICAgIDp0eXBlIHRhc2s6IHN0cgogICAgOnBhcmFtIGRhdGFfY29weV9tb2RlOiBkYXRhIGNvcHkgbW9kZSBpbiBjb3B5IHRhc2ssIHBvc3NpYmxlIHZhbHVlIGlzICJtZXJnZV93aXRoX292ZXJ3cml0ZSIsICJmYWlsX2lmX2NvbmZsaWN0Ii4KICAgIDp0eXBlIGRhdGFfY29weV9tb2RlOiBzdHIKICAgICIiIgogICAgaW5wdXRzID0gaW5wdXRzIG9yIHt9CiAgICBvdXRwdXRzID0gb3V0cHV0cyBvciB7fQogICAgY29tcG9uZW50X2lucHV0cywgam9iX2lucHV0cyA9IF9wYXJzZV9pbnB1dHNfb3V0cHV0cyhpbnB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX2lucHV0KQogICAgIyBqb2IgaW5wdXRzIGNhbiBub3QgYmUgTm9uZQogICAgam9iX2lucHV0cyA9IHtrOiB2IGZvciBrLCB2IGluIGpvYl9pbnB1dHMuaXRlbXMoKSBpZiB2IGlzIG5vdCBOb25lfQogICAgY29tcG9uZW50X291dHB1dHMsIGpvYl9vdXRwdXRzID0gX3BhcnNlX2lucHV0c19vdXRwdXRzKG91dHB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX291dHB1dCkKICAgIGNvbXBvbmVudCA9IGt3YXJncy5wb3AoImNvbXBvbmVudCIsIE5vbmUpCiAgICBpZiBjb21wb25lbnQgaXMgTm9uZToKICAgICAgICBjb21wb25lbnQgPSBEYXRhVHJhbnNmZXJDb3B5Q29tcG9uZW50KAogICAgICAgICAgICBuYW1lPW5hbWUsCiAgICAgICAgICAgIHRhZ3M9dGFncywKICAgICAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249ZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGlucHV0cz1jb21wb25lbnRfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPWNvbXBvbmVudF9vdXRwdXRzLAogICAgICAgICAgICB0YXNrPXRhc2ssCiAgICAgICAgICAgIGRhdGFfY29weV9tb2RlPWRhdGFfY29weV9tb2RlLAogICAgICAgICAgICBfc291cmNlPUNvbXBvbmVudFNvdXJjZS5CVUlMREVSLAogICAgICAgICAgICBpc19kZXRlcm1pbmlzdGljPWlzX2RldGVybWluaXN0aWMsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgIGRhdGFfdHJhbnNmZXJfY29weV9vYmogPSBEYXRhVHJhbnNmZXJDb3B5KAogICAgICAgIGNvbXBvbmVudD1jb21wb25lbnQsCiAgICAgICAgbmFtZT1uYW1lLAogICAgICAgIGRlc2NyaXB0aW9uPWRlc2NyaXB0aW9uLAogICAgICAgIHRhZ3M9dGFncywKICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsCiAgICAgICAgY29tcHV0ZT1jb21wdXRlLAogICAgICAgIGlucHV0cz1qb2JfaW5wdXRzLAogICAgICAgIG91dHB1dHM9am9iX291dHB1dHMsCiAgICAgICAgdGFzaz10YXNrLAogICAgICAgIGRhdGFfY29weV9tb2RlPWRhdGFfY29weV9tb2RlLAogICAgICAgICoqa3dhcmdzLAogICAgKQogICAgcmV0dXJuIGRhdGFfdHJhbnNmZXJfY29weV9vYmoKCgpAcGlwZWxpbmVfbm9kZV9kZWNvcmF0b3IKZGVmIGltcG9ydF9kYXRhKAogICAgKiwKICAgIG5hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgZGVzY3JpcHRpb246IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgdGFnczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgZGlzcGxheV9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGV4cGVyaW1lbnRfbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBjb21wdXRlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIHNvdXJjZTogT3B0aW9uYWxbVW5pb25bRGljdCwgRGF0YWJhc2UsIEZpbGVTeXN0ZW1dXSA9IE5vbmUsCiAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICB0YXNrOiBPcHRpb25hbFtzdHJdID0gRGF0YVRyYW5zZmVyVGFza1R5cGUuSU1QT1JUX0RBVEEsCiAgICAqKmt3YXJncywKKSAtPiBEYXRhVHJhbnNmZXJJbXBvcnQ6CiAgICAiIiJDcmVhdGUgYSBEYXRhVHJhbnNmZXJJbXBvcnQgb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIGluc2lkZSBkc2wucGlwZWxpbmUuCgogICAgOnBhcmFtIG5hbWU6IFRoZSBuYW1lIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBuYW1lOiBzdHIKICAgIDpwYXJhbSBkZXNjcmlwdGlvbjogRGVzY3JpcHRpb24gb2YgdGhlIGpvYi4KICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSB0YWdzOiBUYWcgZGljdGlvbmFyeS4gVGFncyBjYW4gYmUgYWRkZWQsIHJlbW92ZWQsIGFuZCB1cGRhdGVkLgogICAgOnR5cGUgdGFnczogZGljdFtzdHIsIHN0cl0KICAgIDpwYXJhbSBkaXNwbGF5X25hbWU6IERpc3BsYXkgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgZGlzcGxheV9uYW1lOiBzdHIKICAgIDpwYXJhbSBleHBlcmltZW50X25hbWU6ICBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgIDpwYXJhbSBjb21wdXRlOiBUaGUgY29tcHV0ZSByZXNvdXJjZSB0aGUgam9iIHJ1bnMgb24uCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSBzb3VyY2U6IFRoZSBkYXRhIHNvdXJjZSBvZiBmaWxlIHN5c3RlbSBvciBkYXRhYmFzZQogICAgOnR5cGUgc291cmNlOiBVbmlvbltEaWN0LCBEYXRhYmFzZSwgRmlsZVN5c3RlbV0KICAgIDpwYXJhbSBvdXRwdXRzOiBNYXBwaW5nIG9mIG91dHB1dHMgZGF0YSBiaW5kaW5ncyB1c2VkIGluIHRoZSBqb2IsIGRlZmF1bHQgd2lsbCBiZSBhbiBvdXRwdXQgcG9ydCB3aXRoIGtleSAic2luayIKICAgIGFuZCB0eXBlICJtbHRhYmxlIi4KICAgIDp0eXBlIG91dHB1dHM6IGRpY3QKICAgIDpwYXJhbSB0YXNrOiB0YXNrIHR5cGUgaW4gZGF0YSB0cmFuc2ZlciBjb21wb25lbnQsIHBvc3NpYmxlIHZhbHVlIGlzICJjb3B5X2RhdGEiLgogICAgOnR5cGUgdGFzazogc3RyCiAgICAiIiIKICAgIHNvdXJjZSA9IF9idWlsZF9zb3VyY2Vfc2luayhzb3VyY2UpCiAgICBvdXRwdXRzID0gb3V0cHV0cyBvciB7InNpbmsiOiBPdXRwdXQodHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUpfQogICAgIyAjIGpvYiBpbnB1dHMgY2FuIG5vdCBiZSBOb25lCiAgICAjIGpvYl9pbnB1dHMgPSB7azogdiBmb3IgaywgdiBpbiBqb2JfaW5wdXRzLml0ZW1zKCkgaWYgdiBpcyBub3QgTm9uZX0KICAgIF8sIGpvYl9vdXRwdXRzID0gX3BhcnNlX2lucHV0c19vdXRwdXRzKG91dHB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX291dHB1dCkKICAgIGNvbXBvbmVudCA9IGt3YXJncy5wb3AoImNvbXBvbmVudCIsIE5vbmUpCiAgICB1cGRhdGVfc291cmNlID0gRmFsc2UKICAgIGlmIGNvbXBvbmVudCBpcyBOb25lOgogICAgICAgIGlmIHNvdXJjZSBhbmQgc291cmNlLnR5cGUgPT0gRXh0ZXJuYWxEYXRhVHlwZS5EQVRBQkFTRToKICAgICAgICAgICAgY29tcG9uZW50ID0gRGF0YVRyYW5zZmVyQnVpbHRpbkNvbXBvbmVudFVyaS5JTVBPUlRfREFUQUJBU0UKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb21wb25lbnQgPSBEYXRhVHJhbnNmZXJCdWlsdGluQ29tcG9uZW50VXJpLklNUE9SVF9GSUxFX1NZU1RFTQogICAgICAgIHVwZGF0ZV9zb3VyY2UgPSBUcnVlCgogICAgZGF0YV90cmFuc2Zlcl9pbXBvcnRfb2JqID0gRGF0YVRyYW5zZmVySW1wb3J0KAogICAgICAgIGNvbXBvbmVudD1jb21wb25lbnQsCiAgICAgICAgbmFtZT1uYW1lLAogICAgICAgIGRlc2NyaXB0aW9uPWRlc2NyaXB0aW9uLAogICAgICAgIHRhZ3M9dGFncywKICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsCiAgICAgICAgY29tcHV0ZT1jb21wdXRlLAogICAgICAgIHNvdXJjZT1zb3VyY2UsCiAgICAgICAgb3V0cHV0cz1qb2Jfb3V0cHV0cywKICAgICAgICB0YXNrPXRhc2ssCiAgICAgICAgKiprd2FyZ3MsCiAgICApCiAgICBpZiB1cGRhdGVfc291cmNlOgogICAgICAgIGRhdGFfdHJhbnNmZXJfaW1wb3J0X29iai5fc291cmNlID0gQ29tcG9uZW50U291cmNlLkJVSUxUSU4KCiAgICByZXR1cm4gZGF0YV90cmFuc2Zlcl9pbXBvcnRfb2JqCgoKQHBpcGVsaW5lX25vZGVfZGVjb3JhdG9yCmRlZiBleHBvcnRfZGF0YSgKICAgICosCiAgICBuYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIHRhZ3M6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgIGRpc3BsYXlfbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBleHBlcmltZW50X25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgY29tcHV0ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBzaW5rOiBPcHRpb25hbFtVbmlvbltEaWN0LCBEYXRhYmFzZSwgRmlsZVN5c3RlbV1dID0gTm9uZSwKICAgIGlucHV0czogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgdGFzazogT3B0aW9uYWxbc3RyXSA9IERhdGFUcmFuc2ZlclRhc2tUeXBlLkVYUE9SVF9EQVRBLAogICAgKiprd2FyZ3MsCikgLT4gRGF0YVRyYW5zZmVyRXhwb3J0OgogICAgIiIiQ3JlYXRlIGEgRGF0YVRyYW5zZmVyRXhwb3J0IG9iamVjdCB3aGljaCBjYW4gYmUgdXNlZCBpbnNpZGUgZHNsLnBpcGVsaW5lLgoKICAgIDpwYXJhbSBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgbmFtZTogc3RyCiAgICA6cGFyYW0gZGVzY3JpcHRpb246IERlc2NyaXB0aW9uIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBkZXNjcmlwdGlvbjogc3RyCiAgICA6cGFyYW0gdGFnczogVGFnIGRpY3Rpb25hcnkuIFRhZ3MgY2FuIGJlIGFkZGVkLCByZW1vdmVkLCBhbmQgdXBkYXRlZC4KICAgIDp0eXBlIHRhZ3M6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gZGlzcGxheV9uYW1lOiBEaXNwbGF5IG5hbWUgb2YgdGhlIGpvYi4KICAgIDp0eXBlIGRpc3BsYXlfbmFtZTogc3RyCiAgICA6cGFyYW0gZXhwZXJpbWVudF9uYW1lOiAgTmFtZSBvZiB0aGUgZXhwZXJpbWVudCB0aGUgam9iIHdpbGwgYmUgY3JlYXRlZCB1bmRlci4KICAgIDp0eXBlIGV4cGVyaW1lbnRfbmFtZTogc3RyCiAgICA6cGFyYW0gY29tcHV0ZTogVGhlIGNvbXB1dGUgcmVzb3VyY2UgdGhlIGpvYiBydW5zIG9uLgogICAgOnR5cGUgY29tcHV0ZTogc3RyCiAgICA6cGFyYW0gc2luazogVGhlIHNpbmsgb2YgZXh0ZXJuYWwgZGF0YSBhbmQgZGF0YWJhc2VzLgogICAgOnR5cGUgc2luazogVW5pb25bRGljdCwgRGF0YWJhc2UsIEZpbGVTeXN0ZW1dCiAgICA6cGFyYW0gaW5wdXRzOiBNYXBwaW5nIG9mIGlucHV0cyBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIGlucHV0czogZGljdAogICAgOnBhcmFtIHRhc2s6IHRhc2sgdHlwZSBpbiBkYXRhIHRyYW5zZmVyIGNvbXBvbmVudCwgcG9zc2libGUgdmFsdWUgaXMgImNvcHlfZGF0YSIuCiAgICA6dHlwZSB0YXNrOiBzdHIKICAgICIiIgogICAgc2luayA9IF9idWlsZF9zb3VyY2Vfc2luayhzaW5rKQogICAgXywgam9iX2lucHV0cyA9IF9wYXJzZV9pbnB1dHNfb3V0cHV0cyhpbnB1dHMsIHBhcnNlX2Z1bmM9X3BhcnNlX2lucHV0KQogICAgIyBqb2IgaW5wdXRzIGNhbiBub3QgYmUgTm9uZQogICAgam9iX2lucHV0cyA9IHtrOiB2IGZvciBrLCB2IGluIGpvYl9pbnB1dHMuaXRlbXMoKSBpZiB2IGlzIG5vdCBOb25lfQogICAgY29tcG9uZW50ID0ga3dhcmdzLnBvcCgiY29tcG9uZW50IiwgTm9uZSkKICAgIHVwZGF0ZV9zb3VyY2UgPSBGYWxzZQogICAgaWYgY29tcG9uZW50IGlzIE5vbmU6CiAgICAgICAgaWYgc2luayBhbmQgc2luay50eXBlID09IEV4dGVybmFsRGF0YVR5cGUuREFUQUJBU0U6CiAgICAgICAgICAgIGNvbXBvbmVudCA9IERhdGFUcmFuc2ZlckJ1aWx0aW5Db21wb25lbnRVcmkuRVhQT1JUX0RBVEFCQVNFCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbXNnID0gIlNpbmsgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgZXhwb3J0IGRhdGEgdGFzayBhbmQgd2UgZG9uJ3Qgc3VwcG9ydCBleHBvcnRpbmcgZmlsZSBzeXN0ZW0gZm9yIG5vdy4iCiAgICAgICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgICAgICBtZXNzYWdlPW1zZywKICAgICAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2csCiAgICAgICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuSk9CLAogICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICkKICAgICAgICB1cGRhdGVfc291cmNlID0gVHJ1ZQoKICAgIGRhdGFfdHJhbnNmZXJfZXhwb3J0X29iaiA9IERhdGFUcmFuc2ZlckV4cG9ydCgKICAgICAgICBjb21wb25lbnQ9Y29tcG9uZW50LAogICAgICAgIG5hbWU9bmFtZSwKICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbiwKICAgICAgICB0YWdzPXRhZ3MsCiAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLAogICAgICAgIGNvbXB1dGU9Y29tcHV0ZSwKICAgICAgICBzaW5rPXNpbmssCiAgICAgICAgaW5wdXRzPWpvYl9pbnB1dHMsCiAgICAgICAgdGFzaz10YXNrLAogICAgICAgICoqa3dhcmdzLAogICAgKQogICAgaWYgdXBkYXRlX3NvdXJjZToKICAgICAgICBkYXRhX3RyYW5zZmVyX2V4cG9ydF9vYmouX3NvdXJjZSA9IENvbXBvbmVudFNvdXJjZS5CVUlMVElOCgogICAgcmV0dXJuIGRhdGFfdHJhbnNmZXJfZXhwb3J0X29iago=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "51EFJI1yj6HevQpanMku7Q==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C3520E9\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "WNy\u002BDv1Yamc=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/587af731-527f-4581-9c51-f00cb88339d0/versions/1?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "307",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isAnonymous": true,
          "isArchived": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "847",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/587af731-527f-4581-9c51-f00cb88339d0/versions/1?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-2e1de3d5a6b12765daf40d6667deb702-64d71240a1c31c47-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "20faca26-d464-4db8-bfd6-836a34802961",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173941Z:20faca26-d464-4db8-bfd6-836a34802961",
        "x-request-time": "0.237"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/587af731-527f-4581-9c51-f00cb88339d0/versions/1",
        "name": "1",
        "type": "Microsoft.MachineLearningServices/workspaces/codes/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isArchived": false,
          "isAnonymous": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/aggregate"
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:41.1421608\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:41.1421608\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/parallel.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "17512",
        "Content-MD5": "T62OhhfsG6vDnnvyNg0d8A==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKCmltcG9ydCBjb3B5CmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmltcG9ydCByZQpmcm9tIGVudW0gaW1wb3J0IEVudW0KZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKZnJvbSBtYXJzaG1hbGxvdyBpbXBvcnQgU2NoZW1hCgpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24gYXMgUmVzdEpvYlJlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBBUk1fSURfUFJFRklYCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0IE5vZGVUeXBlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQucGFyYWxsZWxfY29tcG9uZW50IGltcG9ydCBQYXJhbGxlbENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9pbnB1dHNfb3V0cHV0cyBpbXBvcnQgSW5wdXQsIE91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuam9iX3Jlc291cmNlX2NvbmZpZ3VyYXRpb24gaW1wb3J0IEpvYlJlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGFyYWxsZWwucGFyYWxsZWxfam9iIGltcG9ydCBQYXJhbGxlbEpvYgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGFyYWxsZWwucGFyYWxsZWxfdGFzayBpbXBvcnQgUGFyYWxsZWxUYXNrCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5wYXJhbGxlbC5yZXRyeV9zZXR0aW5ncyBpbXBvcnQgUmV0cnlTZXR0aW5ncwoKZnJvbSAuLi5fc2NoZW1hIGltcG9ydCBQYXRoQXdhcmVTY2hlbWEKZnJvbSAuLl9qb2IucGlwZWxpbmUuX2lvIGltcG9ydCBOb2RlT3V0cHV0CmZyb20gLi5fdXRpbCBpbXBvcnQgY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdCwgZ2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycywgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUKZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZQoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIFBhcmFsbGVsKEJhc2VOb2RlKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIHBhcmFsbGVsIG5vZGUsIHVzZWQgZm9yIHBhcmFsbGVsIGNvbXBvbmVudCB2ZXJzaW9uIGNvbnN1bXB0aW9uLgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIGJ1aWxkZXIgZnVuY3Rpb246IHBhcmFsbGVsLgoKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9yIGluc3RhbmNlIG9mIHRoZSBwYXJhbGxlbCBjb21wb25lbnQvam9iIHRvIGJlIHJ1biBmb3IgdGhlIHN0ZXAKICAgIDp0eXBlIGNvbXBvbmVudDogcGFyYWxsZWxDb21wb25lbnQKICAgIDpwYXJhbSBuYW1lOiBOYW1lIG9mIHRoZSBwYXJhbGxlbC4KICAgIDp0eXBlIG5hbWU6IHN0cgogICAgOnBhcmFtIGRlc2NyaXB0aW9uOiBEZXNjcmlwdGlvbiBvZiB0aGUgY29tbWFkLgogICAgOnR5cGUgZGVzY3JpcHRpb246IHN0cgogICAgOnBhcmFtIHRhZ3M6IFRhZyBkaWN0aW9uYXJ5LiBUYWdzIGNhbiBiZSBhZGRlZCwgcmVtb3ZlZCwgYW5kIHVwZGF0ZWQuCiAgICA6dHlwZSB0YWdzOiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIHByb3BlcnRpZXM6IFRoZSBqb2IgcHJvcGVydHkgZGljdGlvbmFyeS4KICAgIDp0eXBlIHByb3BlcnRpZXM6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gZGlzcGxheV9uYW1lOiBEaXNwbGF5IG5hbWUgb2YgdGhlIGpvYi4KICAgIDp0eXBlIGRpc3BsYXlfbmFtZTogc3RyCiAgICA6cGFyYW0gcmV0cnlfc2V0dGluZ3M6IHBhcmFsbGVsIGpvYiBydW4gZmFpbGVkIHJldHJ5CiAgICA6dHlwZSByZXRyeV9zZXR0aW5nczogQmF0Y2hSZXRyeVNldHRpbmdzCiAgICA6cGFyYW0gbG9nZ2luZ19sZXZlbDogQSBzdHJpbmcgb2YgdGhlIGxvZ2dpbmcgbGV2ZWwgbmFtZQogICAgOnR5cGUgbG9nZ2luZ19sZXZlbDogc3RyCiAgICA6cGFyYW0gbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZTogVGhlIG1heCBwYXJhbGxlbGxpc20gdGhhdCBlYWNoIGNvbXB1dGUgaW5zdGFuY2UgaGFzLgogICAgOnR5cGUgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZTogaW50CiAgICA6cGFyYW0gZXJyb3JfdGhyZXNob2xkOiBUaGUgbnVtYmVyIG9mIGl0ZW0gcHJvY2Vzc2luZyBmYWlsdXJlcyBzaG91bGQgYmUgaWdub3JlZC4KICAgIDp0eXBlIGVycm9yX3RocmVzaG9sZDogaW50CiAgICA6cGFyYW0gbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ6IFRoZSBudW1iZXIgb2YgbWluaSBiYXRjaCBwcm9jZXNzaW5nIGZhaWx1cmVzIHNob3VsZCBiZSBpZ25vcmVkLgogICAgOnR5cGUgbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ6IGludAogICAgOnBhcmFtIHRhc2s6IFRoZSBwYXJhbGxlbCB0YXNrLgogICAgOnR5cGUgdGFzazogUGFyYWxsZWxUYXNrCiAgICA6cGFyYW0gbWluaV9iYXRjaF9zaXplOiBGb3IgRmlsZURhdGFzZXQgaW5wdXQsIHRoaXMgZmllbGQgaXMgdGhlIG51bWJlciBvZiBmaWxlcyBhIHVzZXIgc2NyaXB0IGNhbiBwcm9jZXNzCiAgICAgICAgaW4gb25lIHJ1bigpIGNhbGwuIEZvciBUYWJ1bGFyRGF0YXNldCBpbnB1dCwgdGhpcyBmaWVsZCBpcyB0aGUgYXBwcm94aW1hdGUgc2l6ZSBvZiBkYXRhIHRoZSB1c2VyIHNjcmlwdAogICAgICAgIGNhbiBwcm9jZXNzIGluIG9uZSBydW4oKSBjYWxsLiBFeGFtcGxlIHZhbHVlcyBhcmUgMTAyNCwgMTAyNEtCLCAxME1CLCBhbmQgMUdCLgogICAgICAgIChvcHRpb25hbCwgZGVmYXVsdCB2YWx1ZSBpcyAxMCBmaWxlcyBmb3IgRmlsZURhdGFzZXQgYW5kIDFNQiBmb3IgVGFidWxhckRhdGFzZXQuKSBUaGlzIHZhbHVlIGNvdWxkIGJlIHNldAogICAgICAgIHRocm91Z2ggUGlwZWxpbmVQYXJhbWV0ZXIKICAgIDp0eXBlIG1pbmlfYmF0Y2hfc2l6ZTogc3RyCiAgICA6cGFyYW0gcGFydGl0aW9uX2tleXM6IFRoZSBrZXlzIHVzZWQgdG8gcGFydGl0aW9uIGRhdGFzZXQgaW50byBtaW5pLWJhdGNoZXMuCiAgICAgICAgSWYgc3BlY2lmaWVkLCB0aGUgZGF0YSB3aXRoIHRoZSBzYW1lIGtleSB3aWxsIGJlIHBhcnRpdGlvbmVkIGludG8gdGhlIHNhbWUgbWluaS1iYXRjaC4KICAgICAgICBJZiBib3RoIHBhcnRpdGlvbl9rZXlzIGFuZCBtaW5pX2JhdGNoX3NpemUgYXJlIHNwZWNpZmllZCwgdGhlIHBhcnRpdGlvbiBrZXlzIHdpbGwgdGFrZSBlZmZlY3QuCiAgICAgICAgVGhlIGlucHV0KHMpIG11c3QgYmUgcGFydGl0aW9uZWQgZGF0YXNldChzKSwKICAgICAgICBhbmQgdGhlIHBhcnRpdGlvbl9rZXlzIG11c3QgYmUgYSBzdWJzZXQgb2YgdGhlIGtleXMgb2YgZXZlcnkgaW5wdXQgZGF0YXNldCBmb3IgdGhpcyB0byB3b3JrLgogICAgOnR5cGUgcGFydGl0aW9uX2tleXM6IExpc3QKICAgIDpwYXJhbSBpbnB1dF9kYXRhOiBUaGUgaW5wdXQgZGF0YS4KICAgIDp0eXBlIGlucHV0X2RhdGE6IHN0cgogICAgOnBhcmFtIGlucHV0czogSW5wdXRzIG9mIHRoZSBjb21wb25lbnQvam9iLgogICAgOnR5cGUgaW5wdXRzOiBkaWN0CiAgICA6cGFyYW0gb3V0cHV0czogT3V0cHV0cyBvZiB0aGUgY29tcG9uZW50L2pvYi4KICAgIDp0eXBlIG91dHB1dHM6IGRpY3QKICAgICIiIgoKICAgICMgcHlsaW50OiBkaXNhYmxlPXRvby1tYW55LWluc3RhbmNlLWF0dHJpYnV0ZXMKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgICosCiAgICAgICAgY29tcG9uZW50OiBVbmlvbltQYXJhbGxlbENvbXBvbmVudCwgc3RyXSwKICAgICAgICBjb21wdXRlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBpbnB1dHM6IE9wdGlvbmFsWwogICAgICAgICAgICBEaWN0WwogICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgVW5pb25bCiAgICAgICAgICAgICAgICAgICAgTm9kZU91dHB1dCwKICAgICAgICAgICAgICAgICAgICBJbnB1dCwKICAgICAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICAgICAgYm9vbCwKICAgICAgICAgICAgICAgICAgICBpbnQsCiAgICAgICAgICAgICAgICAgICAgZmxvYXQsCiAgICAgICAgICAgICAgICAgICAgRW51bSwKICAgICAgICAgICAgICAgICAgICAiSW5wdXQiLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgXQogICAgICAgIF0gPSBOb25lLAogICAgICAgIG91dHB1dHM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dCwgIk91dHB1dCJdXV0gPSBOb25lLAogICAgICAgIHJldHJ5X3NldHRpbmdzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bUmV0cnlTZXR0aW5ncywgc3RyXV1dID0gTm9uZSwKICAgICAgICBsb2dnaW5nX2xldmVsOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBlcnJvcl90aHJlc2hvbGQ6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgICAgIG1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBpbnB1dF9kYXRhOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICB0YXNrOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bUGFyYWxsZWxUYXNrLCBzdHJdXV0gPSBOb25lLAogICAgICAgIHBhcnRpdGlvbl9rZXlzOiBPcHRpb25hbFtMaXN0XSA9IE5vbmUsCiAgICAgICAgbWluaV9iYXRjaF9zaXplOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICByZXNvdXJjZXM6IE9wdGlvbmFsW0pvYlJlc291cmNlQ29uZmlndXJhdGlvbl0gPSBOb25lLAogICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIHZhbGlkYXRlIGluaXQgcGFyYW1zIGFyZSB2YWxpZCB0eXBlCiAgICAgICAgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUoYXR0cnNfdG9fY2hlY2s9bG9jYWxzKCksIGF0dHJfdHlwZV9tYXA9c2VsZi5fYXR0cl90eXBlX21hcCgpKQogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQoKICAgICAgICBCYXNlTm9kZS5fX2luaXRfXygKICAgICAgICAgICAgc2VsZiwKICAgICAgICAgICAgdHlwZT1Ob2RlVHlwZS5QQVJBTExFTCwKICAgICAgICAgICAgY29tcG9uZW50PWNvbXBvbmVudCwKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgICAgICAjIGluaXQgbWFyayBmb3IgX0F0dHJEaWN0CiAgICAgICAgc2VsZi5faW5pdCA9IFRydWUKCiAgICAgICAgc2VsZi5fdGFzayA9IHRhc2sKCiAgICAgICAgaWYgbWluaV9iYXRjaF9zaXplIGlzIG5vdCBOb25lIGFuZCBub3QgaXNpbnN0YW5jZShtaW5pX2JhdGNoX3NpemUsIGludCk6CiAgICAgICAgICAgICIiIkNvbnZlcnQgc3RyIHRvIGludC4iIiIgICMgcHlsaW50OiBkaXNhYmxlPXBvaW50bGVzcy1zdHJpbmctc3RhdGVtZW50CiAgICAgICAgICAgIHBhdHRlcm4gPSByZS5jb21waWxlKHIiXlxkKyhba0ttTWdHXVtiQl0pKiQiKQogICAgICAgICAgICBpZiBub3QgcGF0dGVybi5tYXRjaChtaW5pX2JhdGNoX3NpemUpOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihyIlBhcmFtZXRlciBtaW5pX2JhdGNoX3NpemUgbXVzdCBmb2xsb3cgcmVnZXggcnVsZSBeXGQrKFtrS21NZ0ddW2JCXSkqJCIpCgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBtaW5pX2JhdGNoX3NpemUgPSBpbnQobWluaV9iYXRjaF9zaXplKQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIHVuaXQgPSBtaW5pX2JhdGNoX3NpemVbLTI6XS5sb3dlcigpCiAgICAgICAgICAgICAgICBpZiB1bml0ID09ICJrYiI6CiAgICAgICAgICAgICAgICAgICAgbWluaV9iYXRjaF9zaXplID0gaW50KG1pbmlfYmF0Y2hfc2l6ZVswOi0yXSkgKiAxMDI0CiAgICAgICAgICAgICAgICBlbGlmIHVuaXQgPT0gIm1iIjoKICAgICAgICAgICAgICAgICAgICBtaW5pX2JhdGNoX3NpemUgPSBpbnQobWluaV9iYXRjaF9zaXplWzA6LTJdKSAqIDEwMjQgKiAxMDI0CiAgICAgICAgICAgICAgICBlbGlmIHVuaXQgPT0gImdiIjoKICAgICAgICAgICAgICAgICAgICBtaW5pX2JhdGNoX3NpemUgPSBpbnQobWluaV9iYXRjaF9zaXplWzA6LTJdKSAqIDEwMjQgKiAxMDI0ICogMTAyNAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJtaW5pX2JhdGNoX3NpemUgdW5pdCBtdXN0IGJlIGtiLCBtYiBvciBnYiIpCgogICAgICAgIHNlbGYubWluaV9iYXRjaF9zaXplID0gbWluaV9iYXRjaF9zaXplCiAgICAgICAgc2VsZi5wYXJ0aXRpb25fa2V5cyA9IHBhcnRpdGlvbl9rZXlzCiAgICAgICAgc2VsZi5pbnB1dF9kYXRhID0gaW5wdXRfZGF0YQogICAgICAgIHNlbGYuX3JldHJ5X3NldHRpbmdzID0gcmV0cnlfc2V0dGluZ3MKICAgICAgICBzZWxmLmxvZ2dpbmdfbGV2ZWwgPSBsb2dnaW5nX2xldmVsCiAgICAgICAgc2VsZi5tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlID0gbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZQogICAgICAgIHNlbGYuZXJyb3JfdGhyZXNob2xkID0gZXJyb3JfdGhyZXNob2xkCiAgICAgICAgc2VsZi5taW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCA9IG1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkCiAgICAgICAgc2VsZi5fcmVzb3VyY2VzID0gcmVzb3VyY2VzCiAgICAgICAgc2VsZi5lbnZpcm9ubWVudF92YXJpYWJsZXMgPSB7fSBpZiBlbnZpcm9ubWVudF92YXJpYWJsZXMgaXMgTm9uZSBlbHNlIGVudmlyb25tZW50X3ZhcmlhYmxlcwoKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuY29tcG9uZW50LCBQYXJhbGxlbENvbXBvbmVudCk6CiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzID0gc2VsZi5yZXNvdXJjZXMgb3Igc2VsZi5jb21wb25lbnQucmVzb3VyY2VzCiAgICAgICAgICAgIHNlbGYuaW5wdXRfZGF0YSA9IHNlbGYuaW5wdXRfZGF0YSBvciBzZWxmLmNvbXBvbmVudC5pbnB1dF9kYXRhCiAgICAgICAgICAgIHNlbGYubWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSA9ICgKICAgICAgICAgICAgICAgIHNlbGYubWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSBvciBzZWxmLmNvbXBvbmVudC5tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5taW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCA9ICgKICAgICAgICAgICAgICAgIHNlbGYubWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQgb3Igc2VsZi5jb21wb25lbnQubWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLm1pbmlfYmF0Y2hfc2l6ZSA9IHNlbGYubWluaV9iYXRjaF9zaXplIG9yIHNlbGYuY29tcG9uZW50Lm1pbmlfYmF0Y2hfc2l6ZQogICAgICAgICAgICBzZWxmLnBhcnRpdGlvbl9rZXlzID0gc2VsZi5wYXJ0aXRpb25fa2V5cyBvciBzZWxmLmNvbXBvbmVudC5wYXJ0aXRpb25fa2V5cwoKICAgICAgICAgICAgaWYgbm90IHNlbGYudGFzazoKICAgICAgICAgICAgICAgIHNlbGYudGFzayA9IHNlbGYuY29tcG9uZW50LnRhc2sKICAgICAgICAgICAgICAgICMgdGFzay5jb2RlIGlzIGJhc2VkIG9uIHNlbGYuY29tcG9uZW50LmJhc2VfcGF0aAogICAgICAgICAgICAgICAgc2VsZi5fYmFzZV9wYXRoID0gc2VsZi5jb21wb25lbnQuYmFzZV9wYXRoCgogICAgICAgIHNlbGYuX2luaXQgPSBGYWxzZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfc3VwcG9ydGVkX291dHB1dHNfdHlwZXMoY2xzKToKICAgICAgICByZXR1cm4gc3RyLCBPdXRwdXQKCiAgICBAcHJvcGVydHkKICAgIGRlZiByZXRyeV9zZXR0aW5ncyhzZWxmKSAtPiBSZXRyeVNldHRpbmdzOgogICAgICAgIHJldHVybiBzZWxmLl9yZXRyeV9zZXR0aW5ncwoKICAgIEByZXRyeV9zZXR0aW5ncy5zZXR0ZXIKICAgIGRlZiByZXRyeV9zZXR0aW5ncyhzZWxmLCB2YWx1ZSk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIHZhbHVlID0gUmV0cnlTZXR0aW5ncygqKnZhbHVlKQogICAgICAgIHNlbGYuX3JldHJ5X3NldHRpbmdzID0gdmFsdWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiByZXNvdXJjZXMoc2VsZikgLT4gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uOgogICAgICAgIHJldHVybiBzZWxmLl9yZXNvdXJjZXMKCiAgICBAcmVzb3VyY2VzLnNldHRlcgogICAgZGVmIHJlc291cmNlcyhzZWxmLCB2YWx1ZSk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIHZhbHVlID0gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uKCoqdmFsdWUpCiAgICAgICAgc2VsZi5fcmVzb3VyY2VzID0gdmFsdWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb21wb25lbnQoc2VsZikgLT4gVW5pb25bc3RyLCBQYXJhbGxlbENvbXBvbmVudF06CiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbXBvbmVudAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHRhc2soc2VsZikgLT4gUGFyYWxsZWxUYXNrOgogICAgICAgIHJldHVybiBzZWxmLl90YXNrCgogICAgQHRhc2suc2V0dGVyCiAgICBkZWYgdGFzayhzZWxmLCB2YWx1ZSk6CiAgICAgICAgIyBiYXNlIHBhdGggc2hvdWxkIGJlIHJlc2V0IGlmIHRhc2sgaXMgc2V0IHZpYSBzZGsKICAgICAgICBzZWxmLl9iYXNlX3BhdGggPSBOb25lCiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIHZhbHVlID0gUGFyYWxsZWxUYXNrKCoqdmFsdWUpCiAgICAgICAgc2VsZi5fdGFzayA9IHZhbHVlCgogICAgZGVmIF9zZXRfYmFzZV9wYXRoKHNlbGYsIGJhc2VfcGF0aCk6CiAgICAgICAgaWYgc2VsZi5fYmFzZV9wYXRoOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzdXBlcihQYXJhbGxlbCwgc2VsZikuX3NldF9iYXNlX3BhdGgoYmFzZV9wYXRoKQoKICAgIGRlZiBzZXRfcmVzb3VyY2VzKAogICAgICAgIHNlbGYsCiAgICAgICAgKiwKICAgICAgICBpbnN0YW5jZV90eXBlOiBPcHRpb25hbFtVbmlvbltzdHIsIExpc3Rbc3RyXV1dID0gTm9uZSwKICAgICAgICBpbnN0YW5jZV9jb3VudDogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICAgICAgcHJvcGVydGllczogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgIGRvY2tlcl9hcmdzOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICBzaG1fc2l6ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsICAjIHB5bGludDogZGlzYWJsZT11bnVzZWQtYXJndW1lbnQKICAgICk6CiAgICAgICAgIiIiU2V0IHJlc291cmNlcyBmb3IgUGFyYWxsZWwuIiIiCiAgICAgICAgaWYgc2VsZi5yZXNvdXJjZXMgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMgPSBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24oKQoKICAgICAgICBpZiBpbnN0YW5jZV90eXBlIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnJlc291cmNlcy5pbnN0YW5jZV90eXBlID0gaW5zdGFuY2VfdHlwZQogICAgICAgIGlmIGluc3RhbmNlX2NvdW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnJlc291cmNlcy5pbnN0YW5jZV9jb3VudCA9IGluc3RhbmNlX2NvdW50CiAgICAgICAgaWYgcHJvcGVydGllcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMucHJvcGVydGllcyA9IHByb3BlcnRpZXMKICAgICAgICBpZiBkb2NrZXJfYXJncyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMuZG9ja2VyX2FyZ3MgPSBkb2NrZXJfYXJncwogICAgICAgIGlmIHNobV9zaXplIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnJlc291cmNlcy5zaG1fc2l6ZSA9IHNobV9zaXplCgogICAgICAgICMgU2F2ZSB0aGUgcmVzb3VyY2VzIHRvIGludGVybmFsIGNvbXBvbmVudCBhcyB3ZWxsLCBvdGhlcndpc2UgY2FsbGluZyBzd2VlcCgpIHdpbGwgbG9vc2UgdGhlIHNldHRpbmdzCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNvbXBvbmVudCwgQ29tcG9uZW50KToKICAgICAgICAgICAgc2VsZi5jb21wb25lbnQucmVzb3VyY2VzID0gc2VsZi5yZXNvdXJjZXMKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfYXR0cl90eXBlX21hcChjbHMpIC0\u002BIGRpY3Q6CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgImNvbXBvbmVudCI6IChzdHIsIFBhcmFsbGVsQ29tcG9uZW50KSwKICAgICAgICAgICAgInJldHJ5X3NldHRpbmdzIjogKGRpY3QsIFJldHJ5U2V0dGluZ3MpLAogICAgICAgICAgICAicmVzb3VyY2VzIjogKGRpY3QsIEpvYlJlc291cmNlQ29uZmlndXJhdGlvbiksCiAgICAgICAgICAgICJ0YXNrIjogKGRpY3QsIFBhcmFsbGVsVGFzayksCiAgICAgICAgICAgICJsb2dnaW5nX2xldmVsIjogc3RyLAogICAgICAgICAgICAibWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSI6IGludCwKICAgICAgICAgICAgImVycm9yX3RocmVzaG9sZCI6IGludCwKICAgICAgICAgICAgIm1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkIjogaW50LAogICAgICAgICAgICAiZW52aXJvbm1lbnRfdmFyaWFibGVzIjogZGljdCwKICAgICAgICB9CgogICAgZGVmIF90b19qb2Ioc2VsZikgLT4gUGFyYWxsZWxKb2I6CiAgICAgICAgcmV0dXJuIFBhcmFsbGVsSm9iKAogICAgICAgICAgICBuYW1lPXNlbGYubmFtZSwKICAgICAgICAgICAgZGlzcGxheV9uYW1lPXNlbGYuZGlzcGxheV9uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1zZWxmLmRlc2NyaXB0aW9uLAogICAgICAgICAgICB0YWdzPXNlbGYudGFncywKICAgICAgICAgICAgcHJvcGVydGllcz1zZWxmLnByb3BlcnRpZXMsCiAgICAgICAgICAgIGNvbXB1dGU9c2VsZi5jb21wdXRlLAogICAgICAgICAgICByZXNvdXJjZXM9c2VsZi5yZXNvdXJjZXMsCiAgICAgICAgICAgIHBhcnRpdGlvbl9rZXlzPXNlbGYucGFydGl0aW9uX2tleXMsCiAgICAgICAgICAgIG1pbmlfYmF0Y2hfc2l6ZT1zZWxmLm1pbmlfYmF0Y2hfc2l6ZSwKICAgICAgICAgICAgdGFzaz1zZWxmLnRhc2ssCiAgICAgICAgICAgIHJldHJ5X3NldHRpbmdzPXNlbGYucmV0cnlfc2V0dGluZ3MsCiAgICAgICAgICAgIGlucHV0X2RhdGE9c2VsZi5pbnB1dF9kYXRhLAogICAgICAgICAgICBsb2dnaW5nX2xldmVsPXNlbGYubG9nZ2luZ19sZXZlbCwKICAgICAgICAgICAgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZT1zZWxmLm1heF9jb25jdXJyZW5jeV9wZXJfaW5zdGFuY2UsCiAgICAgICAgICAgIGVycm9yX3RocmVzaG9sZD1zZWxmLmVycm9yX3RocmVzaG9sZCwKICAgICAgICAgICAgbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ9c2VsZi5taW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCwKICAgICAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzPXNlbGYuZW52aXJvbm1lbnRfdmFyaWFibGVzLAogICAgICAgICAgICBpbnB1dHM9c2VsZi5fam9iX2lucHV0cywKICAgICAgICAgICAgb3V0cHV0cz1zZWxmLl9qb2Jfb3V0cHV0cywKICAgICAgICApCgogICAgZGVmIF9wYXJhbGxlbF9hdHRyX3RvX2RpY3Qoc2VsZiwgYXR0ciwgYmFzZV90eXBlKSAtPiBkaWN0OgogICAgICAgICMgQ29udmVydCBwYXJhbGxlbCBhdHRyaWJ1dGUgdG8gZGljdAogICAgICAgIHJlc3RfYXR0ciA9IE5vbmUKICAgICAgICBwYXJhbGxlbF9hdHRyID0gZ2V0YXR0cihzZWxmLCBhdHRyKQogICAgICAgIGlmIHBhcmFsbGVsX2F0dHIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocGFyYWxsZWxfYXR0ciwgYmFzZV90eXBlKToKICAgICAgICAgICAgICAgIHJlc3RfYXR0ciA9IHBhcmFsbGVsX2F0dHIuX3RvX2RpY3QoKQogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UocGFyYWxsZWxfYXR0ciwgZGljdCk6CiAgICAgICAgICAgICAgICByZXN0X2F0dHIgPSBwYXJhbGxlbF9hdHRyCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJFeHBlY3Rpbmcge2Jhc2VfdHlwZX0gZm9yIHthdHRyfSwgZ290IHt0eXBlKHBhcmFsbGVsX2F0dHIpfSBpbnN0ZWFkLiIpCiAgICAgICAgcmV0dXJuIGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QocmVzdF9hdHRyKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9waWNrZWRfZmllbGRzX2Zyb21fZGljdF90b19yZXN0X29iamVjdChjbHMpIC0\u002BIExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAidHlwZSIsCiAgICAgICAgICAgICJyZXNvdXJjZXMiLAogICAgICAgICAgICAiZXJyb3JfdGhyZXNob2xkIiwKICAgICAgICAgICAgIm1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkIiwKICAgICAgICAgICAgImVudmlyb25tZW50X3ZhcmlhYmxlcyIsCiAgICAgICAgICAgICJtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlIiwKICAgICAgICAgICAgInRhc2siLAogICAgICAgICAgICAiaW5wdXRfZGF0YSIsCiAgICAgICAgXQoKICAgIGRlZiBfdG9fcmVzdF9vYmplY3Qoc2VsZiwgKiprd2FyZ3MpIC0\u002BIGRpY3Q6CiAgICAgICAgcmVzdF9vYmogPSBzdXBlcihQYXJhbGxlbCwgc2VsZikuX3RvX3Jlc3Rfb2JqZWN0KCoqa3dhcmdzKQogICAgICAgIHJlc3Rfb2JqLnVwZGF0ZSgKICAgICAgICAgICAgY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdCgKICAgICAgICAgICAgICAgIGRpY3QoCiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQ9c2VsZi5fZ2V0X2NvbXBvbmVudF9pZCgpLAogICAgICAgICAgICAgICAgICAgIHJldHJ5X3NldHRpbmdzPWdldF9yZXN0X2RpY3RfZm9yX25vZGVfYXR0cnMoc2VsZi5yZXRyeV9zZXR0aW5ncyksCiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ19sZXZlbD1zZWxmLmxvZ2dpbmdfbGV2ZWwsCiAgICAgICAgICAgICAgICAgICAgbWluaV9iYXRjaF9zaXplPXNlbGYubWluaV9iYXRjaF9zaXplLAogICAgICAgICAgICAgICAgICAgIHBhcnRpdGlvbl9rZXlzPWpzb24uZHVtcHMoc2VsZi5wYXJ0aXRpb25fa2V5cykKICAgICAgICAgICAgICAgICAgICBpZiBzZWxmLnBhcnRpdGlvbl9rZXlzIGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICAgICAgZWxzZSBzZWxmLnBhcnRpdGlvbl9rZXlzLAogICAgICAgICAgICAgICAgICAgIHJlc291cmNlcz1nZXRfcmVzdF9kaWN0X2Zvcl9ub2RlX2F0dHJzKHNlbGYucmVzb3VyY2VzKSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICByZXR1cm4gcmVzdF9vYmoKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdF90b19pbml0X3BhcmFtcyhjbHMsIG9iajogZGljdCkgLT4gRGljdDoKICAgICAgICBvYmogPSBzdXBlcigpLl9mcm9tX3Jlc3Rfb2JqZWN0X3RvX2luaXRfcGFyYW1zKG9iaikKICAgICAgICAjIHJldHJ5X3NldHRpbmdzCiAgICAgICAgaWYgInJldHJ5X3NldHRpbmdzIiBpbiBvYmogYW5kIG9ialsicmV0cnlfc2V0dGluZ3MiXToKICAgICAgICAgICAgb2JqWyJyZXRyeV9zZXR0aW5ncyJdID0gUmV0cnlTZXR0aW5ncy5fZnJvbV9kaWN0KG9ialsicmV0cnlfc2V0dGluZ3MiXSkKCiAgICAgICAgaWYgInRhc2siIGluIG9iaiBhbmQgb2JqWyJ0YXNrIl06CiAgICAgICAgICAgIG9ialsidGFzayJdID0gUGFyYWxsZWxUYXNrLl9mcm9tX2RpY3Qob2JqWyJ0YXNrIl0pCiAgICAgICAgICAgIHRhc2tfY29kZSA9IG9ialsidGFzayJdLmNvZGUKICAgICAgICAgICAgdGFza19lbnYgPSBvYmpbInRhc2siXS5lbnZpcm9ubWVudAogICAgICAgICAgICAjIHJlbW92ZSBhenVyZW1sOiBwcmVmaXggaW4gY29kZSBhbmQgZW52aXJvbm1lbnQgd2hpY2ggaXMgYWRkZWQgaW4gX3RvX3Jlc3Rfb2JqZWN0CiAgICAgICAgICAgIGlmIHRhc2tfY29kZSBhbmQgaXNpbnN0YW5jZSh0YXNrX2NvZGUsIHN0cikgYW5kIHRhc2tfY29kZS5zdGFydHN3aXRoKEFSTV9JRF9QUkVGSVgpOgogICAgICAgICAgICAgICAgb2JqWyJ0YXNrIl0uY29kZSA9IHRhc2tfY29kZVtsZW4oQVJNX0lEX1BSRUZJWCkgOl0KICAgICAgICAgICAgaWYgdGFza19lbnYgYW5kIGlzaW5zdGFuY2UodGFza19lbnYsIHN0cikgYW5kIHRhc2tfZW52LnN0YXJ0c3dpdGgoQVJNX0lEX1BSRUZJWCk6CiAgICAgICAgICAgICAgICBvYmpbInRhc2siXS5lbnZpcm9ubWVudCA9IHRhc2tfZW52W2xlbihBUk1fSURfUFJFRklYKSA6XQoKICAgICAgICBpZiAicmVzb3VyY2VzIiBpbiBvYmogYW5kIG9ialsicmVzb3VyY2VzIl06CiAgICAgICAgICAgIHJlc291cmNlcyA9IFJlc3RKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24uZnJvbV9kaWN0KG9ialsicmVzb3VyY2VzIl0pCiAgICAgICAgICAgIG9ialsicmVzb3VyY2VzIl0gPSBKb2JSZXNvdXJjZUNvbmZpZ3VyYXRpb24uX2Zyb21fcmVzdF9vYmplY3QocmVzb3VyY2VzKQoKICAgICAgICBpZiAicGFydGl0aW9uX2tleXMiIGluIG9iaiBhbmQgb2JqWyJwYXJ0aXRpb25fa2V5cyJdOgogICAgICAgICAgICBvYmpbInBhcnRpdGlvbl9rZXlzIl0gPSBqc29uLmR1bXBzKG9ialsicGFydGl0aW9uX2tleXMiXSkKICAgICAgICByZXR1cm4gb2JqCgogICAgZGVmIF9idWlsZF9pbnB1dHMoc2VsZik6CiAgICAgICAgaW5wdXRzID0gc3VwZXIoUGFyYWxsZWwsIHNlbGYpLl9idWlsZF9pbnB1dHMoKQogICAgICAgIGJ1aWx0X2lucHV0cyA9IHt9CiAgICAgICAgIyBWYWxpZGF0ZSBhbmQgcmVtb3ZlIG5vbi1zcGVjaWZpZWQgaW5wdXRzCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIHZhbHVlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgYnVpbHRfaW5wdXRzW2tleV0gPSB2YWx1ZQogICAgICAgIHJldHVybiBidWlsdF9pbnB1dHMKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX3NjaGVtYV9mb3JfdmFsaWRhdGlvbihjbHMsIGNvbnRleHQpIC0\u002BIFVuaW9uW1BhdGhBd2FyZVNjaGVtYSwgU2NoZW1hXToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUgaW1wb3J0IFBhcmFsbGVsU2NoZW1hCgogICAgICAgIHJldHVybiBQYXJhbGxlbFNjaGVtYShjb250ZXh0PWNvbnRleHQpCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsICphcmdzLCAqKmt3YXJncykgLT4gIlBhcmFsbGVsIjoKICAgICAgICAiIiJDYWxsIFBhcmFsbGVsIGFzIGEgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBuZXcgaW5zdGFuY2UgZWFjaCB0aW1lLiIiIgogICAgICAgIGlmIGlzaW5zdGFuY2Uoc2VsZi5fY29tcG9uZW50LCBDb21wb25lbnQpOgogICAgICAgICAgICAjIGNhbGwgdGhpcyB0byB2YWxpZGF0ZSBpbnB1dHMKICAgICAgICAgICAgbm9kZSA9IHNlbGYuX2NvbXBvbmVudCgqYXJncywgKiprd2FyZ3MpCiAgICAgICAgICAgICMgbWVyZ2UgaW5wdXRzCiAgICAgICAgICAgIGZvciBuYW1lLCBvcmlnaW5hbF9pbnB1dCBpbiBzZWxmLmlucHV0cy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgbmFtZSBub3QgaW4ga3dhcmdzLmtleXMoKToKICAgICAgICAgICAgICAgICAgICAjIHVzZSBzZXRhdHRyIGhlcmUgdG8gbWFrZSBzdXJlIG93bmVyIG9mIGlucHV0IHdvbid0IGNoYW5nZQogICAgICAgICAgICAgICAgICAgIHNldGF0dHIobm9kZS5pbnB1dHMsIG5hbWUsIG9yaWdpbmFsX2lucHV0Ll9kYXRhKQogICAgICAgICAgICAgICAgIyBnZXQgb3V0cHV0cwogICAgICAgICAgICBmb3IgbmFtZSwgb3JpZ2luYWxfb3V0cHV0IGluIHNlbGYub3V0cHV0cy5pdGVtcygpOgogICAgICAgICAgICAgICAgIyB1c2Ugc2V0YXR0ciBoZXJlIHRvIG1ha2Ugc3VyZSBvd25lciBvZiBpbnB1dCB3b24ndCBjaGFuZ2UKICAgICAgICAgICAgICAgIHNldGF0dHIobm9kZS5vdXRwdXRzLCBuYW1lLCBvcmlnaW5hbF9vdXRwdXQuX2RhdGEpCiAgICAgICAgICAgIHNlbGYuX3JlZmluZV9vcHRpb25hbF9pbnB1dHNfd2l0aF9ub192YWx1ZShub2RlLCBrd2FyZ3MpCiAgICAgICAgICAgICMgc2V0IGRlZmF1bHQgdmFsdWVzOiBjb21wdXRlLCBlbnZpcm9ubWVudF92YXJpYWJsZXMsIG91dHB1dHMKICAgICAgICAgICAgbm9kZS5fbmFtZSA9IHNlbGYubmFtZQogICAgICAgICAgICBub2RlLmNvbXB1dGUgPSBzZWxmLmNvbXB1dGUKICAgICAgICAgICAgbm9kZS50YWdzID0gc2VsZi50YWdzCiAgICAgICAgICAgIG5vZGUuZGlzcGxheV9uYW1lID0gc2VsZi5kaXNwbGF5X25hbWUKICAgICAgICAgICAgbm9kZS5taW5pX2JhdGNoX3NpemUgPSBzZWxmLm1pbmlfYmF0Y2hfc2l6ZQogICAgICAgICAgICBub2RlLnBhcnRpdGlvbl9rZXlzID0gc2VsZi5wYXJ0aXRpb25fa2V5cwogICAgICAgICAgICBub2RlLmxvZ2dpbmdfbGV2ZWwgPSBzZWxmLmxvZ2dpbmdfbGV2ZWwKICAgICAgICAgICAgbm9kZS5tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlID0gc2VsZi5tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlCiAgICAgICAgICAgIG5vZGUuZXJyb3JfdGhyZXNob2xkID0gc2VsZi5lcnJvcl90aHJlc2hvbGQKICAgICAgICAgICAgIyBkZWVwIGNvcHkgZm9yIGNvbXBsZXggb2JqZWN0CiAgICAgICAgICAgIG5vZGUucmV0cnlfc2V0dGluZ3MgPSBjb3B5LmRlZXBjb3B5KHNlbGYucmV0cnlfc2V0dGluZ3MpCiAgICAgICAgICAgIG5vZGUuaW5wdXRfZGF0YSA9IHNlbGYuaW5wdXRfZGF0YQogICAgICAgICAgICBub2RlLnRhc2sgPSBjb3B5LmRlZXBjb3B5KHNlbGYudGFzaykKICAgICAgICAgICAgbm9kZS5fYmFzZV9wYXRoID0gc2VsZi5iYXNlX3BhdGgKICAgICAgICAgICAgbm9kZS5yZXNvdXJjZXMgPSBjb3B5LmRlZXBjb3B5KHNlbGYucmVzb3VyY2VzKQogICAgICAgICAgICBub2RlLmVudmlyb25tZW50X3ZhcmlhYmxlcyA9IGNvcHkuZGVlcGNvcHkoc2VsZi5lbnZpcm9ubWVudF92YXJpYWJsZXMpCiAgICAgICAgICAgIHJldHVybiBub2RlCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKAogICAgICAgICAgICBmIlBhcmFsbGVsIGNhbiBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbiBvbmx5IHdoZW4gcmVmZXJlbmNlZCBjb21wb25lbnQgaXMge3R5cGUoQ29tcG9uZW50KX0sICIKICAgICAgICAgICAgZiJjdXJyZW50bHkgZ290IHtzZWxmLl9jb21wb25lbnR9LiIKICAgICAgICApCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "T62OhhfsG6vDnnvyNg0d8A==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C3E6E56\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "PS\u002B9ivgi160=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/parallel_for.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "14340",
        "Content-MD5": "pgjCRHI7nOZBowl0Rkn2Wg==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW1wb3J0IGpzb24KaW1wb3J0IG9zCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBVbmlvbgoKZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgT3V0cHV0LCBJbnB1dApmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEgaW1wb3J0IFBhdGhBd2FyZVNjaGVtYQpmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUuY29udHJvbF9mbG93X2pvYiBpbXBvcnQgUGFyYWxsZWxGb3JTY2hlbWEKZnJvbSBhenVyZS5haS5tbC5fdXRpbHMudXRpbHMgaW1wb3J0IGlzX2RhdGFfYmluZGluZ19leHByZXNzaW9uCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzIGltcG9ydCBBc3NldFR5cGVzCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudFBhcmFtZXRlclR5cGVzLCBDb250cm9sRmxvd1R5cGUKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcyBpbXBvcnQgQ29tcG9uZW50CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2J1aWxkZXJzIGltcG9ydCBCYXNlTm9kZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9idWlsZGVycy5jb250cm9sX2Zsb3dfbm9kZSBpbXBvcnQgTG9vcE5vZGUKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnBpcGVsaW5lLl9pbyBpbXBvcnQgTm9kZU91dHB1dCwgUGlwZWxpbmVJbnB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUuX2lvLm1peGluIGltcG9ydCBOb2RlSU9NaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl91dGlsIGltcG9ydCBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0LCB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZQpmcm9tIGF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMgaW1wb3J0IFVzZXJFcnJvckV4Y2VwdGlvbgoKCmNsYXNzIFBhcmFsbGVsRm9yKExvb3BOb2RlLCBOb2RlSU9NaXhpbik6CiAgICAiIiJQYXJhbGxlbCBmb3IgbG9vcCBub2RlIGluIHRoZSBwaXBlbGluZSBqb2IuIEJ5IHNwZWNpZnlpbmcgdGhlIGxvb3AgYm9keSBhbmQgYWdncmVnYXRlZCBpdGVtcywgYSBqb2ItbGV2ZWwKICAgIHBhcmFsbGVsIGZvciBsb29wIGNhbiBiZSBpbXBsZW1lbnRlZC4gSXQgd2lsbCBiZSBpbml0aWFsaXplZCB3aGVuIGNhbGxpbmcgZHNsLnBhcmFsbGVsX2ZvciBvciB3aGVuIGxvYWRpbmcgdGhlCiAgICBwaXBlbGluZSB5bWwgY29udGFpbmluZyBwYXJhbGxlbF9mb3Igbm9kZS4gUGxlYXNlIGRvIG5vdCBtYW51YWxseSBpbml0aWFsaXplIHRoaXMgY2xhc3MuCgogICAgOnBhcmFtIGJvZHk6IFBpcGVsaW5lIGpvYiBmb3IgdGhlIHBhcmFsbGVsIGZvciBsb29wIGJvZHkuCiAgICA6dHlwZSBib2R5OiBQaXBlbGluZQogICAgOnBhcmFtIGl0ZW1zOiBUaGUgbG9vcCBib2R5J3MgaW5wdXQgd2hpY2ggd2lsbCBiaW5kIHRvIHRoZSBsb29wIG5vZGUuCiAgICA6dHlwZSBpdGVtczogdHlwaW5nLlVuaW9uW2xpc3QsIGRpY3QsIHN0ciwgTm9kZU91dHB1dCwgUGlwZWxpbmVJbnB1dF0KICAgIDpwYXJhbSBtYXhfY29uY3VycmVuY3k6IE1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgaXRlcmF0aW9ucyB0byBydW4uIEFsbCBsb29wIGJvZHkgbm9kZXMgd2lsbCBiZSBleGVjdXRlZAogICAgICAgIGluIHBhcmFsbGVsIGlmIG5vdCBzcGVjaWZpZWQuCiAgICA6dHlwZSBtYXhfY29uY3VycmVuY3k6IGludAogICAgIiIiCgogICAgT1VUX1RZUEVfTUFQUElORyA9IHsKICAgICAgICBBc3NldFR5cGVzLlVSSV9GSUxFOiBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgQXNzZXRUeXBlcy5VUklfRk9MREVSOiBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgQXNzZXRUeXBlcy5NTFRBQkxFOiBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgQXNzZXRUeXBlcy5NTEZMT1dfTU9ERUw6IEFzc2V0VHlwZXMuTUxUQUJMRSwKICAgICAgICBBc3NldFR5cGVzLlRSSVRPTl9NT0RFTDogQXNzZXRUeXBlcy5NTFRBQkxFLAogICAgICAgIEFzc2V0VHlwZXMuQ1VTVE9NX01PREVMOiBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgIyBsZWdhY3kgcGF0aCBzdXBwb3J0CiAgICAgICAgInBhdGgiOiBBc3NldFR5cGVzLk1MVEFCTEUsCiAgICAgICAgQ29tcG9uZW50UGFyYW1ldGVyVHlwZXMuTlVNQkVSOiBDb21wb25lbnRQYXJhbWV0ZXJUeXBlcy5TVFJJTkcsCiAgICAgICAgQ29tcG9uZW50UGFyYW1ldGVyVHlwZXMuU1RSSU5HOiBDb21wb25lbnRQYXJhbWV0ZXJUeXBlcy5TVFJJTkcsCiAgICAgICAgQ29tcG9uZW50UGFyYW1ldGVyVHlwZXMuQk9PTEVBTjogQ29tcG9uZW50UGFyYW1ldGVyVHlwZXMuU1RSSU5HLAogICAgICAgIENvbXBvbmVudFBhcmFtZXRlclR5cGVzLklOVEVHRVI6IENvbXBvbmVudFBhcmFtZXRlclR5cGVzLlNUUklORywKICAgIH0KCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIGJvZHksCiAgICAgICAgaXRlbXMsCiAgICAgICAgbWF4X2NvbmN1cnJlbmN5PU5vbmUsCiAgICAgICAgKiprd2FyZ3MsCiAgICApOgogICAgICAgICMgdmFsaWRhdGUgaW5pdCBwYXJhbXMgYXJlIHZhbGlkIHR5cGUKICAgICAgICB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZShhdHRyc190b19jaGVjaz1sb2NhbHMoKSwgYXR0cl90eXBlX21hcD1zZWxmLl9hdHRyX3R5cGVfbWFwKCkpCgogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQogICAgICAgIHN1cGVyKFBhcmFsbGVsRm9yLCBzZWxmKS5fX2luaXRfXygKICAgICAgICAgICAgdHlwZT1Db250cm9sRmxvd1R5cGUuUEFSQUxMRUxfRk9SLAogICAgICAgICAgICBib2R5PWJvZHksCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgICAgICAjIGxvb3AgYm9keSBpcyBpbmNvbXBsZXRlIGluIHN1Ym1pc3Npb24gdGltZSwgc28gd29uJ3QgdmFsaWRhdGUgcmVxdWlyZWQgaW5wdXRzCiAgICAgICAgc2VsZi5ib2R5Ll92YWxpZGF0ZV9yZXF1aXJlZF9pbnB1dF9ub3RfcHJvdmlkZWQgPSBGYWxzZQoKICAgICAgICBhY3R1YWxfb3V0cHV0cyA9IGt3YXJncy5nZXQoIm91dHB1dHMiLCB7fSkKICAgICAgICAjIHBhcmFsbGVsIGZvciBub2RlIHNoYXJlcyBvdXRwdXQgbWV0YSB3aXRoIGJvZHkKICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dHB1dHMgPSBzZWxmLmJvZHkuX2NvbXBvbmVudC5vdXRwdXRzCiAgICAgICAgICAgICMgdHJhbnNmb3JtIGJvZHkgb3V0cHV0cyB0byBhZ2dyZWdhdGUgdHlwZXMgd2hlbiBhdmFpbGFibGUKICAgICAgICAgICAgc2VsZi5fb3V0cHV0cyA9IHNlbGYuX2J1aWxkX291dHB1dHNfZGljdCgKICAgICAgICAgICAgICAgIG91dHB1dF9kZWZpbml0aW9uX2RpY3Q9c2VsZi5fY29udmVydF9vdXRwdXRfbWV0YShvdXRwdXRzKSwgb3V0cHV0cz1hY3R1YWxfb3V0cHV0cwogICAgICAgICAgICApCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICAjIHdoZW4gYm9keSBvdXRwdXQgbm90IGF2YWlsYWJsZSwgY3JlYXRlIGRlZmF1bHQgb3V0cHV0IGJ1aWxkZXIgd2l0aG91dCBtZXRhCiAgICAgICAgICAgIHNlbGYuX291dHB1dHMgPSBzZWxmLl9idWlsZF9vdXRwdXRzX2RpY3Rfd2l0aG91dF9tZXRhKG91dHB1dHM9YWN0dWFsX291dHB1dHMpCgogICAgICAgIHNlbGYuX2l0ZW1zID0gaXRlbXMKCiAgICAgICAgc2VsZi5tYXhfY29uY3VycmVuY3kgPSBtYXhfY29uY3VycmVuY3kKCiAgICBAcHJvcGVydHkKICAgIGRlZiBvdXRwdXRzKHNlbGYpIC0\u002BIERpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dF1dOgogICAgICAgIHJldHVybiBzZWxmLl9vdXRwdXRzCgogICAgQHByb3BlcnR5CiAgICBkZWYgaXRlbXMoc2VsZik6CiAgICAgICAgIiIiVGhlIGxvb3AgYm9keSdzIGlucHV0IHdoaWNoIHdpbGwgYmluZCB0byB0aGUgbG9vcCBub2RlLiIiIgogICAgICAgIHJldHVybiBzZWxmLl9pdGVtcwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jcmVhdGVfc2NoZW1hX2Zvcl92YWxpZGF0aW9uKGNscywgY29udGV4dCkgLT4gUGF0aEF3YXJlU2NoZW1hOgogICAgICAgIHJldHVybiBQYXJhbGxlbEZvclNjaGVtYShjb250ZXh0PWNvbnRleHQpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICoqc3VwZXIoUGFyYWxsZWxGb3IsIGNscykuX2F0dHJfdHlwZV9tYXAoKSwKICAgICAgICAgICAgIml0ZW1zIjogKGRpY3QsIGxpc3QsIHN0ciwgUGlwZWxpbmVJbnB1dCwgTm9kZU91dHB1dCksCiAgICAgICAgfQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF90b19yZXN0X2l0ZW0oY2xzLCBpdGVtOiBkaWN0KSAtPiBkaWN0OgogICAgICAgICIiIkNvbnZlcnQgaXRlbSB0byByZXN0IG9iamVjdC4iIiIKICAgICAgICBwcmltaXRpdmVfaW5wdXRzLCBhc3NldF9pbnB1dHMgPSB7fSwge30KICAgICAgICAjIHZhbGlkYXRlIGl0ZW0KICAgICAgICBmb3Iga2V5LCB2YWwgaW4gaXRlbS5pdGVtcygpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbCwgSW5wdXQpOgogICAgICAgICAgICAgICAgYXNzZXRfaW5wdXRzW2tleV0gPSB2YWwKICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKHZhbCwgKFBpcGVsaW5lSW5wdXQsIE5vZGVPdXRwdXQpKToKICAgICAgICAgICAgICAgICMgY29udmVydCBiaW5kaW5nIG9iamVjdCB0byBzdHJpbmcKICAgICAgICAgICAgICAgIHByaW1pdGl2ZV9pbnB1dHNba2V5XSA9IHN0cih2YWwpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmltaXRpdmVfaW5wdXRzW2tleV0gPSB2YWwKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAjIGFzc2V0IHR5cGUgaW5wdXRzIHdpbGwgYmUgY29udmVydGVkIHRvIEpvYklucHV0IGRpY3Q6CiAgICAgICAgICAgICMgeyJhc3NldF9wYXJhbSI6IHsidXJpIjogInh4eCIsICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSJ9fQogICAgICAgICAgICAqKmNscy5faW5wdXRfZW50aXR5X3RvX3Jlc3RfaW5wdXRzKGlucHV0X2VudGl0eT1hc3NldF9pbnB1dHMpLAogICAgICAgICAgICAjIHByaW1pdGl2ZSBpbnB1dHMgaGFzIHByaW1pdGl2ZSB0eXBlIHZhbHVlIGxpa2UgdGhpcwogICAgICAgICAgICAjIHsiaW50X3BhcmFtIjogMX0KICAgICAgICAgICAgKipwcmltaXRpdmVfaW5wdXRzLAogICAgICAgIH0KCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfdG9fcmVzdF9pdGVtcyhjbHMsIGl0ZW1zOiBVbmlvbltsaXN0LCBkaWN0LCBzdHIsIE5vZGVPdXRwdXQsIFBpcGVsaW5lSW5wdXRdKSAtPiBzdHI6CiAgICAgICAgIiIiQ29udmVydCBpdGVtcyB0byByZXN0IG9iamVjdC4iIiIKICAgICAgICAjIHZhbGlkYXRlIGl0ZW1zLgogICAgICAgIGNscy5fdmFsaWRhdGVfaXRlbXMoaXRlbXM9aXRlbXMsIHJhaXNlX2Vycm9yPVRydWUsIGJvZHlfY29tcG9uZW50PU5vbmUpCiAgICAgICAgIyBjb252ZXJ0IGl0ZW1zIHRvIHJlc3Qgb2JqZWN0CiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgbGlzdCk6CiAgICAgICAgICAgIHJlc3RfaXRlbXMgPSBbY2xzLl90b19yZXN0X2l0ZW0oaXRlbT1pKSBmb3IgaSBpbiBpdGVtc10KICAgICAgICAgICAgcmVzdF9pdGVtcyA9IGpzb24uZHVtcHMocmVzdF9pdGVtcykKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaXRlbXMsIGRpY3QpOgogICAgICAgICAgICByZXN0X2l0ZW1zID0ge2s6IGNscy5fdG9fcmVzdF9pdGVtKGl0ZW09dikgZm9yIGssIHYgaW4gaXRlbXMuaXRlbXMoKX0KICAgICAgICAgICAgcmVzdF9pdGVtcyA9IGpzb24uZHVtcHMocmVzdF9pdGVtcykKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaXRlbXMsIChOb2RlT3V0cHV0LCBQaXBlbGluZUlucHV0KSk6CiAgICAgICAgICAgIHJlc3RfaXRlbXMgPSBzdHIoaXRlbXMpCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKGl0ZW1zLCBzdHIpOgogICAgICAgICAgICByZXN0X2l0ZW1zID0gaXRlbXMKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBVc2VyRXJyb3JFeGNlcHRpb24oIlVuc3VwcG9ydGVkIGl0ZW1zIHR5cGU6IHt9Ii5mb3JtYXQodHlwZShpdGVtcykpKQogICAgICAgIHJldHVybiByZXN0X2l0ZW1zCgogICAgZGVmIF90b19yZXN0X29iamVjdChzZWxmLCAqKmt3YXJncykgLT4gZGljdDogICMgcHlsaW50OiBkaXNhYmxlPXVudXNlZC1hcmd1bWVudAogICAgICAgICIiIkNvbnZlcnQgc2VsZiB0byBhIHJlc3Qgb2JqZWN0IGZvciByZW1vdGUgY2FsbC4iIiIKICAgICAgICByZXN0X25vZGUgPSBzdXBlcihQYXJhbGxlbEZvciwgc2VsZikuX3RvX3Jlc3Rfb2JqZWN0KCoqa3dhcmdzKQogICAgICAgICMgY29udmVydCBpdGVtcyB0byByZXN0IG9iamVjdAogICAgICAgIHJlc3RfaXRlbXMgPSBzZWxmLl90b19yZXN0X2l0ZW1zKGl0ZW1zPXNlbGYuaXRlbXMpCiAgICAgICAgcmVzdF9ub2RlLnVwZGF0ZShkaWN0KGl0ZW1zPXJlc3RfaXRlbXMsIG91dHB1dHM9c2VsZi5fdG9fcmVzdF9vdXRwdXRzKCkpKQogICAgICAgIHJldHVybiBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0KHJlc3Rfbm9kZSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X2l0ZW0oY2xzLCByZXN0X2l0ZW0pOgogICAgICAgICIiIkNvbnZlcnQgcmVzdCBpdGVtIHRvIGl0ZW0uIiIiCiAgICAgICAgcHJpbWl0aXZlX2lucHV0cywgYXNzZXRfaW5wdXRzID0ge30sIHt9CiAgICAgICAgZm9yIGtleSwgdmFsIGluIHJlc3RfaXRlbS5pdGVtcygpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbCwgZGljdCkgYW5kIHZhbC5nZXQoImpvYl9pbnB1dF90eXBlIik6CiAgICAgICAgICAgICAgICBhc3NldF9pbnB1dHNba2V5XSA9IHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbWl0aXZlX2lucHV0c1trZXldID0gdmFsCiAgICAgICAgcmV0dXJuIHsqKmNscy5fZnJvbV9yZXN0X2lucHV0cyhpbnB1dHM9YXNzZXRfaW5wdXRzKSwgKipwcmltaXRpdmVfaW5wdXRzfQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9mcm9tX3Jlc3RfaXRlbXMoY2xzLCByZXN0X2l0ZW1zOiBzdHIpIC0\u002BIFVuaW9uW2RpY3QsIGxpc3QsIHN0cl06CiAgICAgICAgIiIiQ29udmVydCBpdGVtcyBmcm9tIHJlc3Qgb2JqZWN0LiIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgaXRlbXMgPSBqc29uLmxvYWRzKHJlc3RfaXRlbXMpCiAgICAgICAgZXhjZXB0IGpzb24uSlNPTkRlY29kZUVycm9yOgogICAgICAgICAgICAjIHJldHVybiBvcmlnaW5hbCBpdGVtcyB3aGVuIGZhaWxlZCB0byBsb2FkCiAgICAgICAgICAgIHJldHVybiByZXN0X2l0ZW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgbGlzdCk6CiAgICAgICAgICAgIHJldHVybiBbY2xzLl9mcm9tX3Jlc3RfaXRlbShyZXN0X2l0ZW09aSkgZm9yIGkgaW4gaXRlbXNdCiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgZGljdCk6CiAgICAgICAgICAgIHJldHVybiB7azogY2xzLl9mcm9tX3Jlc3RfaXRlbShyZXN0X2l0ZW09dikgZm9yIGssIHYgaW4gaXRlbXMuaXRlbXMoKX0KICAgICAgICByZXR1cm4gcmVzdF9pdGVtcwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9mcm9tX3Jlc3Rfb2JqZWN0KGNscywgb2JqOiBkaWN0LCBwaXBlbGluZV9qb2JzOiBkaWN0KSAtPiAiUGFyYWxsZWxGb3IiOgogICAgICAgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICBvYmogPSBCYXNlTm9kZS5fZnJvbV9yZXN0X29iamVjdF90b19pbml0X3BhcmFtcyhvYmopCiAgICAgICAgb2JqWyJpdGVtcyJdID0gY2xzLl9mcm9tX3Jlc3RfaXRlbXMocmVzdF9pdGVtcz1vYmouZ2V0KCJpdGVtcyIsICIiKSkKICAgICAgICByZXR1cm4gY2xzLl9jcmVhdGVfaW5zdGFuY2VfZnJvbV9zY2hlbWFfZGljdChwaXBlbGluZV9qb2JzPXBpcGVsaW5lX2pvYnMsIGxvYWRlZF9kYXRhPW9iaikKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX2luc3RhbmNlX2Zyb21fc2NoZW1hX2RpY3QoY2xzLCBwaXBlbGluZV9qb2JzLCBsb2FkZWRfZGF0YSwgKiprd2FyZ3MpOgogICAgICAgIGJvZHlfbmFtZSA9IGNscy5fZ2V0X2RhdGFfYmluZGluZ19leHByZXNzaW9uX3ZhbHVlKGxvYWRlZF9kYXRhLnBvcCgiYm9keSIpLCByZWdleD1yIlx7XHsuKlwuam9ic1wuKC4qKVx9XH0iKQoKICAgICAgICBsb2FkZWRfZGF0YVsiYm9keSJdID0gY2xzLl9nZXRfYm9keV9mcm9tX3BpcGVsaW5lX2pvYnMocGlwZWxpbmVfam9icz1waXBlbGluZV9qb2JzLCBib2R5X25hbWU9Ym9keV9uYW1lKQogICAgICAgIHJldHVybiBjbHMoKipsb2FkZWRfZGF0YSwgKiprd2FyZ3MpCgogICAgZGVmIF9jb252ZXJ0X291dHB1dF9tZXRhKHNlbGYsIG91dHB1dHMpOgogICAgICAgICIiIkNvbnZlcnQgb3V0cHV0IG1ldGEgdG8gYWdncmVnYXRlIHR5cGVzLiIiIgogICAgICAgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICBhZ2dyZWdhdGVfb3V0cHV0cyA9IHt9CiAgICAgICAgZm9yIG5hbWUsIG91dHB1dCBpbiBvdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIG91dHB1dC50eXBlIGluIHNlbGYuT1VUX1RZUEVfTUFQUElORzoKICAgICAgICAgICAgICAgIG5ld190eXBlID0gc2VsZi5PVVRfVFlQRV9NQVBQSU5HW291dHB1dC50eXBlXQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyB3aGVuIGxvb3AgYm9keSBpbnRyb2R1Y2VzIHNvbWUgbmV3IG91dHB1dCB0eXBlLCB0aGlzIHdpbGwgYmUgcmFpc2VkIGFzIGEgcmVtaW5kZXIgdG8gc3VwcG9ydCBpcyBpbgogICAgICAgICAgICAgICAgIyBwYXJhbGxlbCBmb3IKICAgICAgICAgICAgICAgIHJhaXNlIFVzZXJFcnJvckV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiUmVmZXJlbmNpbmcgb3V0cHV0IHdpdGggdHlwZSB7fSBpcyBub3Qgc3VwcG9ydGVkIGluIHBhcmFsbGVsX2ZvciBub2RlLiIuZm9ybWF0KG91dHB1dC50eXBlKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG91dHB1dCwgTm9kZU91dHB1dCk6CiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQuX3RvX2pvYl9vdXRwdXQoKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG91dHB1dCwgT3V0cHV0KToKICAgICAgICAgICAgICAgIG91dF9kaWN0ID0gb3V0cHV0Ll90b19kaWN0KCkKICAgICAgICAgICAgICAgIG91dF9kaWN0WyJ0eXBlIl0gPSBuZXdfdHlwZQogICAgICAgICAgICAgICAgcmVzb2x2ZWRfb3V0cHV0ID0gT3V0cHV0KCoqb3V0X2RpY3QpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXNvbHZlZF9vdXRwdXQgPSBPdXRwdXQodHlwZT1uZXdfdHlwZSkKICAgICAgICAgICAgYWdncmVnYXRlX291dHB1dHNbbmFtZV0gPSByZXNvbHZlZF9vdXRwdXQKICAgICAgICByZXR1cm4gYWdncmVnYXRlX291dHB1dHMKCiAgICBkZWYgX2N1c3RvbWl6ZWRfdmFsaWRhdGUoc2VsZik6CiAgICAgICAgIiIiQ3VzdG9taXplZCB2YWxpZGF0aW9uIGZvciBwYXJhbGxlbCBmb3Igbm9kZS4iIiIKICAgICAgICAjIHB5bGludDogZGlzYWJsZT1wcm90ZWN0ZWQtYWNjZXNzCiAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgPSBzZWxmLl92YWxpZGF0ZV9ib2R5KHJhaXNlX2Vycm9yPUZhbHNlKQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoCiAgICAgICAgICAgIHNlbGYuX3ZhbGlkYXRlX2l0ZW1zKGl0ZW1zPXNlbGYuaXRlbXMsIHJhaXNlX2Vycm9yPUZhbHNlLCBib2R5X2NvbXBvbmVudD1zZWxmLmJvZHkuX2NvbXBvbmVudCkKICAgICAgICApCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX3ZhbGlkYXRlX2l0ZW1zKGNscywgaXRlbXMsIHJhaXNlX2Vycm9yPVRydWUsIGJvZHlfY29tcG9uZW50PU5vbmUpOgogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gY2xzLl9jcmVhdGVfZW1wdHlfdmFsaWRhdGlvbl9yZXN1bHQoKQogICAgICAgIGlmIGl0ZW1zIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGl0ZW1zLCBzdHIpOgogICAgICAgICAgICAgICAgIyBUT0RPOiByZW1vdmUgdGhlIHZhbGlkYXRpb24KICAgICAgICAgICAgICAgICMgdHJ5IHRvIGRlc2VyaWFsaXplIHN0ciBpZiBpdCdzIGEganNvbiBzdHJpbmcKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGpzb24ubG9hZHMoaXRlbXMpCiAgICAgICAgICAgICAgICBleGNlcHQganNvbi5KU09ORGVjb2RlRXJyb3IgYXMgZToKICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNfZGF0YV9iaW5kaW5nX2V4cHJlc3Npb24oaXRlbXMsIFsicGFyZW50Il0pOgogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9Iml0ZW1zIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJJdGVtcyBpcyBuZWl0aGVyIGEgdmFsaWQgSlNPTiBzdHJpbmcgZHVlIHRvIHtlfSBvciBhIGJpbmRpbmcgc3RyaW5nLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtcywgZGljdCk6CiAgICAgICAgICAgICAgICAjIFZhbGlkYXRlIGRpY3Qga2V5cwogICAgICAgICAgICAgICAgaXRlbXMgPSBsaXN0KGl0ZW1zLnZhbHVlcygpKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGl0ZW1zLCBsaXN0KToKICAgICAgICAgICAgICAgIGlmIGxlbihpdGVtcykgPiAwOgogICAgICAgICAgICAgICAgICAgIGNscy5fdmFsaWRhdGVfaXRlbXNfbGlzdChpdGVtcywgdmFsaWRhdGlvbl9yZXN1bHQsIGJvZHlfY29tcG9uZW50PWJvZHlfY29tcG9uZW50KQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJpdGVtcyIsIG1lc3NhZ2U9Ikl0ZW1zIGlzIGFuIGVtcHR5IGxpc3QvZGljdC4iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcigKICAgICAgICAgICAgICAgIHlhbWxfcGF0aD0iaXRlbXMiLAogICAgICAgICAgICAgICAgbWVzc2FnZT0iSXRlbXMgaXMgcmVxdWlyZWQgZm9yIHBhcmFsbGVsX2ZvciBub2RlIiwKICAgICAgICAgICAgKQogICAgICAgIHJldHVybiB2YWxpZGF0aW9uX3Jlc3VsdC50cnlfcmFpc2UoCiAgICAgICAgICAgIGNscy5fZ2V0X3ZhbGlkYXRpb25fZXJyb3JfdGFyZ2V0KCksCiAgICAgICAgICAgIHJhaXNlX2Vycm9yPXJhaXNlX2Vycm9yLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfdmFsaWRhdGVfaXRlbXNfbGlzdChjbHMsIGl0ZW1zOiBsaXN0LCB2YWxpZGF0aW9uX3Jlc3VsdCwgYm9keV9jb21wb25lbnQ9Tm9uZSk6CiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwogICAgICAgIG1ldGEgPSB7fQogICAgICAgICMgYWxsIGl0ZW1zIGhhdmUgdG8gYmUgZGljdCBhbmQgaGF2ZSBtYXRjaGVkIG1ldGEKICAgICAgICBmb3IgaXRlbSBpbiBpdGVtczoKICAgICAgICAgICAgIyBpdGVtIGhhcyB0byBiZSBkaWN0CiAgICAgICAgICAgICMgTm90ZTogaXRlbSBjYW4gYmUgZW1wdHkgZGljdCB3aGVuIGxvb3BfYm9keSBkb24ndCBoYXZlIGZvcmVhY2ggaW5wdXRzLgogICAgICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShpdGVtLCBkaWN0KToKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcigKICAgICAgICAgICAgICAgICAgICB5YW1sX3BhdGg9Iml0ZW1zIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiSXRlbXMgaGFzIHRvIGJlIGxpc3QvZGljdCBvZiBkaWN0IGFzIHZhbHVlLCAiIGYiYnV0IGdvdCB7dHlwZShpdGVtKX0gZm9yIHtpdGVtfS4iLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyBpdGVtIGhhcyB0byBoYXZlIG1hdGNoZWQgbWV0YQogICAgICAgICAgICAgICAgaWYgbWV0YS5rZXlzKCkgIT0gaXRlbS5rZXlzKCk6CiAgICAgICAgICAgICAgICAgICAgaWYgbm90IG1ldGEua2V5cygpOgogICAgICAgICAgICAgICAgICAgICAgICBtZXRhID0gaXRlbQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IGYiSXRlbXMgc2hvdWxkIGhhdmUgc2FtZSBrZXlzIHdpdGggYm9keSBpbnB1dHMsIGJ1dCBnb3Qge2l0ZW0ua2V5cygpfSBhbmQge21ldGEua2V5cygpfS4iCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9Iml0ZW1zIiwgbWVzc2FnZT1tc2cpCiAgICAgICAgICAgICAgICAjIGl0ZW1zJyBrZXlzIHNob3VsZCBhcHBlYXIgaW4gYm9keSdzIGlucHV0cwogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShib2R5X2NvbXBvbmVudCwgQ29tcG9uZW50KSBhbmQgKG5vdCBpdGVtLmtleXMoKSA8PSBib2R5X2NvbXBvbmVudC5pbnB1dHMua2V5cygpKToKICAgICAgICAgICAgICAgICAgICBtc2cgPSBmIkl0ZW0ge2l0ZW19IGdvdCB1bm1hdGNoZWQgaW5wdXRzIHdpdGggbG9vcCBib2R5IGNvbXBvbmVudCBpbnB1dHMge2JvZHlfY29tcG9uZW50LmlucHV0c30uIgogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9Iml0ZW1zIiwgbWVzc2FnZT1tc2cpCiAgICAgICAgICAgICAgICAjIHZhbGlkYXRlIGl0ZW0gdmFsdWUgdHlwZQogICAgICAgICAgICAgICAgY2xzLl92YWxpZGF0ZV9pdGVtX3ZhbHVlX3R5cGUoaXRlbT1pdGVtLCB2YWxpZGF0aW9uX3Jlc3VsdD12YWxpZGF0aW9uX3Jlc3VsdCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfdmFsaWRhdGVfaXRlbV92YWx1ZV90eXBlKGNscywgaXRlbTogZGljdCwgdmFsaWRhdGlvbl9yZXN1bHQpOgogICAgICAgICMgcHlsaW50OiBkaXNhYmxlPXByb3RlY3RlZC1hY2Nlc3MKICAgICAgICBzdXBwb3J0ZWRfdHlwZXMgPSAoSW5wdXQsIHN0ciwgYm9vbCwgaW50LCBmbG9hdCwgUGlwZWxpbmVJbnB1dCkKICAgICAgICBmb3IgXywgdmFsIGluIGl0ZW0uaXRlbXMoKToKICAgICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodmFsLCBzdXBwb3J0ZWRfdHlwZXMpOgogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgICAgIHlhbWxfcGF0aD0iaXRlbXMiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9IlVuc3VwcG9ydGVkIHR5cGUge30gaW4gcGFyYWxsZWxfZm9yIGl0ZW1zLiBTdXBwb3J0ZWQgdHlwZXMgYXJlOiB7fSIuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlKHZhbCksIHN1cHBvcnRlZF90eXBlcwogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBJbnB1dCk6CiAgICAgICAgICAgICAgICBjbHMuX3ZhbGlkYXRlX2lucHV0X2l0ZW1fdmFsdWUoZW50cnk9dmFsLCB2YWxpZGF0aW9uX3Jlc3VsdD12YWxpZGF0aW9uX3Jlc3VsdCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfdmFsaWRhdGVfaW5wdXRfaXRlbV92YWx1ZShjbHMsIGVudHJ5OiBJbnB1dCwgdmFsaWRhdGlvbl9yZXN1bHQpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGVudHJ5LCBJbnB1dCk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIG5vdCBlbnRyeS5wYXRoOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICB5YW1sX3BhdGg9Iml0ZW1zIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJJbnB1dCBwYXRoIG5vdCBwcm92aWRlZCBmb3Ige2VudHJ5fS4iLAogICAgICAgICAgICApCiAgICAgICAgaWYgaXNpbnN0YW5jZShlbnRyeS5wYXRoLCBzdHIpIGFuZCBvcy5wYXRoLmV4aXN0cyhlbnRyeS5wYXRoKToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJpdGVtcyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPWYiTG9jYWwgZmlsZSBpbnB1dCB7ZW50cnl9IGlzIG5vdCBzdXBwb3J0ZWQsIHBsZWFzZSBjcmVhdGUgaXQgYXMgYSBkYXRhc2V0LiIsCiAgICAgICAgICAgICkK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "pgjCRHI7nOZBowl0Rkn2Wg==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C3E956A\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "qBKSlU/ao3o=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/parallel_func.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "11695",
        "Content-MD5": "5HnMFMU96tG98Tf3/FRiZA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW1wb3J0IG9zCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVW5pb24KCmZyb20gYXp1cmUuYWkubWwuX3Jlc3RjbGllbnQudjIwMjJfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IEFtbFRva2VuLCBNYW5hZ2VkSWRlbnRpdHkKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50U291cmNlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5wYXJhbGxlbF9jb21wb25lbnQgaW1wb3J0IFBhcmFsbGVsQ29tcG9uZW50CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2RlcGxveW1lbnQuZGVwbG95bWVudF9zZXR0aW5ncyBpbXBvcnQgQmF0Y2hSZXRyeVNldHRpbmdzCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5wYXJhbGxlbC5ydW5fZnVuY3Rpb24gaW1wb3J0IFJ1bkZ1bmN0aW9uCgpmcm9tIC5jb21tYW5kX2Z1bmMgaW1wb3J0IF9wYXJzZV9pbnB1dCwgX3BhcnNlX2lucHV0c19vdXRwdXRzLCBfcGFyc2Vfb3V0cHV0CmZyb20gLnBhcmFsbGVsIGltcG9ydCBQYXJhbGxlbAoKCmRlZiBwYXJhbGxlbF9ydW5fZnVuY3Rpb24oCiAgICAqLAogICAgbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBkZXNjcmlwdGlvbjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICB0YWdzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBwcm9wZXJ0aWVzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBkaXNwbGF5X25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgZXhwZXJpbWVudF9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgcmV0cnlfc2V0dGluZ3M6IE9wdGlvbmFsW0JhdGNoUmV0cnlTZXR0aW5nc10gPSBOb25lLAogICAgZW52aXJvbm1lbnRfdmFyaWFibGVzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBsb2dnaW5nX2xldmVsOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIG1heF9jb25jdXJyZW5jeV9wZXJfaW5zdGFuY2U6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgZXJyb3JfdGhyZXNob2xkOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIG1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIHRhc2s6IE9wdGlvbmFsW1J1bkZ1bmN0aW9uXSA9IE5vbmUsCiAgICBtaW5pX2JhdGNoX3NpemU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgcGFydGl0aW9uX2tleXM6IE9wdGlvbmFsW0xpc3RdID0gTm9uZSwKICAgIGlucHV0X2RhdGE6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgaW5wdXRzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICBpbnN0YW5jZV9jb3VudDogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICBpbnN0YW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGRvY2tlcl9hcmdzOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIHNobV9zaXplOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGlkZW50aXR5OiBPcHRpb25hbFtVbmlvbltNYW5hZ2VkSWRlbnRpdHksIEFtbFRva2VuXV0gPSBOb25lLAogICAgaXNfZGV0ZXJtaW5pc3RpYzogYm9vbCA9IFRydWUsCiAgICAqKmt3YXJncywKKSAtPiBQYXJhbGxlbDoKICAgICIiIkNyZWF0ZSBhIFBhcmFsbGVsIG9iamVjdCB3aGljaCBjYW4gYmUgdXNlZCBpbnNpZGUgZHNsLnBpcGVsaW5lIGFzIGEgZnVuY3Rpb24gYW5kIGNhbiBhbHNvIGJlIGNyZWF0ZWQgYXMgYQogICAgc3RhbmRhbG9uZSBwYXJhbGxlbCBqb2IuCgogICAgRm9yIGFuIGV4YW1wbGUgb2YgdXNpbmcgUGFyYWxsZWxSdW5TdGVwLCBzZWUgdGhlIG5vdGVib29rCiAgICBodHRwczovL2FrYS5tcy9wYXJhbGxlbC1leGFtcGxlLW5vdGVib29rCgogICAgLi4gcmVtYXJrczo6CgogICAgICAgIFRvIHVzZSBwYXJhbGxlbF9ydW5fZnVuY3Rpb246CgogICAgICAgICogQ3JlYXRlIGEgOmNsYXNzOmBhenVyZS5haS5tbC5lbnRpdGllcy5fYnVpbGRlcnMuUGFyYWxsZWxgIG9iamVjdCB0byBzcGVjaWZ5IGhvdyBwYXJhbGxlbCBydW4gaXMgcGVyZm9ybWVkLAogICAgICAgICAgd2l0aCBwYXJhbWV0ZXJzIHRvIGNvbnRyb2wgYmF0Y2ggc2l6ZSxudW1iZXIgb2Ygbm9kZXMgcGVyIGNvbXB1dGUgdGFyZ2V0LCBhbmQgYQogICAgICAgICAgcmVmZXJlbmNlIHRvIHlvdXIgY3VzdG9tIFB5dGhvbiBzY3JpcHQuCgogICAgICAgICogQnVpbGQgcGlwZWxpbmUgd2l0aCB0aGUgcGFyYWxsZWwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIGRlZmluZXMgaW5wdXRzIGFuZAogICAgICAgICAgb3V0cHV0cyBmb3IgdGhlIHN0ZXAuCgogICAgICAgICogU3VtYml0IHRoZSBwaXBlbGluZSB0byBydW4uCgogICAgLi4gY29kZTo6IHB5dGhvbgoKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sIGltcG9ydCBJbnB1dCwgT3V0cHV0LCBwYXJhbGxlbAoKICAgICAgICBwYXJhbGxlbF9ydW4gPSBwYXJhbGxlbF9ydW5fZnVuY3Rpb24oCiAgICAgICAgICAgIG5hbWU9ImJhdGNoX3Njb3JlX3dpdGhfdGFidWxhcl9pbnB1dCIsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT0iQmF0Y2ggU2NvcmUgd2l0aCBUYWJ1bGFyIERhdGFzZXQiLAogICAgICAgICAgICBkZXNjcmlwdGlvbj0icGFyYWxsZWwgY29tcG9uZW50IGZvciBiYXRjaCBzY29yZSIsCiAgICAgICAgICAgIGlucHV0cz1kaWN0KAogICAgICAgICAgICAgICAgam9iX2RhdGFfcGF0aD1JbnB1dCgKICAgICAgICAgICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGRhdGEgdG8gYmUgc3BsaXQgYW5kIHNjb3JlZCBpbiBwYXJhbGxlbCIsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgc2NvcmVfbW9kZWw9SW5wdXQoCiAgICAgICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GT0xERVIsIGRlc2NyaXB0aW9uPSJUaGUgbW9kZWwgZm9yIGJhdGNoIHNjb3JlLiIKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG91dHB1dHM9ZGljdChqb2Jfb3V0cHV0X3BhdGg9T3V0cHV0KHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFKSksCiAgICAgICAgICAgIGlucHV0X2RhdGE9IiR7e2lucHV0cy5qb2JfZGF0YV9wYXRofX0iLAogICAgICAgICAgICBtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlPTIsICAjIE9wdGlvbmFsLCBkZWZhdWx0IGlzIDEKICAgICAgICAgICAgbWluaV9iYXRjaF9zaXplPSIxMDAiLCAgIyBvcHRpb25hbAogICAgICAgICAgICBtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZD01LCAgIyBPcHRpb25hbCwgYWxsb3dlZCBmYWlsZWQgY291bnQgb24gbWluaSBiYXRjaCBpdGVtcywgZGVmYXVsdCBpcyAtMQogICAgICAgICAgICBsb2dnaW5nX2xldmVsPSJERUJVRyIsICAjIE9wdGlvbmFsLCBkZWZhdWx0IGlzIElORk8KICAgICAgICAgICAgZXJyb3JfdGhyZXNob2xkPTUsICAjIE9wdGlvbmFsLCBhbGxvd2VkIGZhaWxlZCBjb3VudCB0b3RhbGx5LCBkZWZhdWx0IGlzIC0xCiAgICAgICAgICAgIHJldHJ5X3NldHRpbmdzPWRpY3QobWF4X3JldHJpZXM9MiwgdGltZW91dD02MCksICAjIE9wdGlvbmFsCiAgICAgICAgICAgIHRhc2s9UnVuRnVuY3Rpb24oCiAgICAgICAgICAgICAgICBjb2RlPSIuL3NyYyIsCiAgICAgICAgICAgICAgICBlbnRyeV9zY3JpcHQ9InRhYnVsYXJfYmF0Y2hfaW5mZXJlbmNlLnB5IiwKICAgICAgICAgICAgICAgIGVudmlyb25tZW50PUVudmlyb25tZW50KAogICAgICAgICAgICAgICAgICAgIGltYWdlPSJtY3IubWljcm9zb2Z0LmNvbS9henVyZW1sL29wZW5tcGkzLjEuMi11YnVudHUxOC4wNCIsCiAgICAgICAgICAgICAgICAgICAgY29uZGFfZmlsZT0iLi9zcmMvZW52aXJvbm1lbnRfcGFyYWxsZWwueW1sIiwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBwcm9ncmFtX2FyZ3VtZW50cz0iLS1tb2RlbCAke3tpbnB1dHMuc2NvcmVfbW9kZWx9fSIsCiAgICAgICAgICAgICAgICBhcHBlbmRfcm93X3RvPSIke3tvdXRwdXRzLmpvYl9vdXRwdXRfcGF0aH19IiwgICMgT3B0aW9uYWwsIGlmIG5vdCBzZXQsIHN1bW1hcnlfb25seQogICAgICAgICAgICApLAogICAgICAgICkKCiAgICA6cGFyYW0gbmFtZTogTmFtZSBvZiB0aGUgcGFyYWxsZWwgam9iIG9yIGNvbXBvbmVudCBjcmVhdGVkCiAgICA6dHlwZSBuYW1lOiBzdHIKICAgIDpwYXJhbSBkZXNjcmlwdGlvbjogYSBmcmllbmRseSBkZXNjcmlwdGlvbiBvZiB0aGUgcGFyYWxsZWwKICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSB0YWdzOiBUYWdzIHRvIGJlIGF0dGFjaGVkIHRvIHRoaXMgcGFyYWxsZWwKICAgIDp0eXBlIHRhZ3M6IERpY3QKICAgIDpwYXJhbSBwcm9wZXJ0aWVzOiBUaGUgYXNzZXQgcHJvcGVydHkgZGljdGlvbmFyeS4KICAgIDp0eXBlIHByb3BlcnRpZXM6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gZGlzcGxheV9uYW1lOiBhIGZyaWVuZGx5IG5hbWUKICAgIDp0eXBlIGRpc3BsYXlfbmFtZTogc3RyCiAgICA6cGFyYW0gZXhwZXJpbWVudF9uYW1lOiBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLAogICAgICAgIGlmIE5vbmUgaXMgcHJvdmlkZWQsIGRlZmF1bHQgd2lsbCBiZSBzZXQgdG8gY3VycmVudCBkaXJlY3RvcnkgbmFtZS4gV2lsbCBiZSBpZ25vcmVkIGFzIGEgcGlwZWxpbmUgc3RlcC4KICAgIDp0eXBlIGV4cGVyaW1lbnRfbmFtZTogc3RyCiAgICA6cGFyYW0gY29tcHV0ZTogdGhlIG5hbWUgb2YgdGhlIGNvbXB1dGUgd2hlcmUgdGhlIHBhcmFsbGVsIGpvYiBpcyBleGVjdXRlZCgKICAgICAgICB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoZSBwYXJhbGxlbCBpcyB1c2VkIGFzIGEgY29tcG9uZW50L2Z1bmN0aW9uKQogICAgOnR5cGUgY29tcHV0ZTogc3RyCiAgICA6cGFyYW0gcmV0cnlfc2V0dGluZ3M6IHBhcmFsbGVsIGNvbXBvbmVudCBydW4gZmFpbGVkIHJldHJ5CiAgICA6dHlwZSByZXRyeV9zZXR0aW5nczogQmF0Y2hSZXRyeVNldHRpbmdzCiAgICA6cGFyYW0gZW52aXJvbm1lbnRfdmFyaWFibGVzOiAgQSBkaWN0aW9uYXJ5IG9mIGVudmlyb25tZW50IHZhcmlhYmxlcyBuYW1lcyBhbmQgdmFsdWVzLgogICAgICAgIFRoZXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgc2V0IG9uIHRoZSBwcm9jZXNzIHdoZXJlIHVzZXIgc2NyaXB0IGlzIGJlaW5nIGV4ZWN1dGVkLgogICAgOnR5cGUgZW52aXJvbm1lbnRfdmFyaWFibGVzOiBEaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIGxvZ2dpbmdfbGV2ZWw6IEEgc3RyaW5nIG9mIHRoZSBsb2dnaW5nIGxldmVsIG5hbWUsIHdoaWNoIGlzIGRlZmluZWQgaW4gJ2xvZ2dpbmcnLgogICAgICAgIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ1dBUk5JTkcnLCAnSU5GTycsIGFuZCAnREVCVUcnLiAob3B0aW9uYWwsIGRlZmF1bHQgdmFsdWUgaXMgJ0lORk8nLikKICAgICAgICBUaGlzIHZhbHVlIGNvdWxkIGJlIHNldCB0aHJvdWdoIFBpcGVsaW5lUGFyYW1ldGVyLgogICAgOnR5cGUgbG9nZ2luZ19sZXZlbDogc3RyCiAgICA6cGFyYW0gbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZTogVGhlIG1heCBwYXJhbGxlbGxpc20gdGhhdCBlYWNoIGNvbXB1dGUgaW5zdGFuY2UgaGFzLgogICAgOnR5cGUgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZTogaW50CiAgICA6cGFyYW0gZXJyb3JfdGhyZXNob2xkOiBUaGUgbnVtYmVyIG9mIHJlY29yZCBmYWlsdXJlcyBmb3IgVGFidWxhciBEYXRhc2V0CiAgICAgICAgYW5kIGZpbGUgZmFpbHVyZXMgZm9yIEZpbGUgRGF0YXNldCB0aGF0IHNob3VsZCBiZSBpZ25vcmVkIGR1cmluZwogICAgICAgIHByb2Nlc3NpbmcuIElmIHRoZSBlcnJvciBjb3VudCBnb2VzIGFib3ZlIHRoaXMgdmFsdWUsIHRoZW4gdGhlIGpvYiB3aWxsIGJlIGFib3J0ZWQuIEVycm9yCiAgICAgICAgdGhyZXNob2xkIGlzIGZvciB0aGUgZW50aXJlIGlucHV0IHJhdGhlciB0aGFuIHRoZSBpbmRpdmlkdWFsIG1pbmktYmF0Y2ggc2VudCB0byBydW4oKSBtZXRob2QuCiAgICAgICAgVGhlIHJhbmdlIGlzIFstMSwgaW50Lm1heF0uIC0xIGluZGljYXRlcyBpZ25vcmUgYWxsIGZhaWx1cmVzIGR1cmluZyBwcm9jZXNzaW5nLgogICAgOnR5cGUgZXJyb3JfdGhyZXNob2xkOiBpbnQKICAgIDpwYXJhbSBtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZDogVGhlIG51bWJlciBvZiBtaW5pIGJhdGNoIHByb2Nlc3NpbmcgZmFpbHVyZXMgc2hvdWxkIGJlIGlnbm9yZWQuCiAgICA6dHlwZSBtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZDogaW50CiAgICA6cGFyYW0gdGFzazogVGhlIHBhcmFsbGVsIHRhc2suCiAgICA6dHlwZSB0YXNrOiBSdW5GdW5jdGlvbgogICAgOnBhcmFtIG1pbmlfYmF0Y2hfc2l6ZTogRm9yIEZpbGVEYXRhc2V0IGlucHV0LCB0aGlzIGZpZWxkIGlzIHRoZSBudW1iZXIgb2YgZmlsZXMgYSB1c2VyIHNjcmlwdCBjYW4gcHJvY2VzcwogICAgICAgIGluIG9uZSBydW4oKSBjYWxsLiBGb3IgVGFidWxhckRhdGFzZXQgaW5wdXQsIHRoaXMgZmllbGQgaXMgdGhlIGFwcHJveGltYXRlIHNpemUgb2YgZGF0YSB0aGUgdXNlciBzY3JpcHQKICAgICAgICBjYW4gcHJvY2VzcyBpbiBvbmUgcnVuKCkgY2FsbC4gRXhhbXBsZSB2YWx1ZXMgYXJlIDEwMjQsIDEwMjRLQiwgMTBNQiwgYW5kIDFHQi4KICAgICAgICAob3B0aW9uYWwsIGRlZmF1bHQgdmFsdWUgaXMgMTAgZmlsZXMgZm9yIEZpbGVEYXRhc2V0IGFuZCAxTUIgZm9yIFRhYnVsYXJEYXRhc2V0LikgVGhpcyB2YWx1ZSBjb3VsZCBiZSBzZXQKICAgICAgICB0aHJvdWdoIFBpcGVsaW5lUGFyYW1ldGVyLgogICAgOnR5cGUgbWluaV9iYXRjaF9zaXplOiBzdHIKICAgIDpwYXJhbSBwYXJ0aXRpb25fa2V5czogVGhlIGtleXMgdXNlZCB0byBwYXJ0aXRpb24gZGF0YXNldCBpbnRvIG1pbmktYmF0Y2hlcy4KICAgICAgICBJZiBzcGVjaWZpZWQsIHRoZSBkYXRhIHdpdGggdGhlIHNhbWUga2V5IHdpbGwgYmUgcGFydGl0aW9uZWQgaW50byB0aGUgc2FtZSBtaW5pLWJhdGNoLgogICAgICAgIElmIGJvdGggcGFydGl0aW9uX2tleXMgYW5kIG1pbmlfYmF0Y2hfc2l6ZSBhcmUgc3BlY2lmaWVkLCB0aGUgcGFydGl0aW9uIGtleXMgd2lsbCB0YWtlIGVmZmVjdC4KICAgICAgICBUaGUgaW5wdXQocykgbXVzdCBiZSBwYXJ0aXRpb25lZCBkYXRhc2V0KHMpLAogICAgICAgIGFuZCB0aGUgcGFydGl0aW9uX2tleXMgbXVzdCBiZSBhIHN1YnNldCBvZiB0aGUga2V5cyBvZiBldmVyeSBpbnB1dCBkYXRhc2V0IGZvciB0aGlzIHRvIHdvcmsuCiAgICA6dHlwZSBwYXJ0aXRpb25fa2V5czogTGlzdAogICAgOnBhcmFtIGlucHV0X2RhdGE6IFRoZSBpbnB1dCBkYXRhLgogICAgOnR5cGUgaW5wdXRfZGF0YTogc3RyCiAgICA6cGFyYW0gaW5wdXRzOiBhIGRpY3Qgb2YgaW5wdXRzIHVzZWQgYnkgdGhpcyBwYXJhbGxlbC4KICAgIDp0eXBlIGlucHV0czogRGljdAogICAgOnBhcmFtIG91dHB1dHM6IHRoZSBvdXRwdXRzIG9mIHRoaXMgcGFyYWxsZWwKICAgIDp0eXBlIG91dHB1dHM6IERpY3QKICAgIDpwYXJhbSBpbnN0YW5jZV9jb3VudDogT3B0aW9uYWwgbnVtYmVyIG9mIGluc3RhbmNlcyBvciBub2RlcyB1c2VkIGJ5IHRoZSBjb21wdXRlIHRhcmdldC4gRGVmYXVsdHMgdG8gMS4KICAgIDp0eXBlIGluc3RhbmNlX2NvdW50OiBpbnQKICAgIDpwYXJhbSBpbnN0YW5jZV90eXBlOiBPcHRpb25hbCB0eXBlIG9mIFZNIHVzZWQgYXMgc3VwcG9ydGVkIGJ5IHRoZSBjb21wdXRlIHRhcmdldC4KICAgIDp0eXBlIGluc3RhbmNlX3R5cGU6IHN0cgogICAgOnBhcmFtIGRvY2tlcl9hcmdzOiBFeHRyYSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgRG9ja2VyIHJ1biBjb21tYW5kLiBUaGlzIHdvdWxkIG92ZXJyaWRlIGFueQogICAgIHBhcmFtZXRlcnMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBzZXQgYnkgdGhlIHN5c3RlbSwgb3IgaW4gdGhpcyBzZWN0aW9uLiBUaGlzIHBhcmFtZXRlciBpcyBvbmx5CiAgICAgc3VwcG9ydGVkIGZvciBBenVyZSBNTCBjb21wdXRlIHR5cGVzLgogICAgOnR5cGUgZG9ja2VyX2FyZ3M6IHN0cgogICAgOnBhcmFtIHNobV9zaXplOiBTaXplIG9mIHRoZSBkb2NrZXIgY29udGFpbmVyJ3Mgc2hhcmVkIG1lbW9yeSBibG9jay4gVGhpcyBzaG91bGQgYmUgaW4gdGhlCiAgICAgZm9ybWF0IG9mIChudW1iZXIpKHVuaXQpIHdoZXJlIG51bWJlciBhcyB0byBiZSBncmVhdGVyIHRoYW4gMCBhbmQgdGhlIHVuaXQgY2FuIGJlIG9uZSBvZgogICAgIGIoYnl0ZXMpLCBrKGtpbG9ieXRlcyksIG0obWVnYWJ5dGVzKSwgb3IgZyhnaWdhYnl0ZXMpLgogICAgOnR5cGUgc2htX3NpemU6IHN0cgogICAgOnBhcmFtIGlkZW50aXR5OiBJZGVudGl0eSB0aGF0IHRyYWluaW5nIGpvYiB3aWxsIHVzZSB3aGlsZSBydW5uaW5nIG9uIGNvbXB1dGUuCiAgICA6dHlwZSBpZGVudGl0eTogVW5pb25bTWFuYWdlZElkZW50aXR5LCBBbWxUb2tlbl0KICAgIDpwYXJhbSBpc19kZXRlcm1pbmlzdGljOiBTcGVjaWZ5IHdoZXRoZXIgdGhlIHBhcmFsbGVsIHdpbGwgcmV0dXJuIHNhbWUgb3V0cHV0IGdpdmVuIHNhbWUgaW5wdXQuCiAgICAgICAgSWYgYSBwYXJhbGxlbCAoY29tcG9uZW50KSBpcyBkZXRlcm1pbmlzdGljLCB3aGVuIHVzZSBpdCBhcyBhIG5vZGUvc3RlcCBpbiBhIHBpcGVsaW5lLAogICAgICAgIGl0IHdpbGwgcmV1c2UgcmVzdWx0cyBmcm9tIGEgcHJldmlvdXMgc3VibWl0dGVkIGpvYiBpbiBjdXJyZW50IHdvcmtzcGFjZSB3aGljaCBoYXMgc2FtZSBpbnB1dHMgYW5kIHNldHRpbmdzLgogICAgICAgIEluIHRoaXMgY2FzZSwgdGhpcyBzdGVwIHdpbGwgbm90IHVzZSBhbnkgY29tcHV0ZSByZXNvdXJjZS4KICAgICAgICBEZWZhdWx0IHRvIGJlIFRydWUsIHNwZWNpZnkgaXNfZGV0ZXJtaW5pc3RpYz1GYWxzZSBpZiB5b3Ugd291bGQgbGlrZSB0byBhdm9pZCBzdWNoIHJldXNlIGJlaGF2aW9yLgogICAgOnR5cGUgaXNfZGV0ZXJtaW5pc3RpYzogYm9vbAogICAgIiIiCiAgICAjIHB5bGludDogZGlzYWJsZT10b28tbWFueS1sb2NhbHMKICAgIGlucHV0cyA9IGlucHV0cyBvciB7fQogICAgb3V0cHV0cyA9IG91dHB1dHMgb3Ige30KICAgIGNvbXBvbmVudF9pbnB1dHMsIGpvYl9pbnB1dHMgPSBfcGFyc2VfaW5wdXRzX291dHB1dHMoaW5wdXRzLCBwYXJzZV9mdW5jPV9wYXJzZV9pbnB1dCkKICAgICMgam9iIGlucHV0cyBjYW4gbm90IGJlIE5vbmUKICAgIGpvYl9pbnB1dHMgPSB7azogdiBmb3IgaywgdiBpbiBqb2JfaW5wdXRzLml0ZW1zKCkgaWYgdiBpcyBub3QgTm9uZX0KICAgIGNvbXBvbmVudF9vdXRwdXRzLCBqb2Jfb3V0cHV0cyA9IF9wYXJzZV9pbnB1dHNfb3V0cHV0cyhvdXRwdXRzLCBwYXJzZV9mdW5jPV9wYXJzZV9vdXRwdXQpCgogICAgY29tcG9uZW50ID0ga3dhcmdzLnBvcCgiY29tcG9uZW50IiwgTm9uZSkKCiAgICBpZiBjb21wb25lbnQgaXMgTm9uZToKICAgICAgICBjb21wb25lbnQgPSBQYXJhbGxlbENvbXBvbmVudCgKICAgICAgICAgICAgYmFzZV9wYXRoPW9zLmdldGN3ZCgpLCAgIyBiYXNlIHBhdGggc2hvdWxkIGJlIGN1cnJlbnQgZm9sZGVyCiAgICAgICAgICAgIG5hbWU9bmFtZSwKICAgICAgICAgICAgdGFncz10YWdzLAogICAgICAgICAgICBjb2RlPXRhc2suY29kZSwKICAgICAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249ZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGlucHV0cz1jb21wb25lbnRfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPWNvbXBvbmVudF9vdXRwdXRzLAogICAgICAgICAgICByZXRyeV9zZXR0aW5ncz1yZXRyeV9zZXR0aW5ncywKICAgICAgICAgICAgbG9nZ2luZ19sZXZlbD1sb2dnaW5nX2xldmVsLAogICAgICAgICAgICBtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlPW1heF9jb25jdXJyZW5jeV9wZXJfaW5zdGFuY2UsCiAgICAgICAgICAgIGVycm9yX3RocmVzaG9sZD1lcnJvcl90aHJlc2hvbGQsCiAgICAgICAgICAgIG1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkPW1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkLAogICAgICAgICAgICB0YXNrPXRhc2ssCiAgICAgICAgICAgIG1pbmlfYmF0Y2hfc2l6ZT1taW5pX2JhdGNoX3NpemUsCiAgICAgICAgICAgIHBhcnRpdGlvbl9rZXlzPXBhcnRpdGlvbl9rZXlzLAogICAgICAgICAgICBpbnB1dF9kYXRhPWlucHV0X2RhdGEsCiAgICAgICAgICAgIF9zb3VyY2U9Q29tcG9uZW50U291cmNlLkJVSUxERVIsCiAgICAgICAgICAgIGlzX2RldGVybWluaXN0aWM9aXNfZGV0ZXJtaW5pc3RpYywKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQoKICAgIHBhcmFsbGVsX29iaiA9IFBhcmFsbGVsKCAgIyBweWxpbnQ6IGRpc2FibGU9YWJzdHJhY3QtY2xhc3MtaW5zdGFudGlhdGVkCiAgICAgICAgY29tcG9uZW50PWNvbXBvbmVudCwKICAgICAgICBuYW1lPW5hbWUsCiAgICAgICAgZGVzY3JpcHRpb249ZGVzY3JpcHRpb24sCiAgICAgICAgdGFncz10YWdzLAogICAgICAgIHByb3BlcnRpZXM9cHJvcGVydGllcywKICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsCiAgICAgICAgY29tcHV0ZT1jb21wdXRlLAogICAgICAgIGlucHV0cz1qb2JfaW5wdXRzLAogICAgICAgIG91dHB1dHM9am9iX291dHB1dHMsCiAgICAgICAgaWRlbnRpdHk9aWRlbnRpdHksCiAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzPWVudmlyb25tZW50X3ZhcmlhYmxlcywKICAgICAgICByZXRyeV9zZXR0aW5ncz1yZXRyeV9zZXR0aW5ncywKICAgICAgICBsb2dnaW5nX2xldmVsPWxvZ2dpbmdfbGV2ZWwsCiAgICAgICAgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZT1tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlLAogICAgICAgIGVycm9yX3RocmVzaG9sZD1lcnJvcl90aHJlc2hvbGQsCiAgICAgICAgbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ9bWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQsCiAgICAgICAgdGFzaz10YXNrLAogICAgICAgIG1pbmlfYmF0Y2hfc2l6ZT1taW5pX2JhdGNoX3NpemUsCiAgICAgICAgcGFydGl0aW9uX2tleXM9cGFydGl0aW9uX2tleXMsCiAgICAgICAgaW5wdXRfZGF0YT1pbnB1dF9kYXRhLAogICAgICAgICoqa3dhcmdzLAogICAgKQoKICAgIGlmIGluc3RhbmNlX2NvdW50IGlzIG5vdCBOb25lIG9yIGluc3RhbmNlX3R5cGUgaXMgbm90IE5vbmUgb3IgZG9ja2VyX2FyZ3MgaXMgbm90IE5vbmUgb3Igc2htX3NpemUgaXMgbm90IE5vbmU6CiAgICAgICAgcGFyYWxsZWxfb2JqLnNldF9yZXNvdXJjZXMoCiAgICAgICAgICAgIGluc3RhbmNlX2NvdW50PWluc3RhbmNlX2NvdW50LCBpbnN0YW5jZV90eXBlPWluc3RhbmNlX3R5cGUsIGRvY2tlcl9hcmdzPWRvY2tlcl9hcmdzLCBzaG1fc2l6ZT1zaG1fc2l6ZQogICAgICAgICkKCiAgICByZXR1cm4gcGFyYWxsZWxfb2JqCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "5HnMFMU96tG98Tf3/FRiZA==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C3FA6B3\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "WsItIdwG1hI=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/import_node.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "7729",
        "Content-MD5": "E35bRYz9REwADeQTNYcjSA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKZnJvbSBtYXJzaG1hbGxvdyBpbXBvcnQgU2NoZW1hCgpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIyXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBDb21tYW5kSm9iIGFzIFJlc3RDb21tYW5kSm9iCmZyb20gYXp1cmUuYWkubWwuX3Jlc3RjbGllbnQudjIwMjJfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IEpvYkJhc2VEYXRhCmZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5qb2IuaW1wb3J0X2pvYiBpbXBvcnQgSW1wb3J0Sm9iU2NoZW1hCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21tb24gaW1wb3J0IEJBU0VfUEFUSF9DT05URVhUX0tFWQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tcG9uZW50IGltcG9ydCBDb21wb25lbnRTb3VyY2UsIE5vZGVUeXBlCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wdXRlIGltcG9ydCBDb21wdXRlVHlwZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuY29tcG9uZW50IGltcG9ydCBDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY29tcG9uZW50LmltcG9ydF9jb21wb25lbnQgaW1wb3J0IEltcG9ydENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9pbnB1dHNfb3V0cHV0cyBpbXBvcnQgT3V0cHV0CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5faW5wdXRfb3V0cHV0X2hlbHBlcnMgaW1wb3J0IGZyb21fcmVzdF9kYXRhX291dHB1dHMsIGZyb21fcmVzdF9pbnB1dHNfdG9fZGF0YXNldF9saXRlcmFsCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5pbXBvcnRfam9iIGltcG9ydCBJbXBvcnRKb2IsIEltcG9ydFNvdXJjZQpmcm9tIGF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMgaW1wb3J0IEVycm9yVGFyZ2V0LCBWYWxpZGF0aW9uRXJyb3JUeXBlLCBWYWxpZGF0aW9uRXhjZXB0aW9uCgpmcm9tIC4uLl9zY2hlbWEgaW1wb3J0IFBhdGhBd2FyZVNjaGVtYQpmcm9tIC4uX3V0aWwgaW1wb3J0IGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QsIGxvYWRfZnJvbV9kaWN0LCB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZQpmcm9tIC5iYXNlX25vZGUgaW1wb3J0IEJhc2VOb2RlCgptb2R1bGVfbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKY2xhc3MgSW1wb3J0KEJhc2VOb2RlKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIGltcG9ydCBub2RlLCB1c2VkIGZvciBpbXBvcnQgY29tcG9uZW50IHZlcnNpb24gY29uc3VtcHRpb24uCgogICAgWW91IHNob3VsZCBub3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gSW5zdGVhZCwgeW91IHNob3VsZAogICAgY3JlYXRlIGZyb20gYSBidWlsZGVyIGZ1bmN0aW9uLgoKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9yIGluc3RhbmNlIG9mIHRoZSBpbXBvcnQgY29tcG9uZW50L2pvYiB0byBiZSBydW4gZm9yIHRoZSBzdGVwCiAgICA6dHlwZSBjb21wb25lbnQ6IEltcG9ydENvbXBvbmVudAogICAgOnBhcmFtIGlucHV0czogSW5wdXQgcGFyYW1ldGVycyB0byB0aGUgaW1wb3J0LgogICAgOnR5cGUgaW5wdXRzOiBEaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIG91dHB1dHM6IE1hcHBpbmcgb2Ygb3V0cHV0IGRhdGEgYmluZGluZ3MgdXNlZCBpbiB0aGUgam9iLgogICAgOnR5cGUgb3V0cHV0czogRGljdFtzdHIsIFVuaW9uW3N0ciwgT3V0cHV0XV0KICAgIDpwYXJhbSBuYW1lOiBOYW1lIG9mIHRoZSBpbXBvcnQuCiAgICA6dHlwZSBuYW1lOiBzdHIKICAgIDpwYXJhbSBkZXNjcmlwdGlvbjogRGVzY3JpcHRpb24gb2YgdGhlIGltcG9ydC4KICAgIDp0eXBlIGRlc2NyaXB0aW9uOiBzdHIKICAgIDpwYXJhbSBkaXNwbGF5X25hbWU6IERpc3BsYXkgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgZGlzcGxheV9uYW1lOiBzdHIKICAgIDpwYXJhbSBleHBlcmltZW50X25hbWU6ICBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLAogICAgICAgIGlmIE5vbmUgaXMgcHJvdmlkZWQsIGRlZmF1bHQgd2lsbCBiZSBzZXQgdG8gY3VycmVudCBkaXJlY3RvcnkgbmFtZS4KICAgIDp0eXBlIGV4cGVyaW1lbnRfbmFtZTogc3RyCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIGNvbXBvbmVudDogVW5pb25bc3RyLCBJbXBvcnRDb21wb25lbnRdLAogICAgICAgIGlucHV0czogT3B0aW9uYWxbRGljdFtzdHIsIHN0cl1dID0gTm9uZSwKICAgICAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgT3V0cHV0XV0gPSBOb25lLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIHZhbGlkYXRlIGluaXQgcGFyYW1zIGFyZSB2YWxpZCB0eXBlCiAgICAgICAgdmFsaWRhdGVfYXR0cmlidXRlX3R5cGUoYXR0cnNfdG9fY2hlY2s9bG9jYWxzKCksIGF0dHJfdHlwZV9tYXA9c2VsZi5fYXR0cl90eXBlX21hcCgpKQoKICAgICAgICBrd2FyZ3MucG9wKCJ0eXBlIiwgTm9uZSkKICAgICAgICBrd2FyZ3MucG9wKCJjb21wdXRlIiwgTm9uZSkKCiAgICAgICAgc2VsZi5fcGFyYW1ldGVycyA9IGt3YXJncy5wb3AoInBhcmFtZXRlcnMiLCB7fSkKICAgICAgICBCYXNlTm9kZS5fX2luaXRfXygKICAgICAgICAgICAgc2VsZiwKICAgICAgICAgICAgdHlwZT1Ob2RlVHlwZS5JTVBPUlQsCiAgICAgICAgICAgIGlucHV0cz1pbnB1dHMsCiAgICAgICAgICAgIG91dHB1dHM9b3V0cHV0cywKICAgICAgICAgICAgY29tcG9uZW50PWNvbXBvbmVudCwKICAgICAgICAgICAgY29tcHV0ZT1Db21wdXRlVHlwZS5BREYsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3N1cHBvcnRlZF9pbnB1dHNfdHlwZXMoY2xzKToKICAgICAgICAjIGltcG9ydCBzb3VyY2UgcGFyYW1ldGVycyB0eXBlLCBjb25uZWN0aW9uLCBxdWVyeSwgcGF0aCBhcmUgYWx3YXlzIHN0cgogICAgICAgIHJldHVybiBzdHIKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3N1cHBvcnRlZF9vdXRwdXRzX3R5cGVzKGNscyk6CiAgICAgICAgcmV0dXJuIHN0ciwgT3V0cHV0CgogICAgQHByb3BlcnR5CiAgICBkZWYgY29tcG9uZW50KHNlbGYpIC0\u002BIFVuaW9uW3N0ciwgSW1wb3J0Q29tcG9uZW50XToKICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50CgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJjb21wb25lbnQiOiAoc3RyLCBJbXBvcnRDb21wb25lbnQpLAogICAgICAgIH0KCiAgICBkZWYgX3RvX2pvYihzZWxmKSAtPiBJbXBvcnRKb2I6CiAgICAgICAgcmV0dXJuIEltcG9ydEpvYigKICAgICAgICAgICAgaWQ9c2VsZi5pZCwKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249c2VsZi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPXNlbGYuZXhwZXJpbWVudF9uYW1lLAogICAgICAgICAgICBzdGF0dXM9c2VsZi5zdGF0dXMsCiAgICAgICAgICAgIHNvdXJjZT1JbXBvcnRTb3VyY2UuX2Zyb21fam9iX2lucHV0cyhzZWxmLl9qb2JfaW5wdXRzKSwKICAgICAgICAgICAgb3V0cHV0PXNlbGYuX2pvYl9vdXRwdXRzLmdldCgib3V0cHV0IiksCiAgICAgICAgICAgIGNyZWF0aW9uX2NvbnRleHQ9c2VsZi5jcmVhdGlvbl9jb250ZXh0LAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfcGlja2VkX2ZpZWxkc19mcm9tX2RpY3RfdG9fcmVzdF9vYmplY3QoY2xzKSAtPiBMaXN0W3N0cl06CiAgICAgICAgcmV0dXJuIFtdCgogICAgZGVmIF90b19yZXN0X29iamVjdChzZWxmLCAqKmt3YXJncykgLT4gZGljdDoKICAgICAgICByZXN0X29iaiA9IHN1cGVyKCkuX3RvX3Jlc3Rfb2JqZWN0KCoqa3dhcmdzKQogICAgICAgIHJlc3Rfb2JqLnVwZGF0ZSgKICAgICAgICAgICAgY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdCgKICAgICAgICAgICAgICAgIGRpY3QoCiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQ9c2VsZi5fZ2V0X2NvbXBvbmVudF9pZCgpLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgIHJldHVybiByZXN0X29iagoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sb2FkX2Zyb21fZGljdChjbHMsIGRhdGE6IERpY3QsIGNvbnRleHQ6IERpY3QsIGFkZGl0aW9uYWxfbWVzc2FnZTogc3RyLCAqKmt3YXJncykgLT4gIkltcG9ydCI6CiAgICAgICAgZnJvbSAuaW1wb3J0X2Z1bmMgaW1wb3J0IGltcG9ydF9qb2IKCiAgICAgICAgbG9hZGVkX2RhdGEgPSBsb2FkX2Zyb21fZGljdChJbXBvcnRKb2JTY2hlbWEsIGRhdGEsIGNvbnRleHQsIGFkZGl0aW9uYWxfbWVzc2FnZSwgKiprd2FyZ3MpCgogICAgICAgIGltcG9ydF9qb2IgPSBpbXBvcnRfam9iKGJhc2VfcGF0aD1jb250ZXh0W0JBU0VfUEFUSF9DT05URVhUX0tFWV0sICoqbG9hZGVkX2RhdGEpCgogICAgICAgIHJldHVybiBpbXBvcnRfam9iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2xvYWRfZnJvbV9yZXN0X2pvYihjbHMsIG9iajogSm9iQmFzZURhdGEpIC0\u002BICJJbXBvcnQiOgogICAgICAgIGZyb20gLmltcG9ydF9mdW5jIGltcG9ydCBpbXBvcnRfam9iCgogICAgICAgIHJlc3RfY29tbWFuZF9qb2I6IFJlc3RDb21tYW5kSm9iID0gb2JqLnByb3BlcnRpZXMKICAgICAgICBpbnB1dHMgPSBmcm9tX3Jlc3RfaW5wdXRzX3RvX2RhdGFzZXRfbGl0ZXJhbChyZXN0X2NvbW1hbmRfam9iLmlucHV0cykKICAgICAgICBvdXRwdXRzID0gZnJvbV9yZXN0X2RhdGFfb3V0cHV0cyhyZXN0X2NvbW1hbmRfam9iLm91dHB1dHMpCgogICAgICAgIGltcG9ydF9qb2IgPSBpbXBvcnRfam9iKAogICAgICAgICAgICBuYW1lPW9iai5uYW1lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9cmVzdF9jb21tYW5kX2pvYi5kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXJlc3RfY29tbWFuZF9qb2IuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1yZXN0X2NvbW1hbmRfam9iLmV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgc3RhdHVzPXJlc3RfY29tbWFuZF9qb2Iuc3RhdHVzLAogICAgICAgICAgICBjcmVhdGlvbl9jb250ZXh0PW9iai5zeXN0ZW1fZGF0YSwKICAgICAgICAgICAgaW5wdXRzPWlucHV0cywKICAgICAgICAgICAgb3V0cHV0PW91dHB1dHNbIm91dHB1dCJdIGlmICJvdXRwdXQiIGluIG91dHB1dHMgZWxzZSBOb25lLAogICAgICAgICkKICAgICAgICBpbXBvcnRfam9iLl9pZCA9IG9iai5pZAogICAgICAgIGltcG9ydF9qb2IuY29tcG9uZW50Ll9zb3VyY2UgPSBDb21wb25lbnRTb3VyY2UuUkVNT1RFX1dPUktTUEFDRV9KT0IgICMgVGhpcyBpcyB1c2VkIGJ5IHBpcGVsaW5lIGpvYiB0ZWxlbWV0cmllcy4KCiAgICAgICAgcmV0dXJuIGltcG9ydF9qb2IKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3JlYXRlX3NjaGVtYV9mb3JfdmFsaWRhdGlvbihjbHMsIGNvbnRleHQpIC0\u002BIFVuaW9uW1BhdGhBd2FyZVNjaGVtYSwgU2NoZW1hXToKICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLl9zY2hlbWEucGlwZWxpbmUgaW1wb3J0IEltcG9ydFNjaGVtYQoKICAgICAgICByZXR1cm4gSW1wb3J0U2NoZW1hKGNvbnRleHQ9Y29udGV4dCkKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKSAtPiAiSW1wb3J0IjoKICAgICAgICAiIiJDYWxsIEltcG9ydCBhcyBhIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgbmV3IGluc3RhbmNlIGVhY2ggdGltZS4iIiIKICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuX2NvbXBvbmVudCwgQ29tcG9uZW50KToKICAgICAgICAgICAgIyBjYWxsIHRoaXMgdG8gdmFsaWRhdGUgaW5wdXRzCiAgICAgICAgICAgIG5vZGUgPSBzZWxmLl9jb21wb25lbnQoKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICAjIG1lcmdlIGlucHV0cwogICAgICAgICAgICBmb3IgbmFtZSwgb3JpZ2luYWxfaW5wdXQgaW4gc2VsZi5pbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIG5hbWUgbm90IGluIGt3YXJncy5rZXlzKCk6CiAgICAgICAgICAgICAgICAgICAgIyB1c2Ugc2V0YXR0ciBoZXJlIHRvIG1ha2Ugc3VyZSBvd25lciBvZiBpbnB1dCB3b24ndCBjaGFuZ2UKICAgICAgICAgICAgICAgICAgICBzZXRhdHRyKG5vZGUuaW5wdXRzLCBuYW1lLCBvcmlnaW5hbF9pbnB1dC5fZGF0YSkKICAgICAgICAgICAgICAgICAgICBub2RlLl9qb2JfaW5wdXRzW25hbWVdID0gb3JpZ2luYWxfaW5wdXQuX2RhdGEKICAgICAgICAgICAgICAgICMgZ2V0IG91dHB1dHMKICAgICAgICAgICAgZm9yIG5hbWUsIG9yaWdpbmFsX291dHB1dCBpbiBzZWxmLm91dHB1dHMuaXRlbXMoKToKICAgICAgICAgICAgICAgICMgdXNlIHNldGF0dHIgaGVyZSB0byBtYWtlIHN1cmUgb3duZXIgb2YgaW5wdXQgd29uJ3QgY2hhbmdlCiAgICAgICAgICAgICAgICBzZXRhdHRyKG5vZGUub3V0cHV0cywgbmFtZSwgb3JpZ2luYWxfb3V0cHV0Ll9kYXRhKQogICAgICAgICAgICBzZWxmLl9yZWZpbmVfb3B0aW9uYWxfaW5wdXRzX3dpdGhfbm9fdmFsdWUobm9kZSwga3dhcmdzKQogICAgICAgICAgICAjIHNldCBkZWZhdWx0IHZhbHVlczogY29tcHV0ZSwgZW52aXJvbm1lbnRfdmFyaWFibGVzLCBvdXRwdXRzCiAgICAgICAgICAgIG5vZGUuX25hbWUgPSBzZWxmLm5hbWUKICAgICAgICAgICAgbm9kZS5jb21wdXRlID0gc2VsZi5jb21wdXRlCiAgICAgICAgICAgIG5vZGUudGFncyA9IHNlbGYudGFncwogICAgICAgICAgICAjIFBhc3MgdGhyb3VnaCB0aGUgZGlzcGxheSBuYW1lIG9ubHkgaWYgdGhlIGRpc3BsYXkgbmFtZSBpcyBub3Qgc3lzdGVtIGdlbmVyYXRlZC4KICAgICAgICAgICAgbm9kZS5kaXNwbGF5X25hbWUgPSBzZWxmLmRpc3BsYXlfbmFtZSBpZiBzZWxmLmRpc3BsYXlfbmFtZSAhPSBzZWxmLm5hbWUgZWxzZSBOb25lCiAgICAgICAgICAgIHJldHVybiBub2RlCiAgICAgICAgbXNnID0gIkltcG9ydCBjYW4gYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24gb25seSB3aGVuIHJlZmVyZW5jZWQgY29tcG9uZW50IGlzIHt9LCBjdXJyZW50bHkgZ290IHt9LiIKICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICBtZXNzYWdlPW1zZy5mb3JtYXQodHlwZShDb21wb25lbnQpLCBzZWxmLl9jb21wb25lbnQpLAogICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLmZvcm1hdCh0eXBlKENvbXBvbmVudCksICJzZWxmLl9jb21wb25lbnQiKSwKICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LkNPTU1BTkRfSk9CLAogICAgICAgICAgICBlcnJvcl90eXBlPVZhbGlkYXRpb25FcnJvclR5cGUuSU5WQUxJRF9WQUxVRSwKICAgICAgICApCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "E35bRYz9REwADeQTNYcjSA==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C3FCDC2\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "YwOxe1/DQ64=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/fl_scatter_gather.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "36485",
        "Content-MD5": "fcUYO2m9pp/I06Jg8zXfDg==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIFVuaW9uLCBMaXN0LCBPcHRpb25hbAppbXBvcnQgcmUKCmZyb20gYXp1cmUuYWkubWwgaW1wb3J0IE91dHB1dApmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBBc3NldFR5cGVzCmZyb20gYXp1cmUuYWkubWwuX3NjaGVtYSBpbXBvcnQgUGF0aEF3YXJlU2NoZW1hCmZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5waXBlbGluZS5jb250cm9sX2Zsb3dfam9iIGltcG9ydCBGTFNjYXR0ZXJHYXRoZXJTY2hlbWEKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fYnVpbGRlcnMuY29udHJvbF9mbG93X25vZGUgaW1wb3J0IENvbnRyb2xGbG93Tm9kZQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucGlwZWxpbmUuX2lvLm1peGluIGltcG9ydCBOb2RlSU9NaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl91dGlsIGltcG9ydCBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0CmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzIGltcG9ydCBKb2JUeXBlCgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9hc3NldHMuZmVkZXJhdGVkX2xlYXJuaW5nX3NpbG8gaW1wb3J0IEZlZGVyYXRlZExlYXJuaW5nU2lsbwpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jb21wb25lbnQuY29tcG9uZW50IGltcG9ydCBDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fdmFsaWRhdGlvbiBpbXBvcnQgTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQKZnJvbSAuc3ViY29tcG9uZW50cyBpbXBvcnQgYWdncmVnYXRlX291dHB1dAoKIyBUT0RPIDIyOTM2MTA6IGFkZCBzdXBwb3J0IGZvciBtb3JlIHR5cGVzIG9mIG91dHB1dHMgYmVzaWRlcyB1cmlfZm9sZGVyIGFuZCBtbHRhYmxlCiMgTGlrZWx5IHR5cGVzIHRoYXQgb3VnaHQgdG8gYmUgbWVyZ2VhYmxlOiBzdHJpbmcsIGludCwgdXJpX2ZpbGUKTUVSR0VfQ09NUE9ORU5UX01BUFBJTkcgPSB7CiAgICAibWx0YWJsZSI6IGFnZ3JlZ2F0ZV9vdXRwdXQsCiAgICAidXJpX2ZvbGRlciI6IGFnZ3JlZ2F0ZV9vdXRwdXQsCn0KCgpBTkNIT1JBQkxFX09VVFBVVF9UWVBFUyA9IHsKICAgIEFzc2V0VHlwZXMuTUxUQUJMRSwKICAgIEFzc2V0VHlwZXMuVVJJX0ZPTERFUgp9CgpBTkNIT1JJTkdfUEFUSF9ST09UID0gInJvb3QiCgoKIyBiaWcgVE9ETzogRm9yIHNvbWUgcmVhc29uLCBzdXJmYWNpbmcgdGhpcyBmaWxlIGluICBfX2luaXRfXy5weSBjYXVzZXMKIyAgYSBjaXJjdWxhciBpbXBvcnQgZXhjZXB0aW9uIG9uIHRoZSBmaXJzdCBhdHRlbXB0ZWQgaW1wb3J0CiMgSW4gbm90ZWJvb2tzLCB0aGUgc2Vjb25kIGltcG9ydCBzdWNjZWVkcywgYnV0IHRoZW4gY2F1c2VzIGEgc2lsZW50IGZhaWx1cmUgd2hlcmUgdGhlCiMgTUxEZXNpZ25lciBjb21wb25lbnQgY3JlYXRlZCBieSB0aGUgc3ViY29tcG9uZW50cy5hZ2dyZWdhdGVfb3V0cHV0IGZ1bmN0aW9uCiMgd2lsbCBwcm9kdWNlIGEgQ29tcG9uZW50RXhlY3V0b3Igb2JqZWN0IGluc3RlYWQgb2YgdGhlIGFjdHVhbCBjb21wb25lbnQuCiMgVE9ETyAyMjkzNTQxOiBBZGQgdGVsZW1ldHJ5IG9mIHNvbWUgc29ydAojIHB5bGludDogZGlzYWJsZT10b28tbWFueS1pbnN0YW5jZS1hdHRyaWJ1dGVzCmNsYXNzIEZMU2NhdHRlckdhdGhlcihDb250cm9sRmxvd05vZGUsIE5vZGVJT01peGluKToKICAgICIiIkEgbm9kZSB3aGljaCBjcmVhdGVzIGEgZmVkZXJhdGVkIGxlYXJuaW5nIHNjYXR0ZXItZ2F0aGVyIGxvb3AgYXMgYSBwaXBlbGluZSBzdWJncmFwaC4KICAgIEludGVuZGVkIGZvciB1c2UgaW5zaWRlIGEgcGlwZWxpbmUgam9iLiBUaGlzIGlzIGluaXRpYWxpemVkIHdoZW4gY2FsbGluZwogICAgZHNsLmZsX3NjYXR0ZXJfZ2F0aGVyKCkgb3Igd2hlbiBsb2FkaW5nIGEgc2VyaWFsaXplZCB2ZXJzaW9uIG9mIHRoaXMgbm9kZSBmcm9tIFlBTUwuCiAgICBQbGVhc2UgZG8gbm90IG1hbnVhbGx5IGluaXRpYWxpemUgdGhpcyBjbGFzcy4KICAgICIiIgoKICAgICMgU2VlIG5vZGUgY2xhc3MgZm9yIGlucHV0IGRlc2NyaXB0aW9ucywgbm8gcG9pbnQgbWFpbnRhaW5pbmcKICAgICMgZG91YmxlIGRlc2NyaXB0aW9ucyBiZXR3ZWVuIGEgd3JhcHBlciBpdHMgaW50ZXJpb3IuCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIHNpbG9fY29uZmlnczogTGlzdFtGZWRlcmF0ZWRMZWFybmluZ1NpbG9dLAogICAgICAgIHNpbG9fY29tcG9uZW50OiBDb21wb25lbnQsCiAgICAgICAgYWdncmVnYXRpb25fY29tcG9uZW50OiBDb21wb25lbnQsCiAgICAgICAgYWdncmVnYXRpb25fY29tcHV0ZTogc3RyID0gTm9uZSwKICAgICAgICBhZ2dyZWdhdGlvbl9kYXRhc3RvcmU6IHN0ciA9IE5vbmUsCiAgICAgICAgc2hhcmVkX3NpbG9fa3dhcmdzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICAgICAgYWdncmVnYXRpb25fa3dhcmdzOiBPcHRpb25hbFtEaWN0XSA9IE5vbmUsCiAgICAgICAgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXA6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgICAgICBhZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcDogT3B0aW9uYWxbRGljdF0gPSBOb25lLAogICAgICAgIG1heF9pdGVyYXRpb25zOiBpbnQgPSAxLAogICAgICAgIGNyZWF0ZV9kZWZhdWx0X21hcHBpbmdzX2lmX25lZWRlZDogYm9vbCA9IEZhbHNlLAogICAgICAgICoqa3dhcmdzLAogICAgKToKICAgICAgICAjIGF1dG8tY3JlYXRlIFhfdG9fWV9hcmd1bWVudF9tYXAgdmFsdWVzIGlmIGFsbG93ZWQgYW5kIG5lZWRlZC4KICAgICAgICBpZiBjcmVhdGVfZGVmYXVsdF9tYXBwaW5nc19pZl9uZWVkZWQ6CiAgICAgICAgICAgICMgcHlsaW50OiBkaXNhYmxlPWxpbmUtdG9vLWxvbmcKICAgICAgICAgICAgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAsIGFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwID0gRkxTY2F0dGVyR2F0aGVyLl90cnlfY3JlYXRlX2RlZmF1bHRfbWFwcGluZ3MoCiAgICAgICAgICAgICAgICBzaWxvX2NvbXBvbmVudCwKICAgICAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX2NvbXBvbmVudCwKICAgICAgICAgICAgICAgIHNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwLAogICAgICAgICAgICAgICAgYWdncmVnYXRpb25fdG9fc2lsb19hcmd1bWVudF9tYXAKICAgICAgICAgICAgKQoKICAgICAgICAjIGlucHV0IHZhbGlkYXRpb24uCiAgICAgICAgRkxTY2F0dGVyR2F0aGVyLnZhbGlkYXRlX2lucHV0cygKICAgICAgICAgICAgc2lsb19jb25maWdzPXNpbG9fY29uZmlncywKICAgICAgICAgICAgc2lsb19jb21wb25lbnQ9c2lsb19jb21wb25lbnQsCiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX2NvbXBvbmVudD1hZ2dyZWdhdGlvbl9jb21wb25lbnQsCiAgICAgICAgICAgIHNoYXJlZF9zaWxvX2t3YXJncz1zaGFyZWRfc2lsb19rd2FyZ3MsCiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX2NvbXB1dGU9YWdncmVnYXRpb25fY29tcHV0ZSwKICAgICAgICAgICAgYWdncmVnYXRpb25fZGF0YXN0b3JlPWFnZ3JlZ2F0aW9uX2RhdGFzdG9yZSwKICAgICAgICAgICAgYWdncmVnYXRpb25fa3dhcmdzPWFnZ3JlZ2F0aW9uX2t3YXJncywKICAgICAgICAgICAgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXA9c2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAsCiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwPWFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwLAogICAgICAgICAgICBtYXhfaXRlcmF0aW9ucz1tYXhfaXRlcmF0aW9ucywKICAgICAgICApCgogICAgICAgICMgc3RvcmUgaW5wdXRzCiAgICAgICAgc2VsZi5zaWxvX2NvbmZpZ3MgPSBzaWxvX2NvbmZpZ3MKICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NvbXB1dGUgPSBhZ2dyZWdhdGlvbl9jb21wdXRlCiAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9kYXRhc3RvcmUgPSBhZ2dyZWdhdGlvbl9kYXRhc3RvcmUKICAgICAgICBzZWxmLnNpbG9fY29tcG9uZW50ID0gc2lsb19jb21wb25lbnQKICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NvbXBvbmVudCA9IGFnZ3JlZ2F0aW9uX2NvbXBvbmVudAogICAgICAgIHNlbGYuc2hhcmVkX3NpbG9fa3dhcmdzID0gc2hhcmVkX3NpbG9fa3dhcmdzCiAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9rd2FyZ3MgPSBhZ2dyZWdhdGlvbl9rd2FyZ3MKICAgICAgICBzZWxmLnNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwID0gc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAKICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwID0gYWdncmVnYXRpb25fdG9fc2lsb19hcmd1bWVudF9tYXAKICAgICAgICBzZWxmLm1heF9pdGVyYXRpb25zID0gbWF4X2l0ZXJhdGlvbnMKICAgICAgICAjIHN1YmdyYXBoIGlzIGEgbGlzdCBvZiBhbGwgaXRlcmF0aW9uJ3MgZXhlY3V0ZWQgc3RlcHMsIHN0b3JlZCBpbiBhIGRpY3Rpb25hcnkgZm9yIGVhY2ggaXRlcmF0aW9uCiAgICAgICAgc2VsZi5zdWJncmFwaCA9IFtdCiAgICAgICAgc2VsZi5faW5pdCA9IFRydWUgIyBOZWVkZWQgYnkgcGFyZW50IGNsYXNzIHRvIHdvcmsgcHJvcGVybHkKCiAgICAgICAgZXhlY3V0ZWRfYWdncmVnYXRpb25fc3RlcCA9IE5vbmUKICAgICAgICAjIFRPRE8gMjI5MzU3MzogcmVwbGFjZSB0aGlzIGZvci1sb29wIHdpdGggYSBkby13aGlsZSBub2RlLgogICAgICAgIGZvciBfIGluIHJhbmdlKHNlbGYubWF4X2l0ZXJhdGlvbnMpOgogICAgICAgICAgICAjIENyZWF0ZSBpbnB1dHMgZm9yIHNpbG8gY29tcG9uZW50cwogICAgICAgICAgICBzaWxvX2lucHV0cyA9IHt9CiAgICAgICAgICAgICMgU3RhcnQgd2l0aCBzdGF0aWMgaW5wdXRzCiAgICAgICAgICAgIHNpbG9faW5wdXRzLnVwZGF0ZShzZWxmLnNoYXJlZF9zaWxvX2t3YXJncykKICAgICAgICAgICAgIyBtZXJnZSBpbiBpbnB1dHMgcGFzc2VkIGluIGZyb20gcHJldmlvdXMgaXRlcmF0aW9uJ3MgYWdncmVnYXRlIHN0ZXAgaWYgdGhleSBleGlzdAogICAgICAgICAgICBpZiBleGVjdXRlZF9hZ2dyZWdhdGlvbl9zdGVwIGlzIG5vdCBOb25lIGFuZCBzZWxmLmFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgc2lsb19pbnB1dHMudXBkYXRlKEZMU2NhdHRlckdhdGhlci5fZXh0cmFjdF9vdXRwdXRzKGV4ZWN1dGVkX2FnZ3JlZ2F0aW9uX3N0ZXAub3V0cHV0cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwKSkKICAgICAgICAgICAgIyBwZXItc2lsbyBpbnB1dHMgYWRkZWQgaW4gZHVyaW5nIHNjYXR0ZXJfZ2F0aGVyCiAgICAgICAgICAgICMgUnVuIHNjYXR0ZXItZ2F0aGVyIGl0ZXJhdGlvbi4KICAgICAgICAgICAgc2VsZi5zdWJncmFwaC5hcHBlbmQoc2VsZi5zY2F0dGVyX2dhdGhlcihzaWxvX2lucHV0cykpCiAgICAgICAgICAgICMgcmUtYXNzaWduIHByZXZpb3VzIGFnZyBzdGVwIHRvIGV4dHJhY3Qgb3V0cHV0cyBmb3IgbmV4dCBpdGVyJ3MgaW5wdXRzCiAgICAgICAgICAgIGV4ZWN1dGVkX2FnZ3JlZ2F0aW9uX3N0ZXAgPSBzZWxmLnN1YmdyYXBoWy0xXVsiYWdncmVnYXRpb24iXQoKCiAgICAgICAgIyBzZXQgb3V0cHV0IHRvIGZpbmFsIGFnZ3JlZ2F0aW9uIHN0ZXAncyBvdXRwdXQKICAgICAgICBzZWxmLl9vdXRwdXRzID0gc2VsZi5zdWJncmFwaFstMV1bImFnZ3JlZ2F0aW9uIl0ub3V0cHV0cwogICAgICAgIHN1cGVyKEZMU2NhdHRlckdhdGhlciwgc2VsZikuX19pbml0X18oCiAgICAgICAgICAgIHR5cGU9Sm9iVHlwZS5DT01QT05FTlQsICAjIHB5bGludDogZGlzYWJsZT1yZWRlZmluZWQtYnVpbHRpbgogICAgICAgICAgICBjb21wb25lbnQ9Tm9uZSwKICAgICAgICAgICAgaW5wdXRzPU5vbmUsCiAgICAgICAgICAgIG91dHB1dHM9c2VsZi5zdWJncmFwaFstMV1bImFnZ3JlZ2F0aW9uIl0ub3V0cHV0cywKICAgICAgICAgICAgbmFtZT1Ob25lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9Tm9uZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249Tm9uZSwKICAgICAgICAgICAgdGFncz1Ob25lLAogICAgICAgICAgICBwcm9wZXJ0aWVzPU5vbmUsCiAgICAgICAgICAgIGNvbW1lbnQ9Tm9uZSwKICAgICAgICAgICAgY29tcHV0ZT1Ob25lLAogICAgICAgICAgICBleHBlcmltZW50X25hbWU9Tm9uZSwKICAgICAgICApCgogICAgIyBUT0RPIHBvdGVudGlhbCBzZXQgZGVmYXVsdCBmYWlsX29uX21pc3NpbmcgdmFsdWUgdG8gZmFsc2UKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9leHRyYWN0X291dHB1dHMoY2xzLCBjb21wb25lbnRfb3V0cHV0OiBPdXRwdXQsIGFyZ3VtZW50X21hcDogRGljdCwgZmFpbF9vbl9taXNzaW5nPUZhbHNlKToKICAgICAgICAiIiIKICAgICAgICAgICAgUHVsbHMgdmFsdWVzIGZyb20gYSBjb21wb25lbnRfb3V0cHV0LCBhcyBzcGVjaWZpZWQgYnkgdGhlIGtleXMgb2YgdGhlCiAgICAgICAgaW5wdXR0ZWQgYXJndW1lbnRfbWFwLCBhbmQgZ3JvdXBzIGluIGEgbmV3IGRpY3Rpb25hcnkuIFRoZSBrZXlzIG9mIHRoZSBuZXcgZGljdGlvbmFyeQogICAgICAgIGFyZSBzcGVjaWZpZWQgYnkgdGhlIGl0ZW1zIG9mIHRoZSBhcmd1bWVudF9tYXAgZGljdGlvbmFyeS4KCiAgICAgICAgRXhhbXBsZQogICAgICAgICAgICBjb21wb25lbnRfb3V0cHV0ID0geyJvbmUiIDogMSwgInR3byI6IDIsICJ0aHJlZSIgOiAzfQogICAgICAgICAgICBhcmd1bWVudF9tYXAgPSB7Im9uZSIgOiAicmVkIiwgInR3byIgOiAidHdvIn0KICAgICAgICAgICAgcmV0dXJuZWQgcmVzdWx0ID0geyJyZWQiIDogMSwgInR3byIgOiAyfQogICAgICAgICIiIgogICAgICAgIHJlc3VsdCA9IHt9CiAgICAgICAgaWYgY29tcG9uZW50X291dHB1dCBpcyBOb25lIG9yIGFyZ3VtZW50X21hcCBpcyBOb25lOgogICAgICAgICAgICBpZiBmYWlsX29uX21pc3Npbmc6CiAgICAgICAgICAgICAgICAjIFRPRE8gZXJyb3IgaGFuZGxpbmcKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgICAgICBmb3IgaywgdiBpbiBhcmd1bWVudF9tYXAuaXRlbXMoKToKICAgICAgICAgICAgaWYgbm90IGsgaW4gY29tcG9uZW50X291dHB1dDoKICAgICAgICAgICAgICAgIGlmIGZhaWxfb25fbWlzc2luZzoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICAgICAgIyBUT0RPIGFkZCBlcnJvciBoYW5kbGluZwogICAgICAgICAgICAgICAgcmVzdWx0W3ZdID0gTm9uZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmVzdWx0W3ZdID0gY29tcG9uZW50X291dHB1dFtrXQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgc2NhdHRlcl9nYXRoZXIoc2VsZiwgc2lsb19pbnB1dHM6IERpY3QpOgogICAgICAgICcnJwogICAgICAgICAgICBQZXJmb3JtcyBhIHNjYXR0ZXItZ2F0aGVyIGl0ZXJhdGlvbiBieSBydW5uaW5nIGNvcGllcyBvZiB0aGUgc2lsbyBzdGVwIG9uIGRpZmZlcmVudAogICAgICAgIGNvbXB1dGVzL2RhdHN0b3JlcyBhY2NvcmRpbmcgdG8gdGhpcyBub2RlJ3Mgc2lsbyBjb25maWdzLiBUaGUgb3V0cHV0cyBvZiB0aGVzZQogICAgICAgIHNpbG8gY29tcG9uZW50cyBhcmUgdGhlbiBtZXJnZWQgYnkgYW4gaW50ZXJuYWwgaGVscGVyIGNvbXBvbmVudC4gVGhlIG1lcmdlZCB2YWx1ZXMKICAgICAgICBhcmUgdGhlbiBpbnB1dHRlZCBpbnRvIHRoZSB1c2VyLXByb3ZpZGVkIGFnZ3JlZ2F0aW9uIGNvbXBvbmVudC4gUmV0dXJucyB0aGUgZXhlY3V0ZWQgYWdncmVnYXRpb24gY29tcG9uZW50LgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBzaWxvX2lucHV0cyAoZGljdCk6IEEgZGljdGlvbmFyeSBvZiBuYW1lcyBhbmQgSW5wdXRzIHRvIGJlIGluamVjdGVkIGludG8gZWFjaCBleGVjdXRlZCBzaWxvIHN0ZXAuCiAgICAgICAgICAgICAgICBUaGlzIGRpY3Rpb25hcnkgaXMgbWVyZ2VkIHdpdGggc2lsby1zcGVjaWZpYyBpbnB1dHMgYmVmb3JlIGVhY2ggZXhlY3V0ZWQuCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgc2dfZ3JhcGggKGRpY3QpOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyB0aGUgc3ViZ3JhcGggb2YgdGhpcyBzY2F0dGVyLWdhdGhlciBpdGVyYXRpb24uCiAgICAgICAgICAgICAgICBDb250YWlucyB0aHJlZSBpbmRleGVzIHdoaWNoIGNvbnRhaW4gYSBsaXN0IG9mIGV4ZWN1dGVkIHNpbG8gc3RlcHMsIGEgbGlzdCBvZiBpbnRlcm5hbGx5CiAgICAgICAgICAgICAgICBjcmVhdGVkIGFuZCBleGVjdXRlZCBtZXJnZSBjb21wb25lbnRzLCBhbmQgdGhlIGV4ZWN1dGVkIGFnZ3JlZ2F0aW9uIHN0ZXAuCiAgICAgICAgJycnCgogICAgICAgIHNnX2dyYXBoID0geyJzaWxvX3N0ZXBzIiA6IFtdfQogICAgICAgIHNpbG9lZF9vdXRwdXRzID0ge30KICAgICAgICAjIFRPRE8gMjI5MzU4NiByZXBsYWNlIHRoaXMgZm9yLWxvb3Agd2l0aCBhIHBhcmFsbGVsLWZvciBub2RlCiAgICAgICAgIyBweWxpbnQ6IGRpc2FibGU9Y29uc2lkZXItdXNpbmctZW51bWVyYXRlCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYuc2lsb19jb25maWdzKSk6CiAgICAgICAgICAgIHNpbG9fY29uZmlnID0gc2VsZi5zaWxvX2NvbmZpZ3NbaV0KICAgICAgICAgICAgc2lsb19pbnB1dHMudXBkYXRlKHNpbG9fY29uZmlnLmlucHV0cykKICAgICAgICAgICAgZXhlY3V0ZWRfc2lsb19jb21wb25lbnQgPSBzZWxmLnNpbG9fY29tcG9uZW50KCoqc2lsb19pbnB1dHMpCiAgICAgICAgICAgIGZvciB2LCBrIGluIGV4ZWN1dGVkX3NpbG9fY29tcG9uZW50LmlucHV0cy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgdiBpbiBzaWxvX2NvbmZpZy5pbnB1dHMgYW5kIGsudHlwZSA9PSAidXJpX2ZvbGRlciI6CiAgICAgICAgICAgICAgICAgICAgay5tb2RlID0gInJvX21vdW50IgogICAgICAgICAgICBGTFNjYXR0ZXJHYXRoZXIuX2FuY2hvcl9zdGVwKAogICAgICAgICAgICAgICAgcGlwZWxpbmVfc3RlcD1leGVjdXRlZF9zaWxvX2NvbXBvbmVudCwKICAgICAgICAgICAgICAgIGNvbXB1dGU9c2lsb19jb25maWcuY29tcHV0ZSwKICAgICAgICAgICAgICAgIGludGVybmFsX2RhdGFzdG9yZT1zaWxvX2NvbmZpZy5kYXRhc3RvcmUsCiAgICAgICAgICAgICAgICBvcmNoZXN0cmF0b3JfZGF0YXN0b3JlPXNlbGYuYWdncmVnYXRpb25fZGF0YXN0b3JlCiAgICAgICAgICAgICkKICAgICAgICAgICAgIyBpbmNsdWRlIGV4ZWN1dGVkIHNpbG8gc3RlcHMgaW4gcmVjb3JkZWQgc3ViZ3JhcGgKICAgICAgICAgICAgc2dfZ3JhcGhbInNpbG9fc3RlcHMiXS5hcHBlbmQoZXhlY3V0ZWRfc2lsb19jb21wb25lbnQpCgogICAgICAgICAgICAjIEV4dHJhY3QgdXNlci1zcGVjaWZpZWQgb3V0cHV0cyBmcm9tIHRoZSBzaWxvIGNvbXBvbmVudCwgcmVuYW1lIHRoZW0gYXMgbmVlZGVkLAogICAgICAgICAgICAjIGFubm90YXRlIHRoZW0gd2l0aCB0aGUgc2lsbydzIGluZGV4LCB0aGVuIGphbSB0aGVtIGFsbCBpbnRvIHRoZQogICAgICAgICAgICAjIHZhcmlhYmxlLWxlbmd0aCBpbnRlcm5hbCBjb21wb25lbnQncyBpbnB1dCBsaXN0LgogICAgICAgICAgICBzaWxvZWRfb3V0cHV0cy51cGRhdGUoeyJ7fV97fSIuZm9ybWF0KGssIGkpOiB2IGZvciBrLCB2IGluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRkxTY2F0dGVyR2F0aGVyLl9leHRyYWN0X291dHB1dHMoZXhlY3V0ZWRfc2lsb19jb21wb25lbnQub3V0cHV0cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwKS5pdGVtcygpfSkKCiAgICAgICAgIyBwcm9kdWNlIGludGVybmFsIGFyZ3VtZW50LW1lcmdpbmcgY29tcG9uZW50cyBhbmQgcmVjb3JkIHRoZW0gaW4gbG9jYWwgc3ViZ3JhcGgKICAgICAgICBtZXJnZV9jb21wX21hcHBpbmcgPSBzZWxmLl9pbmplY3RfbWVyZ2VfY29tcG9uZW50cyhzZ19ncmFwaFsic2lsb19zdGVwcyJdKQogICAgICAgIHNnX2dyYXBoWyJtZXJnZXJzIl0gPSBsaXN0KG1lcmdlX2NvbXBfbWFwcGluZy52YWx1ZXMoKSkKCiAgICAgICAgIyBwcm9kdWNlIGFnZ3JlZ2F0ZSBzdGVwIGlucHV0cyBieSBtZXJnaW5nIHN0YXRpYyBrd2FyZ3MgYW5kIG1hcHBlZCBhcmd1bWVudHMgZnJvbQogICAgICAgICMgaW50ZXJuYWwgbWVyZ2UgY29tcG9uZW50cwogICAgICAgIGFnZ19pbnB1dHMgPSB7fQogICAgICAgIGFnZ19pbnB1dHMudXBkYXRlKHNlbGYuYWdncmVnYXRpb25fa3dhcmdzKQogICAgICAgIGludGVybmFsX21lcmdlX291dHB1dHMgPSB7c2VsZi5fZ2V0X2FnZ3JlZ2F0b3JfaW5wdXRfbmFtZShrKTogdi5vdXRwdXRzLmFnZ3JlZ2F0ZWRfb3V0cHV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBrLCB2IGluIG1lcmdlX2NvbXBfbWFwcGluZy5pdGVtcygpfQogICAgICAgIGFnZ19pbnB1dHMudXBkYXRlKGludGVybmFsX21lcmdlX291dHB1dHMpCgogICAgICAgICMgcnVuIHRoZSB1c2VyIGFnZ3JlZ2F0aW9uIHN0ZXAKICAgICAgICBleGVjdXRlZF9hZ2dyZWdhdGlvbl9jb21wb25lbnQgPSBzZWxmLmFnZ3JlZ2F0aW9uX2NvbXBvbmVudCgqKmFnZ19pbnB1dHMpCiAgICAgICAgIyBTZXQgbW9kZSBvZiBhZ2dyZWdhdGVkIG1sdGFibGUgaW5wdXRzIGFzIGV2YWwgbW91bnQgdG8gYWxsb3cgZmlsZXMgcmVmZXJlbmNlZCB3aXRoaW4gdGhlIHRhYmxlCiAgICAgICAgIyB0byBiZSBhY2Nlc3NpYmxlIGJ5IHRoZSBjb21wb25lbnQKICAgICAgICBmb3IgbmFtZSwgYWdnX2lucHV0IGluIGV4ZWN1dGVkX2FnZ3JlZ2F0aW9uX2NvbXBvbmVudC5pbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgaWYgbmFtZSBpbiBzZWxmLnNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwLmtleXMoKSBhbmQgYWdnX2lucHV0LnR5cGUgPT0gIm1sdGFibGUiOgogICAgICAgICAgICAgICAgYWdnX2lucHV0Lm1vZGUgPSAiZXZhbF9kb3dubG9hZCIKICAgICAgICAjIHJlY29yZCBhZ2dyZWdhdGlvbiBzdGVwIGluIHN1YmdyYXBoCiAgICAgICAgc2dfZ3JhcGhbImFnZ3JlZ2F0aW9uIl0gPSBleGVjdXRlZF9hZ2dyZWdhdGlvbl9jb21wb25lbnQKCiAgICAgICAgIyBBbmNob3IgYm90aCB0aGUgaW50ZXJuYWwgbWVyZ2UgY29tcG9uZW50cyBhbmQgdGhlIHVzZXItc3VwcGxpZWQgYWdncmVnYXRpb24gc3RlcAogICAgICAgICMgdG8gdGhlIGFnZ3JlZ2F0aW9uIGNvbXB1dGUgYW5kIGRhdGFzdG9yZQogICAgICAgIGlmIHNlbGYuYWdncmVnYXRpb25fY29tcHV0ZSBpcyBub3QgTm9uZSBhbmQgc2VsZi5hZ2dyZWdhdGlvbl9kYXRhc3RvcmUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICMgaW50ZXJuYWwgbWVyZ2UgY29tcG9uZW50IGlzIGFsc28gc2lsb2VkIHRvIHdoZXJldmVyIHRoZSBhZ2dyZWdhdGlvbiBjb21wb25lbnQgbGl2ZXMuCiAgICAgICAgICAgIGZvciBleGVjdXRlZF9tZXJnZV9jb21wb25lbnQgaW4gbWVyZ2VfY29tcF9tYXBwaW5nLnZhbHVlcygpOgogICAgICAgICAgICAgICAgRkxTY2F0dGVyR2F0aGVyLl9hbmNob3Jfc3RlcCgKICAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmVfc3RlcD1leGVjdXRlZF9tZXJnZV9jb21wb25lbnQsCiAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGU9c2VsZi5hZ2dyZWdhdGlvbl9jb21wdXRlLAogICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbF9kYXRhc3RvcmU9c2VsZi5hZ2dyZWdhdGlvbl9kYXRhc3RvcmUsCiAgICAgICAgICAgICAgICAgICAgIG9yY2hlc3RyYXRvcl9kYXRhc3RvcmU9c2VsZi5hZ2dyZWdhdGlvbl9kYXRhc3RvcmUKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgRkxTY2F0dGVyR2F0aGVyLl9hbmNob3Jfc3RlcCgKICAgICAgICAgICAgICAgIHBpcGVsaW5lX3N0ZXA9ZXhlY3V0ZWRfYWdncmVnYXRpb25fY29tcG9uZW50LAogICAgICAgICAgICAgICAgY29tcHV0ZT1zZWxmLmFnZ3JlZ2F0aW9uX2NvbXB1dGUsCiAgICAgICAgICAgICAgICBpbnRlcm5hbF9kYXRhc3RvcmU9c2VsZi5hZ2dyZWdhdGlvbl9kYXRhc3RvcmUsCiAgICAgICAgICAgICAgICBvcmNoZXN0cmF0b3JfZGF0YXN0b3JlPXNlbGYuYWdncmVnYXRpb25fZGF0YXN0b3JlCiAgICAgICAgICAgICkKICAgICAgICByZXR1cm4gc2dfZ3JhcGgKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X2ZsX2RhdGFzdG9yZV9wYXRoKAogICAgICAgIGNscywgZGF0YXN0b3JlX25hbWU6IHN0ciwgb3V0cHV0X25hbWU6IHN0ciwgdW5pcXVlX2lkOiBzdHI9IiR7e25hbWV9fSIsIGl0ZXJhdGlvbl9udW06IE9wdGlvbmFsW2ludF09Tm9uZQogICAgKSAtPiBzdHI6CiAgICAgICAgIiIiIENvbnN0cnVjdCBhIHBhdGggc3RyaW5nIHVzaW5nIHRoZSBpbnB1dHRlZCB2YWx1ZXMuIFRoZSBpbXBvcnRhbnQgYXNwZWN0IGlzIHRoYXQgdGhpcyBwcm9kdWNlcyBhCiAgICAgICAgcGF0aCB3aXRoIGEgc3BlY2lmaWVkIGRhdGFzdG9yZS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgZGF0YXN0b3JlX25hbWUgKHN0cik6IFRoZSBkYXRhc3RvcmUgdG8gdXNlIGluIHRoZSBjb25zdHJ1Y3RlZCBwYXRoLgogICAgICAgICAgICBvdXRwdXRfbmFtZSAoc3RyKTogVGhlIG5hbWUgb2YgdGhlIG91dHB1dCB2YWx1ZSB0aGF0IHRoaXMgcGF0aCBpcyBhc3N1bWVkIHRvIGJlbG9uZyB0by4gSXMgaW5qZWN0ZWQgaW50bwogICAgICAgICAgICAgICAgdGhlIHBhdGguCiAgICAgICAgICAgIHVuaXF1ZV9pZCAoc3RyKTogQW4gYWRkaXRpb25hbCBzdHJpbmcgdG8gaW5qZWN0IGlmIG5lZWRlZC4KICAgICAgICAgICAgICAgIERlZmF1bHRzIHRvICR7e25hbWV9fSwgd2hpY2ggaXMgdGhlIG91dHB1dCBuYW1lIGFnYWluLgogICAgICAgICAgICBpdGVyYXRpb25fbnVtOiBvcHRpb25hbFtpbnRdOiBUaGUgaXRlcmF0aW9uIG51bWJlciBvZiB0aGUgY3VycmVudCBzY2F0dGVyLWdhdGhlciBpdGVyYXRpb24uCiAgICAgICAgICAgICAgICBJZiBzZXQsIGluamVjdCB0aGlzIGludG8gdGhlIHJlc3VsdGluZyBwYXRoIHN0cmluZy4KCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgZGF0YV9wYXRoOiBBIGRhdGEgcGF0aCBzdHJpbmcgY29udGFpbmluZyB0aGUgdmFyaW91cyBhZm9yZW1lbnRpb25lZCBpbnB1dHMuCgogICAgICAgICIiIgogICAgICAgIGRhdGFfcGF0aCA9IGYiYXp1cmVtbDovL2RhdGFzdG9yZXMve2RhdGFzdG9yZV9uYW1lfS9wYXRocy9mZWRlcmF0ZWRfbGVhcm5pbmcve291dHB1dF9uYW1lfS97dW5pcXVlX2lkfS8iCiAgICAgICAgaWYgaXRlcmF0aW9uX251bToKICAgICAgICAgICAgZGF0YV9wYXRoICs9IGYiaXRlcmF0aW9uX3tpdGVyYXRpb25fbnVtfS8iCiAgICAgICAgcmV0dXJuIGRhdGFfcGF0aAoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jaGVja19kYXRhc3RvcmUoY2xzLCBwYXRoOiBzdHIsIGV4cGVjdGVkX2RhdGFzdG9yZTogc3RyKSAtPiBib29sOgogICAgICAgICIiIiBQZXJmb3JtIGEgc2ltcGxlIHJlZ2V4IGNoZWNrIHRvIHRyeSBkZXRlcm1pbmUgaWYgdGhlIGRhdGFzdG9yZSBpbiB0aGUgaW5wdXR0ZWQgcGF0aCBzdHJpbmcKICAgICAgICBtYXRjaGVzIHRoZSBleHBlY3RlZF9kYXRhc3RvcmUuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHBhdGggKHN0cik6IEFuIG91dHB1dCBwYXRoc3RyaW5nLgogICAgICAgICAgICBleHBlY3RlZF9kYXRhc3RvcmUgKHN0cik6IEEgZGF0YXN0b3JlIG5hbWUuCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgbmFtZWxlc3MgYm9vbDogV2hldGhlciBvciBub3QgdGhlIGV4cGVjdGVkX2RhdGFzdG9yZSB3YXMgZm91bmQgaW4gdGhlIHBhdGggYXQgdGhlIGV4cGVjdGVkIGxvY2F0aW9uLgogICAgICAgICIiIgogICAgICAgIG1hdGNoID0gcmUubWF0Y2goIiguKmRhdGFzdG9yZS8pKFteL10qKSgvLiopIiwgcGF0aCkKICAgICAgICBpZiBtYXRjaDoKICAgICAgICAgICAgZ3JvdXBzID0gbWF0Y2guZ3JvdXBzKCkKICAgICAgICAgICAgaWYgZ3JvdXBzWzFdID09IGV4cGVjdGVkX2RhdGFzdG9yZToKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NoZWNrX29yX3NldF9kYXRhc3RvcmUoY2xzLAogICAgICAgIG5hbWU6IHN0ciwKICAgICAgICBvdXRwdXQ6IE91dHB1dCwKICAgICAgICB0YXJnZXRfZGF0YXN0b3JlOiBzdHIsCiAgICAgICAgaXRlcmF0aW9uX251bTogT3B0aW9uYWxbaW50XT1Ob25lLAogICAgKSAtPiBNdXRhYmxlVmFsaWRhdGlvblJlc3VsdDoKICAgICAgICAiIiIgVHJpZXMgdG8gYXNzaWduIG91dHB1dC5wYXRoIHRvIGEgdmFsdWUgd2hpY2ggaW5jbHVkZXMgdGhlIHRhcmdldF9kYXRhc3RvcmUgaWYgaXQncyBub3QgYWxyZWFkeQogICAgICAgIHNldC4gSWYgdGhlIG91dHB1dCdzIHBhdGggaXMgYWxyZWFkeSBzZXQsIHJldHVybiBhIHdhcm5pbmcgaWYgaXQgZG9lc24ndCBtYXRjaCB0aGUgdGFyZ2V0X2RhdGFzdG9yZS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgbmFtZSAoc3RyKTogVGhlIG5hbWUgb2YgdGhlIG91dHB1dCB0byBtb2RpZnkKICAgICAgICAgICAgb3V0cHV0IChPdXRwdXQpOiBUaGUgb3V0cHV0IG9iamVjdCB0byBleGFtaW5lIGFuZCBwb3RlbnRpYWxseSBjaGFuZ2UgdGhlIGRhdGFzdG9yZSBvZi4KICAgICAgICAgICAgdGFyZ2V0X2RhdGFzdG9yZSAoc3RyKTogVGhlIG5hbWUgb2YgdGhlIGRhdGFzdG9yZSB0byB0cnkgYXBwbHlpbmcgdG8gdGhlIG91dHB1dAogICAgICAgICAgICBpdGVyYXRpb25fbnVtIChvcHRpb25hbFtpbnRdKTogdGhlIGN1cnJlbnQgaXRlcmF0aW9uIGluIHRoZSBzY2F0dGVyIGdhdGhlciBsb29wLgogICAgICAgICAgICAgICAgSWYgc2V0LCBpbmNsdWRlIHRoaXMgaW4gdGhlIGdlbmVyYXRlZCBwYXRoLgogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0IChNdXRhYmxlVmFsaWRhdGlvblJlc3VsdCk6IEEgdmFsaWRhdGlvbiByZXN1bHQgY29udGFpbmluZyBhbnkgcHJvYmxlbXMgdGhhdCBhcm9zZS4KICAgICAgICAgICAgQ29udGFpbnMgYSB3YXJuaW5nIGlmIHRoZSBleGFtaW5lZCBvdXRwdXQgYWxyZWFkeSBjb250YWlucyBhIGRhdGFzdG9yZSB0aGF0IGRvZXMgbm90IG1hdGNoCiAgICAgICAgICAgICd0YXJnZXRfZGF0YXN0b3JlJy4KICAgICAgICAiIiIKICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IGNscy5fY3JlYXRlX2VtcHR5X3ZhbGlkYXRpb25fcmVzdWx0KCkKICAgICAgICBpZiBub3QgaGFzYXR0cihvdXRwdXQsICJwYXRoIikgb3Igbm90IG91dHB1dC5wYXRoOgogICAgICAgICAgICBvdXRwdXQucGF0aCA9IGNscy5fZ2V0X2ZsX2RhdGFzdG9yZV9wYXRoKHRhcmdldF9kYXRhc3RvcmUsIG5hbWUsIGl0ZXJhdGlvbl9udW09aXRlcmF0aW9uX251bSkKICAgICAgICAjIERvdWJsZSBjaGVjayB0aGUgcGF0aCdzIGRhdGFzdG9yZSBsZWFkcyB0byB0aGUgdGFyZ2V0IGlmIGl0J3MgYWxyZWFkeSBzZXQuCiAgICAgICAgZWxpZiBub3QgY2xzLl9jaGVja19kYXRhc3RvcmUob3V0cHV0LnBhdGgsIHRhcmdldF9kYXRhc3RvcmUpOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfd2FybmluZyh5YW1sX3BhdGg9bmFtZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJPdXRwdXQgJ3tuYW1lfScgaGFzIGFuIHVuZGV0ZXJtaW5lZCBkYXRhc3RvcmUsIG9yIGEgZGF0c3RvcmUiCiAgICAgICAgICAgICAgICAgICAgKyBmIiB0aGF0IGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBkYXRhc3RvcmUgZm9yIHRoaXMgb3V0cHV0LCB3aGljaCBpcyAne3RhcmdldF9kYXRhc3RvcmV9Jy4iCiAgICAgICAgICAgICAgICAgICAgKyAiIE1ha2Ugc3VyZSB0aGlzIGlzIGludGVuZGVkLiIpCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0CgogICAgIyBUT0RPIDIyOTM3MDU6IEFkZCBhbmNob3JpbmcgZm9yIG1vcmUgcmVzb3VyY2UgdHlwZXMuCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfYW5jaG9yX3N0ZXAoCiAgICAgICAgICAgIGNscywKICAgICAgICAgICAgcGlwZWxpbmVfc3RlcCwKICAgICAgICAgICAgY29tcHV0ZSwKICAgICAgICAgICAgaW50ZXJuYWxfZGF0YXN0b3JlLAogICAgICAgICAgICBvcmNoZXN0cmF0b3JfZGF0YXN0b3JlLAogICAgICAgICAgICBpdGVyYXRpb246IE9wdGlvbmFsW2ludF09MCwKICAgICAgICAgICAgX3BhdGg9InJvb3QiLAogICAgKSAtPiBNdXRhYmxlVmFsaWRhdGlvblJlc3VsdDoKICAgICAgICAiIiJUYWtlIGEgcGlwZWxpbmUgc3RlcCBhbmQgcmVjdXJzaXZlbHkgZW5mb3JjZXMgdGhlIHJpZ2h0IGNvbXB1dGUvZGF0YXN0b3JlIGNvbmZpZy4KICAgICAgICBBcmdzOgogICAgICAgICAgICBwaXBlbGluZV9zdGVwIChQaXBlbGluZVN0ZXAsIENvbW1hbmRDb21wb25lbnQpOiBhIHN0ZXAgdG8gYW5jaG9yCiAgICAgICAgICAgIGNvbXB1dGUgKHN0cik6IG5hbWUgb2YgdGhlIGNvbXB1dGUgdGFyZ2V0CiAgICAgICAgICAgIGludGVybmFsX2RhdGFzdG9yZSAoc3RyKTogVGhlIG5hbWUgb2YgdGhlIGRhdGFzdG9yZSB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBpbnRlcm5hbAogICAgICAgICAgICAgICAgb3V0cHV0IGFuY2hvcmluZy4KICAgICAgICAgICAgb3JjaGVzdHJhdG9yX2RhdGFzdG9yZSAoc3RyKTogVGhlIG5hbWUgb2YgdGhlIG9yY2hlc3RyYXRvci9hZ2dyZWdhdGlvbiBkYXRhc3RvcmUgdGhhdAogICAgICAgICAgICAgICAgc2hvdWxkIGJlIHVzZWQgZm9yICdyZWFsJyBvdXRwdXQgYW5jaG9yaW5nLgogICAgICAgICAgICBfcGF0aCAoc3RyKTogZm9yIHJlY3Vyc2l2ZSBhbmNob3JpbmcsIGNvZGVzIHRoZSAicGF0aCIgaW5zaWRlIHRoZSBwaXBlbGluZSBmb3IgbWVzc2FnaW5nCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgKE11dGFibGVWYWxpZGF0aW9uUmVzdWx0KTogQSB2YWxpZGF0aW9uIHJlc3VsdCBjb250YWluaW5nIGFueSBpc3N1ZXMKICAgICAgICAgICAgICAgIHRoYXQgd2VyZSB1bmNvdmVyZWQgZHVyaW5nIGFuY2hvcmluZy4gVGhpcyBmdW5jdGlvbiBhZGRzIHdhcm5pbmdzIHdoZW4gb3V0cHV0cyBhbHJlYWR5IGhhdmUKICAgICAgICAgICAgICAgIGFzc2lnbmVkIHBhdGhzIHdoaWNoIGRvbid0IGNvbnRhaW4gdGhlIGV4cGVjdGVkIGRhdGFzdG9yZS4KICAgICAgICAiIiIKCiAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgPSBjbHMuX2NyZWF0ZV9lbXB0eV92YWxpZGF0aW9uX3Jlc3VsdCgpCgogICAgICAgICMgQ3VycmVudCBzdGVwIGlzIGEgcGlwZWxpbmUsIHdoaWNoIG1lYW5zIHdlIG5lZWQgdG8gaW5zcGVjdCBpdHMgc3RlcHMgKGpvYnMpIGFuZAogICAgICAgICMgcG90ZW50aWFsbHkgYW5jaG9yIHRob3NlIGFzIHdlbGwuCiAgICAgICAgaWYgcGlwZWxpbmVfc3RlcC50eXBlID09ICJwaXBlbGluZSI6CiAgICAgICAgICAgIGlmIGhhc2F0dHIocGlwZWxpbmVfc3RlcCwgImNvbXBvbmVudCIpOgogICAgICAgICAgICAgICAgIyBDdXJyZW50IHN0ZXAgaXMgcHJvYmFibHkgbm90IHRoZSByb290IG9mIHRoZSBncmFwaAogICAgICAgICAgICAgICAgIyBpdHMgb3V0cHV0cyBzaG91bGQgYmUgYW5jaG9yZWQgdG8gdGhlIGludGVybmFsX2RhdGFzdG9yZS4KICAgICAgICAgICAgICAgIGZvciBuYW1lLCBvdXRwdXQgaW4gcGlwZWxpbmVfc3RlcC5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgaWYgb3V0cHV0LnR5cGUgaW4gQU5DSE9SQUJMRV9PVVRQVVRfVFlQRVM6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoY2xzLl9jaGVja19vcl9zZXRfZGF0YXN0b3JlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0PW91dHB1dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9kYXRhc3RvcmU9b3JjaGVzdHJhdG9yX2RhdGFzdG9yZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbl9udW09aXRlcmF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICkpCgogICAgICAgICAgICAgICAgIyB0aGVuIHdlIG5lZWQgdG8gYW5jaG9yIHRoZSBpbnRlcm5hbCBjb21wb25lbnQgb2YgdGhpcyBzdGVwCiAgICAgICAgICAgICAgICAjIFRoZSBvdXRwdXRzIG9mIHRoaXMgc3ViLWNvbXBvbmVudCBhcmUgYSBkZWVwIGNvcHkgb2YgdGhlIG91dHB1dHMgb2YgdGhpcyBzdGVwCiAgICAgICAgICAgICAgICAjIFRoaXMgaXMgZGFuZ2Vyb3VzLCBhbmQgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhleSBib3RoIHVzZSB0aGUgc2FtZSBkYXRhc3RvcmUsCiAgICAgICAgICAgICAgICAjIHNvIHdlIGtlZXAgZGF0YXN0b3JlIHR5cGVzIGlkZW50aWNhbCBhY3Jvc3MgdGhpcyByZWN1cnNpdmUgY2FsbC4KICAgICAgICAgICAgICAgIGNscy5fYW5jaG9yX3N0ZXAoCiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmVfc3RlcC5jb21wb25lbnQsCiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZSwKICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbF9kYXRhc3RvcmU9aW50ZXJuYWxfZGF0YXN0b3JlLAogICAgICAgICAgICAgICAgICAgIG9yY2hlc3RyYXRvcl9kYXRhc3RvcmU9b3JjaGVzdHJhdG9yX2RhdGFzdG9yZSwKICAgICAgICAgICAgICAgICAgICBfcGF0aD1mIntfcGF0aH0uY29tcG9uZW50IiwKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIFRoaXMgaXMgYSBwaXBlbGluZSBzdGVwIHdpdGggbXVsdGlwbGUgam9icyBiZW5lYXRoIGl0LgogICAgICAgICAgICAgICAgIyBBbmNob3IgaXRzIG91dHB1dHMuLi4KICAgICAgICAgICAgICAgIGZvciBuYW1lLCBvdXRwdXQgaW4gcGlwZWxpbmVfc3RlcC5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgaWYgb3V0cHV0LnR5cGUgaW4gQU5DSE9SQUJMRV9PVVRQVVRfVFlQRVM6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0Lm1lcmdlX3dpdGgoY2xzLl9jaGVja19vcl9zZXRfZGF0YXN0b3JlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0PW91dHB1dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9kYXRhc3RvcmU9b3JjaGVzdHJhdG9yX2RhdGFzdG9yZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbl9udW09aXRlcmF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICAgICAjIC4uLnRoZW4gcmVjdXJzaXZlbHkgYW5jaG9yIGVhY2ggam9iIGluc2lkZSB0aGUgcGlwZWxpbmUKICAgICAgICAgICAgICAgIGZvciBqb2Jfa2V5IGluIHBpcGVsaW5lX3N0ZXAuam9iczoKICAgICAgICAgICAgICAgICAgICBqb2IgPSBwaXBlbGluZV9zdGVwLmpvYnNbam9iX2tleV0KICAgICAgICAgICAgICAgICAgICAjIHJlcGxhY2Ugb3JjaGVzdHJhdG9yIHdpdGggaW50ZXJuYWwgZGF0YXN0b3JlLCBqb2JzIGNvbXBvbmVudHMKICAgICAgICAgICAgICAgICAgICAjIHNob3VsZCBlaXRoZXIgdXNlIHRoZSBsb2NhbCBkYXRhc3RvcmUKICAgICAgICAgICAgICAgICAgICAjIG9yIGhhdmUgYWxyZWFkeSBoYWQgdGhlaXIgb3V0cHV0cyByZS1hc3NpZ25lZC4KICAgICAgICAgICAgICAgICAgICBjbHMuX2FuY2hvcl9zdGVwKAogICAgICAgICAgICAgICAgICAgICAgICBqb2IsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsX2RhdGFzdG9yZT1pbnRlcm5hbF9kYXRhc3RvcmUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9yY2hlc3RyYXRvcl9kYXRhc3RvcmU9aW50ZXJuYWxfZGF0YXN0b3JlLAogICAgICAgICAgICAgICAgICAgICAgICBfcGF0aD1mIntfcGF0aH0uam9icy57am9iX2tleX0iLAogICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgZWxpZiBwaXBlbGluZV9zdGVwLnR5cGUgPT0gImNvbW1hbmQiOgogICAgICAgICAgICAjIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgYSBjb21tYW5kIGNvbXBvbmVudAogICAgICAgICAgICAjIG1ha2Ugc3VyZSB0aGUgY29tcHV0ZSBjb3JyZXNwb25kcyB0byB0aGUgc2lsbwogICAgICAgICAgICBpZiBwaXBlbGluZV9zdGVwLmNvbXB1dGUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHBpcGVsaW5lX3N0ZXAuY29tcHV0ZSA9IGNvbXB1dGUKICAgICAgICAgICAgIyB0aGVuIGFuY2hvciBlYWNoIG9mIHRoZSBqb2IncyBvdXRwdXRzCiAgICAgICAgICAgIGZvciBuYW1lLCBvdXRwdXQgaW4gcGlwZWxpbmVfc3RlcC5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBvdXRwdXQudHlwZSBpbiBBTkNIT1JBQkxFX09VVFBVVF9UWVBFUzoKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5tZXJnZV93aXRoKGNscy5fY2hlY2tfb3Jfc2V0X2RhdGFzdG9yZSgKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ9b3V0cHV0LAogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfZGF0YXN0b3JlPW9yY2hlc3RyYXRvcl9kYXRhc3RvcmUsCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbl9udW09aXRlcmF0aW9uCiAgICAgICAgICAgICAgICAgICAgKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIFRPRE8gcmV2aXNpdCB0aGlzIGFuZCBhZGQgc3VwcG9ydCBmb3IgYW5jaG9yaW5nIG1vcmUgdGhpbmdzCiAgICAgICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoZiJ1bmRlciBwYXRoPXtfcGF0aH06IHN0ZXAgdHlwZT17cGlwZWxpbmVfc3RlcC50eXBlfSBpcyBub3Qgc3VwcG9ydGVkIikKCiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25fcmVzdWx0CgogICAgIyBNYWtpbmcgdGhpcyBhIGNsYXNzIG1ldGhvZCBhbGxvd3MgZm9yIGVhc2llciwgaXNvbGF0ZWQgdGVzdGluZywgYW5kIGFsbG93cyBjYXJlZnVsCiAgICAjIHVzZXJzIHRvIGNhbGwgdGhpcyBhcyBhIHByZS1pbml0IHN0ZXAuCiAgICAjIFRPRE86IE1pZ2h0IGJlIHdvcnRoIG1pZ3JhdGluZyB0aGlzIHRvIGEgc2NoZW1hIHZhbGlkYXRpb24gY2xhc3MsIGJ1dCBvdXQgb2Ygc2NvcGUgZm9yIG5vdy4KICAgICMgcHlsaW50OiBkaXNhYmxlPXRvby1tYW55LXN0YXRlbWVudHMsdG9vLW1hbnktYnJhbmNoZXMsIHRvby1tYW55LWxvY2FscwogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgdmFsaWRhdGVfaW5wdXRzKGNscywKICAgICAgICAqLAogICAgICAgIHNpbG9fY29uZmlnczogTGlzdFtGZWRlcmF0ZWRMZWFybmluZ1NpbG9dLAogICAgICAgIHNpbG9fY29tcG9uZW50OiBDb21wb25lbnQsCiAgICAgICAgYWdncmVnYXRpb25fY29tcG9uZW50OiBDb21wb25lbnQsCiAgICAgICAgc2hhcmVkX3NpbG9fa3dhcmdzOiBEaWN0LAogICAgICAgIGFnZ3JlZ2F0aW9uX2NvbXB1dGU6IHN0ciwKICAgICAgICBhZ2dyZWdhdGlvbl9kYXRhc3RvcmU6IHN0ciwKICAgICAgICBhZ2dyZWdhdGlvbl9rd2FyZ3M6IERpY3QsCiAgICAgICAgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXA6IERpY3QsCiAgICAgICAgYWdncmVnYXRpb25fdG9fc2lsb19hcmd1bWVudF9tYXA6IERpY3QsCiAgICAgICAgbWF4X2l0ZXJhdGlvbnM6IGludCwKICAgICAgICByYWlzZV9lcnJvcj1GYWxzZSwKICAgICkgLT4gTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQ6CgogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gY2xzLl9jcmVhdGVfZW1wdHlfdmFsaWRhdGlvbl9yZXN1bHQoKQoKICAgICAgICAjIHNhdmVkIHZhbHVlcyBmb3IgdmFsaWRhdGlvbiBsYXRlciBvbgogICAgICAgIHNpbG9faW5wdXRzID0gTm9uZQogICAgICAgIHNpbG9fb3V0cHV0cyA9IE5vbmUKICAgICAgICBhZ2dfaW5wdXRzID0gTm9uZQogICAgICAgIGFnZ19vdXRwdXRzID0gTm9uZQogICAgICAgICMgdmFsaWRhdGUgc2lsbyBjb21wb25lbnQKICAgICAgICBpZiBzaWxvX2NvbXBvbmVudCBpcyBOb25lOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJzaWxvX2NvbXBvbmVudCIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPSJzaWxvX2NvbXBvbmVudCBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50IGZvciB0aGUgc2NhdHRlciBnYXRoZXIgbm9kZS4iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgZW5zdXJlIHRoYXQgc2lsbyBjb21wb25lbnQgaGFzIGJvdGggaW5wdXRzIGFuZCBvdXRwdXRzCiAgICAgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNpbG9fY29tcG9uZW50LCAiaW5wdXRzIik6CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJzaWxvX2NvbXBvbmVudCIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPSJzaWxvX2NvbXBvbmVudCBpcyBtaXNzaW5nICdpbnB1dHMnIGF0dHJpYnV0ZTsiICsKICAgICAgICAgICAgICAgICAgICAiaXQgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBzY2F0dGVyLWdhdGhlciBsb29wLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzaWxvX2lucHV0cyA9IHNpbG9fY29tcG9uZW50LmlucHV0cwogICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzaWxvX2NvbXBvbmVudCwgIm91dHB1dHMiKToKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9InNpbG9fY29tcG9uZW50IiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9InNpbG9fY29tcG9uZW50IGlzIG1pc3NpbmcgJ291dHB1dHMnIGF0dHJpYnV0ZTsiICsKICAgICAgICAgICAgICAgICAgICAiaXQgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBzY2F0dGVyLWdhdGhlciBsb29wLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzaWxvX291dHB1dHMgPSBzaWxvX2NvbXBvbmVudC5vdXRwdXRzCiAgICAgICAgIyB2YWxpZGF0ZSBhZ2dyZWdhdGlvbiBjb21wb25lbnQKICAgICAgICBpZiBhZ2dyZWdhdGlvbl9jb21wb25lbnQgaXMgTm9uZToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0iYWdncmVnYXRpb25fY29tcG9uZW50IiwKICAgICAgICAgICAgbWVzc2FnZT0iYWdncmVnYXRpb25fY29tcG9uZW50IGlzIGEgcmVxdWlyZWQgYXJndW1lbnQgZm9yIHRoZSBzY2F0dGVyIGdhdGhlciBub2RlLiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBlbnN1cmUgdGhhdCBhZ2dyZWdhdGlvbiBjb21wb25lbnQgaGFzIGJvdGggaW5wdXRzIGFuZCBvdXRwdXRzCiAgICAgICAgICAgIGlmIG5vdCBoYXNhdHRyKGFnZ3JlZ2F0aW9uX2NvbXBvbmVudCwgImlucHV0cyIpOgogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0iYWdncmVnYXRpb25fY29tcG9uZW50IiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U9ImFnZ3JlZ2F0aW9uX2NvbXBvbmVudCBpcyBtaXNzaW5nICdpbnB1dHMnIGF0dHJpYnV0ZTsiICsKICAgICAgICAgICAgICAgICAgICAiaXQgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBzY2F0dGVyLWdhdGhlciBsb29wLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhZ2dfaW5wdXRzID0gYWdncmVnYXRpb25fY29tcG9uZW50LmlucHV0cwogICAgICAgICAgICBpZiBub3QgaGFzYXR0cihhZ2dyZWdhdGlvbl9jb21wb25lbnQsICJvdXRwdXRzIik6CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJhZ2dyZWdhdGlvbl9jb21wb25lbnQiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ImFnZ3JlZ2F0aW9uX2NvbXBvbmVudCBpcyBtaXNzaW5nICdvdXRwdXRzJyBhdHRyaWJ1dGU7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICIgaXQgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBzY2F0dGVyLWdhdGhlciBsb29wLiIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhZ2dfb3V0cHV0cyA9IGFnZ3JlZ2F0aW9uX2NvbXBvbmVudC5vdXRwdXRzCgogICAgICAgICMgdmFsaWRhdGUgc2lsb3MgY29uZmlncwogICAgICAgIGlmIHNpbG9fY29uZmlncyBpcyBOb25lOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJzaWxvX2NvbmZpZ3MiLAogICAgICAgICAgICBtZXNzYWdlPSJzaWxvX2NvbmZpZ3MgaXMgYSByZXF1aXJlZCBhcmd1bWVudCBmb3IgdGhlIHNjYXR0ZXIgZ2F0aGVyIG5vZGUuIikKICAgICAgICBlbGlmIGxlbihzaWxvX2NvbmZpZ3MpID09IDA6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9InNpbG9fY29uZmlncyIsCiAgICAgICAgICAgIG1lc3NhZ2U9InNpbG9fY29uZmlncyBjYW5ub3QgYmUgYW4gZW1wdHkgbGlzdC4iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZpcnN0X3NpbG8gPSBzaWxvX2NvbmZpZ3NbMF0KICAgICAgICAgICAgZXhwZWN0ZWRfaW5wdXRzID0gW10KICAgICAgICAgICAgaWYgaGFzYXR0cihmaXJzdF9zaWxvLCAiaW5wdXRzIik6CiAgICAgICAgICAgICAgICBleHBlY3RlZF9pbnB1dHMgPSBmaXJzdF9zaWxvLmlucHV0cy5rZXlzKCkKICAgICAgICAgICAgbnVtX2V4cGVjdGVkX2lucHV0cyA9IGxlbihleHBlY3RlZF9pbnB1dHMpCiAgICAgICAgICAgICMgcHlsaW50OiBkaXNhYmxlPWNvbnNpZGVyLXVzaW5nLWVudW1lcmF0ZQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oc2lsb19jb25maWdzKSk6CiAgICAgICAgICAgICAgICBzaWxvID0gc2lsb19jb25maWdzW2ldCiAgICAgICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzaWxvLCAiY29tcHV0ZSIpOgogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9InNpbG9fY29uZmlncyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mIlNpbG8gYXQgaW5kZXgge2l9IGluIHNpbG9fY29uZmlncyBpcyBtaXNzaW5nIGl0cyBjb21wdXRlIHZhbHVlLiIpCiAgICAgICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzaWxvLCAiZGF0YXN0b3JlIik6CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0ic2lsb19jb25maWdzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiU2lsbyBhdCBpbmRleCB7aX0gaW4gc2lsb19jb25maWdzIGlzIG1pc3NpbmcgaXRzIGRhdGFzdG9yZSB2YWx1ZS4iKQogICAgICAgICAgICAgICAgc2lsb19pbnB1dF9sZW4gPSAwCiAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKHNpbG8sICJpbnB1dHMiKToKICAgICAgICAgICAgICAgICAgICBzaWxvX2lucHV0X2xlbiA9IGxlbihzaWxvLmlucHV0cykKICAgICAgICAgICAgICAgICAgICAjIGlmIGlucHV0cyBleGlzdCwgbWFrZSBzdXJlIHRoZSBpbnB1dHMgbmFtZXMgYXJlIGNvbnNpc3RlbnQgYWNyb3NzIHNpbG8gY29uZmlncwogICAgICAgICAgICAgICAgICAgIGZvciBleHBlY3RlZF9pbnB1dF9uYW1lIGluIGV4cGVjdGVkX2lucHV0czoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXhwZWN0ZWRfaW5wdXRfbmFtZSBub3QgaW4gc2lsby5pbnB1dHM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJzaWxvX2NvbmZpZ3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJTaWxvIGF0IGluZGV4IHtpfSBoYXMgaXMgbWlzc2luZyBpbnB1dHMgbmFtZWQgJ3tleHBlY3RlZF9pbnB1dF9uYW1lfScsIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aGljaCB3YXMgbGlzdGVkIGluIHRoZSBmaXJzdCBzaWxvIGNvbmZpZy4gIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTaWxvcyBtdXN0IGhhdmUgY29uc2lzdGVudCBpbnB1dHMgbmFtZXMuIikKICAgICAgICAgICAgICAgIGlmIHNpbG9faW5wdXRfbGVuICE9IG51bV9leHBlY3RlZF9pbnB1dHM6CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0ic2lsb19jb25maWdzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiU2lsbyBhdCBpbmRleCB7aX0gaGFzIHtzaWxvX2lucHV0X2xlbn0gaW5wdXRzLCBidXQgdGhlIGZpcnN0IHNpbG8gZXN0YWJsaXNoZWQgdGhhdCIgKwogICAgICAgICAgICAgICAgICAgICAgICBmImVhY2ggc2lsbyB3b3VsZCBoYXZlIHtudW1fZXhwZWN0ZWRfaW5wdXRzfSBzaWxvLXNwZWNpZmljIGlucHV0cy4iKQoKICAgICAgICAjIE1ha2Ugc3VyZSBib3RoIGFnZ3JlZ2F0aW9uIG92ZXJyaWRlcyBhcmUgc2V0LCBvciBub3QKICAgICAgICBpZiBhZ2dyZWdhdGlvbl9kYXRhc3RvcmUgaXMgTm9uZSBhbmQgYWdncmVnYXRpb25fY29tcHV0ZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0iYWdncmVnYXRpb25fZGF0YXN0b3JlIiwKICAgICAgICAgICAgbWVzc2FnZT0iYWdncmVnYXRpb25fZGF0YXN0b3JlIGNhbm5vdCBiZSB1bnNldCBpZiBhZ2dyZWdhdGlvbl9jb21wdXRlIGlzIHNldC4iKQogICAgICAgIGVsaWYgYWdncmVnYXRpb25fZGF0YXN0b3JlIGlzIG5vdCBOb25lIGFuZCBhZ2dyZWdhdGlvbl9jb21wdXRlIGlzIE5vbmU6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9ImFnZ3JlZ2F0aW9uX2NvbXB1dGUiLAogICAgICAgICAgICBtZXNzYWdlPSJhZ2dyZWdhdGlvbl9jb21wdXRlIGNhbm5vdCBiZSB1bnNldCBpZiBhZ2dyZWdhdGlvbl9kYXRhc3RvcmUgaXMgc2V0LiIpCgogICAgICAgICMgdmFsaWRhdGUgY29tcG9uZW50IGt3YXJncywgZW5zdXJpbmcgdGhhdCB0aGUgcmVsZXZhbnQgY29tcG9uZW50cyBjb250YWluIHRoZSBzcGVjaWZpZWQgaW5wdXRzCiAgICAgICAgaWYgc2hhcmVkX3NpbG9fa3dhcmdzIGlzIE5vbmU6CiAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9InNoYXJlZF9zaWxvX2t3YXJncyIsCiAgICAgICAgICAgIG1lc3NhZ2U9InNoYXJlZF9zaWxvX2t3YXJncyBzaG91bGQgbmV2ZXIgYmUgTm9uZS4gSW5wdXQgYW4gZW1wdHkgZGljdGlvbmFyeSBpbnN0ZWFkLiIpCiAgICAgICAgZWxpZiBzaWxvX2lucHV0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgZm9yIGsgaW4gc2hhcmVkX3NpbG9fa3dhcmdzLmtleXMoKToKICAgICAgICAgICAgICAgIGlmIGsgbm90IGluIHNpbG9faW5wdXRzOgogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9InNoYXJlZF9zaWxvX2t3YXJncyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mInNoYXJlZF9zaWxvX2t3YXJncyBrZXl3b3JkIHtrfSBub3QgbGlzdGVkIGluIHNpbG9fY29tcG9uZW50J3MgaW5wdXRzIikKICAgICAgICBpZiBhZ2dyZWdhdGlvbl9rd2FyZ3MgaXMgTm9uZToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0iYWdncmVnYXRpb25fa3dhcmdzIiwKICAgICAgICAgICAgbWVzc2FnZT0iYWdncmVnYXRpb25fa3dhcmdzIHNob3VsZCBuZXZlciBiZSBOb25lLiBJbnB1dCBhbiBlbXB0eSBkaWN0aW9uYXJ5IGluc3RlYWQuIikKICAgICAgICBlbGlmIHNpbG9faW5wdXRzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBmb3IgayBpbiBhZ2dyZWdhdGlvbl9rd2FyZ3Mua2V5cygpOgogICAgICAgICAgICAgICAgaWYgayBub3QgaW4gYWdnX2lucHV0czoKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJhZ2dyZWdhdGlvbl9rd2FyZ3MiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJhZ2dyZWdhdGlvbl9rd2FyZ3Mga2V5d29yZCB7a30gbm90IGxpc3RlZCBpbiBhZ2dyZWdhdGlvbl9jb21wb25lbnQncyBpbnB1dHMiKQoKICAgICAgICAjIHZhbGlkYXRlIHRoYXQgYXJndW1lbnQgbWFwcGluZ3MgbGV2ZXJhZ2UgaW5wdXRzIGFuZCBvdXRwdXRzIHRoYXQgYWN0dWFsbHkgZXhpc3QKICAgICAgICBpZiBhZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcCBpcyBOb25lOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJhZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcCIsCiAgICAgICAgICAgIG1lc3NhZ2U9ImFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwIHNob3VsZCBuZXZlciBiZSBOb25lLiBJbnB1dCBhbiBlbXB0eSBkaWN0aW9uYXJ5IGluc3RlYWQuIikKICAgICAgICBlbGlmIHNpbG9faW5wdXRzIGlzIG5vdCBOb25lIGFuZCBhZ2dfb3V0cHV0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgZm9yIGssIHYgaW4gYWdncmVnYXRpb25fdG9fc2lsb19hcmd1bWVudF9tYXAuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIGsgbm90IGluIGFnZ19vdXRwdXRzOgogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9ImFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiYWdncmVnYXRpb25fdG9fc2lsb19hcmd1bWVudF9tYXAga2V5IHtrfSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgImlzIG5vdCBhIGtub3duIG91dHB1dCBvZiB0aGUgYWdncmVnYXRpb24gY29tcG9uZW50LiIpCiAgICAgICAgICAgICAgICBpZiB2IG5vdCBpbiBzaWxvX2lucHV0czoKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJhZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcCIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mImFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwIHZhbHVlIHt2fSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgImlzIG5vdCBhIGtub3duIGlucHV0IG9mIHRoZSBzaWxvIGNvbXBvbmVudC4iKQogICAgICAgICMgYW5kIGNoZWNrIHRoZSBvdGhlciBtYXBwaW5nCiAgICAgICAgaWYgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAgaXMgTm9uZToKICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0ic2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAiLAogICAgICAgICAgICBtZXNzYWdlPSJzaWxvX3RvX2FnZ3JlZ2F0aW9uX2FyZ3VtZW50X21hcCBzaG91bGQgbmV2ZXIgYmUgTm9uZS4gIiArCiAgICAgICAgICAgICAgICAiSW5wdXQgYW4gZW1wdHkgZGljdGlvbmFyeSBpbnN0ZWFkLiIpCiAgICAgICAgZWxpZiBhZ2dfaW5wdXRzIGlzIG5vdCBOb25lIGFuZCBzaWxvX291dHB1dHMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGZvciBrLCB2IGluIHNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBrIG5vdCBpbiBzaWxvX291dHB1dHM6CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKHlhbWxfcGF0aD0ic2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJzaWxvX3RvX2FnZ3JlZ2F0aW9uX2FyZ3VtZW50X21hcCBrZXkge2sgfSIgKwogICAgICAgICAgICAgICAgICAgICAgICAiaXMgbm90IGEga25vd24gb3V0cHV0IG9mIHRoZSBzaWxvIGNvbXBvbmVudC4iKQogICAgICAgICAgICAgICAgaWYgdiBub3QgaW4gYWdnX2lucHV0czoKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJzaWxvX3RvX2FnZ3JlZ2F0aW9uX2FyZ3VtZW50X21hcCIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1mInNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwIHZhbHVlIHt2fSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgImlzIG5vdCBhIGtub3duIGlucHV0IG9mIHRoZSBhZ2dyZWdhdGlvbiBjb21wb25lbnQuIikKCiAgICAgICAgaWYgbWF4X2l0ZXJhdGlvbnMgPCAxOgogICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoeWFtbF9wYXRoPSJtYXhfaXRlcmF0aW9ucyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPWYibWF4X2l0ZXJhdGlvbnMgbXVzdCBiZSBhIHBvc2l0aXZlIHZhbHVlLCBub3QgJ3ttYXhfaXRlcmF0aW9uc30nLiIpCgogICAgICAgIHJldHVybiB2YWxpZGF0aW9uX3Jlc3VsdC50cnlfcmFpc2UoCiAgICAgICAgICAgIGNscy5fZ2V0X3ZhbGlkYXRpb25fZXJyb3JfdGFyZ2V0KCksCiAgICAgICAgICAgIHJhaXNlX2Vycm9yPXJhaXNlX2Vycm9yLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfY3VzdG9tX2ZsX2RhdGFfcGF0aCgKICAgICAgICBjbHMsCiAgICAgICAgZGF0YXN0b3JlX25hbWUsCiAgICAgICAgb3V0cHV0X25hbWUsCiAgICAgICAgdW5pcXVlX2lkPSIke3tuYW1lfX0iLAogICAgICAgIGl0ZXJhdGlvbl9udW09IiR7e2l0ZXJhdGlvbl9udW19fSIKICAgICk6CiAgICAgICAgIiIiUHJvZHVjZXMgYSBwYXRoIHRvIHN0b3JlIHRoZSBkYXRhIGR1cmluZyBGTCB0cmFpbmluZy4KICAgICAgICBBcmdzOgogICAgICAgICAgICBkYXRhc3RvcmVfbmFtZSAoc3RyKTogbmFtZSBvZiB0aGUgQXp1cmUgTUwgZGF0YXN0b3JlCiAgICAgICAgICAgIG91dHB1dF9uYW1lIChzdHIpOiBhIG5hbWUgdW5pcXVlIHRvIHRoaXMgb3V0cHV0CiAgICAgICAgICAgIHVuaXF1ZV9pZCAoc3RyKTogYSB1bmlxdWUgaWQgZm9yIHRoZSBydW4gKGRlZmF1bHQ6IGluamVjdCBydW4gaWQgd2l0aCAke3tuYW1lfX0pCiAgICAgICAgICAgIGl0ZXJhdGlvbl9udW0gKHN0cik6IGFuIGl0ZXJhdGlvbiBudW1iZXIgaWYgcmVsZXZhbnQKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkYXRhX3BhdGggKHN0cik6IGRpcmVjdCB1cmwgdG8gdGhlIGRhdGEgcGF0aCB0byBzdG9yZSB0aGUgZGF0YQogICAgICAgICIiIgogICAgICAgIGRhdGFfcGF0aCA9IGYiYXp1cmVtbDovL2RhdGFzdG9yZXMve2RhdGFzdG9yZV9uYW1lfS9wYXRocy9mZWRlcmF0ZWRfbGVhcm5pbmcve291dHB1dF9uYW1lfS97dW5pcXVlX2lkfS8iCiAgICAgICAgaWYgaXRlcmF0aW9uX251bSBpcyBub3QgTm9uZToKICAgICAgICAgICAgZGF0YV9wYXRoICs9IGYiaXRlcmF0aW9uX3tpdGVyYXRpb25fbnVtfS8iCgogICAgICAgIHJldHVybiBkYXRhX3BhdGgKCiAgICBkZWYgX2dldF9hZ2dyZWdhdG9yX2lucHV0X25hbWUoc2VsZiwgc2lsb19vdXRwdXRfbmFtZSk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyBhZ2dyZWdhdG9yIGlucHV0IG5hbWUgdGhhdCBtYXBzIHRvIHNpbG9fb3V0cHV0LgogICAgICAgIFJldHVybnMgTm9uZSBpZiBzaWxvX291dHB1dF9uYW1lIG5vdCBpbiBzaWxvX3RvX2FnZ3JlZ2F0aW9uX2FyZ3VtZW50X21hcAogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwLmdldChzaWxvX291dHB1dF9uYW1lKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF90cnlfY3JlYXRlX2RlZmF1bHRfbWFwcGluZ3MoCiAgICAgICAgY2xzLAogICAgICAgIHNpbG9fY29tcDogQ29tcG9uZW50LAogICAgICAgIGFnZ19jb21wOiBDb21wb25lbnQsCiAgICAgICAgc2lsb19hZ2dfbWFwOiBEaWN0LAogICAgICAgIGFnZ19zaWxvX21hcDogRGljdAogICAgKToKICAgICAgICAiIiIKICAgICAgICBUaGlzIGZ1bmN0aW9uIHRyaWVzIHRvIHByb2R1Y2UgZGljdGlvbmFyaWVzIHRoYXQgbGluayB0aGUgc2lsbyBhbmQgYWdncmVnYXRpb24KICAgICAgICBjb21wb25lbnRzJyBvdXRwdXRzIHRvIHRoZSBvdGhlcidzIGlucHV0cy4KICAgICAgICBUaGUgbWFwcGluZyBvbmx5IG9jY3VycyBmb3IgaW5wdXR0ZWQgbWFwcGluZ3MgdGhhdCBhcmUgTm9uZSwgb3RoZXJ3aXNlCiAgICAgICAgdGhlIGlucHV0dGVkIG1hcHBpbmcgaXMgcmV0dXJuZWQgdW5jaGFuZ2VkLgogICAgICAgIFRoZXNlIGF1dG8tZ2VuZXJhdGVkIG1hcHBpbmdzIGFyZSBuYWl2ZSwgYW5kIHNpbXBseSBtYXBzIGFsbCBvdXRwdXRzIG9mIGEgY29tcG9uZW50IHRoYXQgaGF2ZSBhCiAgICAgICAgaWRlbnRpY2FsbHktbmFtZWQgaW5wdXQgaW4gdGhlIG90aGVyIGNvbXBvbmVudC4KCiAgICAgICAgICAgIFRoaXMgZnVuY3Rpb24gZG9lcyBub3RoaW5nIGlmIGVpdGhlciBpbnB1dHRlZCBjb21wb25lbnQgaXMgTm9uZS4gVGhpcyBmdW5jdGlvbiB3aWxsIGFsc28gZG8gbm90aGluZwogICAgICAgIGZvciBhIGdpdmVuIG1hcHBpbmcgaWYgZWl0aGVyIG9mIHRoZSByZWxldmFudCBpbnB1dHMgb3Igb3V0cHV0cyBhcmUgTm9uZSAoYnV0IG5vdCBlbXB0eSkuCgogICAgICAgIFJldHVybnMgYSB0dXBsZSBvZiB0aGUgcG90ZW50aWFsbHkgbW9kaWZpZWQgc2lsbyB0byBhZ2dyZWdhdGlvbiBtYXBwaW5nLAogICAgICAgIGZvbGxvd2VkIGJ5IHRoZSBhZ2dyZWdhdGlvbiB0byBzaWxvIG1hcHBpbmcuCgogICAgICAgIEV4YW1wbGUgaW5wdXRzOgogICAgICAgICAgICBzaWxvX2NvbXAuaW5wdXRzID0geyJzaWxvX2lucHV0IiA6IHZhbHVlIH0KICAgICAgICAgICAgc2lsb19jb21wLm91dHB1dHMgPSAgeyJjIiA6IC4uLiwgInNpbG9fb3V0cHV0MiIgOiAuLi4gfQogICAgICAgICAgICBhZ2dfY29tcC5pbnB1dHMgPSB7InNpbG9fb3V0cHV0MSIgOiAuLi4gfQogICAgICAgICAgICBhZ2dfY29tcC5vdXRwdXRzID0geyJhZ2dfb3V0cHV0IiA6IC4uLiB9CiAgICAgICAgICAgIHNpbG9fYWdnX21hcCA9IE5vbmUKICAgICAgICAgICAgYWdnX3NpbG9fbWFwID0ge30KCiAgICAgICAgRXhhbXBsZSByZXR1cm5zOgogICAgICAgICAgICB7InNpbG9fb3V0cHV0MSIgOiAic2lsb19vdXRwdXQxIn0sIHt9CgogICAgICAgICIiIgogICAgICAgIGlmIHNpbG9fY29tcCBpcyBOb25lIG9yIGFnZ19jb21wIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBzaWxvX2FnZ19tYXAsIGFnZ19zaWxvX21hcAogICAgICAgIGlmIHNpbG9fYWdnX21hcCBpcyBOb25lIGFuZCBzaWxvX2NvbXAub3V0cHV0cyBpcyBub3QgTm9uZSBhbmQgYWdnX2NvbXAuaW5wdXRzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzaWxvX2FnZ19tYXAgPSB7b3V0cHV0OiBvdXRwdXQgZm9yIG91dHB1dCBpbiBzaWxvX2NvbXAub3V0cHV0cy5rZXlzKCkgaWYgb3V0cHV0IGluIGFnZ19jb21wLmlucHV0c30KICAgICAgICBpZiBhZ2dfc2lsb19tYXAgaXMgTm9uZToKICAgICAgICAgICAgYWdnX3NpbG9fbWFwID0ge291dHB1dDogb3V0cHV0IGZvciBvdXRwdXQgaW4gYWdnX2NvbXAub3V0cHV0cy5rZXlzKCkgaWYgb3V0cHV0IGluIHNpbG9fY29tcC5pbnB1dHN9CiAgICAgICAgcmV0dXJuIHNpbG9fYWdnX21hcCwgYWdnX3NpbG9fbWFwCgoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfZ2V0X21lcmdlX2NvbXBvbmVudChvdXRwdXRfdHlwZSk6CiAgICAgICAgIiIiCiAgICAgICAgR2V0cyB0aGUgbWVyZ2UgY29tcG9uZW50IHRvIGJlIHVzZWQgYmFzZWQgb24gdHlwZSBvZiBvdXRwdXQKICAgICAgICAiIiIKICAgICAgICByZXR1cm4gTUVSR0VfQ09NUE9ORU5UX01BUFBJTkdbb3V0cHV0X3R5cGVdCgogICAgZGVmIF9pbmplY3RfbWVyZ2VfY29tcG9uZW50cyhzZWxmLCBleGVjdXRlZF9zaWxvX2NvbXBvbmVudHMpOgogICAgICAgICIiIkFkZCBhIG1lcmdlIGNvbXBvbmVudCBmb3IgZWFjaCBzaWxvIG91dHB1dCBpbiB0aGUgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAuCiAgICAgICAgICAgIFRoZXNlIG1lcmdlIGNvbXBvbmVudHMgYWN0IGFzIGEgbWVkaWF0b3IgYmV0d2VlbiB0aGUgdXNlciBzaWxvIGFuZCBhZ2dyZWdhdGlvbiBzdGVwcywgcmVkdWNpbmcKICAgICAgICAgICAgdGhlIHZhcmlhYmxlIG51bWJlciBvZiBzaWxvIG91dHB1dHMgaW50byBhIHNpbmdsZSBpbnB1dCBmb3IgdGhlIGFnZ2VyZ2F0aW9uIHN0ZXAuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGV4ZWN1dGVkX3NpbG9fY29tcG9uZW50czogQSBsaXN0IG9mIGV4ZWN1dGVkIHNpbG8gc3RlcHMgdG8gZXh0cmFjdCBvdXRwdXRzIGZyb20uCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgbWVyZ2VfY29tcF9tYXBwaW5nIChkaWN0KTogQSBtYXBwaW5nIGZyb20gc2lsbyBvdXRwdXQgbmFtZXMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgbmV3bHkKICAgICAgICAgICAgICAgIGNyZWF0ZWQgYW5kIGV4ZWN1dGVkIG1lcmdlIGNvbXBvbmVudAogICAgICAgICIiIgogICAgICAgIGV4ZWN1dGVkX2NvbXBvbmVudCA9IGV4ZWN1dGVkX3NpbG9fY29tcG9uZW50c1swXQoKICAgICAgICBtZXJnZV9jb21wX21hcHBpbmcgPSB7fQogICAgICAgIGZvciBzaWxvX291dHB1dF9hcmd1bWVudF9uYW1lLCBfIGluIHNlbGYuc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAuaXRlbXMoKToKICAgICAgICAgICAgbWVyZ2VfY29tcCA9IHNlbGYuX2dldF9tZXJnZV9jb21wb25lbnQoZXhlY3V0ZWRfY29tcG9uZW50Lm91dHB1dHNbc2lsb19vdXRwdXRfYXJndW1lbnRfbmFtZV0udHlwZSkKICAgICAgICAgICAgbWVyZ2VfY29tcG9uZW50X2lucHV0cyA9IHsKICAgICAgICAgICAgICAgIHNpbG9fb3V0cHV0X2FyZ3VtZW50X25hbWUgKyAiX3NpbG9fIiArCiAgICAgICAgICAgICAgICAgICAgc3RyKGkpOmV4ZWN1dGVkX3NpbG9fY29tcG9uZW50c1tpXS5vdXRwdXRzW3NpbG9fb3V0cHV0X2FyZ3VtZW50X25hbWVdCiAgICAgICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMCxsZW4oZXhlY3V0ZWRfc2lsb19jb21wb25lbnRzKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBleGVjdXRlZF9tZXJnZV9jb21wb25lbnQgPSBtZXJnZV9jb21wKCoqbWVyZ2VfY29tcG9uZW50X2lucHV0cykKICAgICAgICAgICAgZm9yIGlucHV0X29iaiBpbiBleGVjdXRlZF9tZXJnZV9jb21wb25lbnQuaW5wdXRzLnZhbHVlcygpOgogICAgICAgICAgICAgICAgaW5wdXRfb2JqLm1vZGUgPSAiZGlyZWN0IgogICAgICAgICAgICBtZXJnZV9jb21wX21hcHBpbmcudXBkYXRlKHsKICAgICAgICAgICAgICAgIHNpbG9fb3V0cHV0X2FyZ3VtZW50X25hbWU6IGV4ZWN1dGVkX21lcmdlX2NvbXBvbmVudAogICAgICAgICAgICB9KQoKICAgICAgICByZXR1cm4gbWVyZ2VfY29tcF9tYXBwaW5nCgogICAgIyBib2lsZXJwbGF0ZSBmdW5jdGlvbnMgLSBsYXJnZWx5IGNvcGllZCBmcm9tIG90aGVyIG5vZGUgYnVpbGRlcnMKCiAgICBAcHJvcGVydHkKICAgIGRlZiBvdXRwdXRzKHNlbGYpIC0\u002BIERpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dF1dOgogICAgICAgIHJldHVybiBzZWxmLl9vdXRwdXRzCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZV9zY2hlbWFfZm9yX3ZhbGlkYXRpb24oY2xzLCBjb250ZXh0KSAtPiBQYXRoQXdhcmVTY2hlbWE6CiAgICAgICAgcmV0dXJuIEZMU2NhdHRlckdhdGhlclNjaGVtYShjb250ZXh0PWNvbnRleHQpCgogICAgZGVmIF90b19yZXN0X29iamVjdChzZWxmLCAqKmt3YXJncykgLT4gZGljdDogICMgcHlsaW50OiBkaXNhYmxlPXVudXNlZC1hcmd1bWVudAogICAgICAgICIiIkNvbnZlcnQgc2VsZiB0byBhIHJlc3Qgb2JqZWN0IGZvciByZW1vdGUgY2FsbC4iIiIKICAgICAgICByZXN0X25vZGUgPSBzdXBlcihGTFNjYXR0ZXJHYXRoZXIsIHNlbGYpLl90b19yZXN0X29iamVjdCgqKmt3YXJncykKICAgICAgICByZXN0X25vZGUudXBkYXRlKGRpY3Qob3V0cHV0cz1zZWxmLl90b19yZXN0X291dHB1dHMoKSkpCiAgICAgICAgcmV0dXJuIGNvbnZlcnRfb3JkZXJlZF9kaWN0X3RvX2RpY3QocmVzdF9ub2RlKQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "fcUYO2m9pp/I06Jg8zXfDg==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C3FF4C2\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "vNiEqlRnZwE=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/spark.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "25500",
        "Content-MD5": "CG3nTVjefchT/cdOV9nmYw==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcywgdG9vLW1hbnktaW5zdGFuY2UtYXR0cmlidXRlcwoKaW1wb3J0IGNvcHkKaW1wb3J0IGxvZ2dpbmcKZnJvbSBlbnVtIGltcG9ydCBFbnVtCmZyb20gb3MgaW1wb3J0IFBhdGhMaWtlLCBwYXRoCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgTGlzdCwgT3B0aW9uYWwsIFVuaW9uCgpmcm9tIG1hcnNobWFsbG93IGltcG9ydCBJTkNMVURFLCBTY2hlbWEKCmZyb20gLi4uX3Jlc3RjbGllbnQudjIwMjNfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IElkZW50aXR5Q29uZmlndXJhdGlvbgpmcm9tIC4uLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBKb2JCYXNlIGFzIEpvYkJhc2VEYXRhCmZyb20gLi4uX3Jlc3RjbGllbnQudjIwMjNfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IFNwYXJrSm9iIGFzIFJlc3RTcGFya0pvYgpmcm9tIC4uLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBTcGFya0pvYkVudHJ5IGFzIFJlc3RTcGFya0pvYkVudHJ5CmZyb20gLi4uX3Jlc3RjbGllbnQudjIwMjNfMDJfMDFfcHJldmlldy5tb2RlbHMgaW1wb3J0IFNwYXJrUmVzb3VyY2VDb25maWd1cmF0aW9uIGFzIFJlc3RTcGFya1Jlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIC4uLl9zY2hlbWEgaW1wb3J0IE5lc3RlZEZpZWxkLCBQYXRoQXdhcmVTY2hlbWEsIFVuaW9uRmllbGQKZnJvbSAuLi5fc2NoZW1hLmpvYi5pZGVudGl0eSBpbXBvcnQgQU1MVG9rZW5JZGVudGl0eVNjaGVtYSwgTWFuYWdlZElkZW50aXR5U2NoZW1hLCBVc2VySWRlbnRpdHlTY2hlbWEKZnJvbSAuLi5fc2NoZW1hLmpvYi5wYXJhbWV0ZXJpemVkX3NwYXJrIGltcG9ydCBDT05GX0tFWV9NQVAsIFNwYXJrQ29uZlNjaGVtYQpmcm9tIC4uLl9zY2hlbWEuam9iLnNwYXJrX2pvYiBpbXBvcnQgU3BhcmtKb2JTY2hlbWEKZnJvbSAuLi5fdXRpbHMudXRpbHMgaW1wb3J0IGlzX3VybApmcm9tIC4uLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCAoCiAgICBBUk1fSURfUFJFRklYLAogICAgQkFTRV9QQVRIX0NPTlRFWFRfS0VZLAogICAgUkVHSVNUUllfVVJJX0ZPUk1BVCwKICAgIFNQQVJLX0VOVklST05NRU5UX1dBUk5JTkdfTUVTU0FHRSwKKQpmcm9tIC4uLmNvbnN0YW50cy5fY29tcG9uZW50IGltcG9ydCBOb2RlVHlwZQpmcm9tIC4uLmNvbnN0YW50cy5fam9iLmpvYiBpbXBvcnQgU3BhcmtDb25mS2V5CmZyb20gLi4uZW50aXRpZXMuX2Fzc2V0cyBpbXBvcnQgRW52aXJvbm1lbnQKZnJvbSAuLi5lbnRpdGllcy5fY29tcG9uZW50LmNvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50CmZyb20gLi4uZW50aXRpZXMuX2NvbXBvbmVudC5zcGFya19jb21wb25lbnQgaW1wb3J0IFNwYXJrQ29tcG9uZW50CmZyb20gLi4uZW50aXRpZXMuX2NyZWRlbnRpYWxzIGltcG9ydCAoCiAgICBBbWxUb2tlbkNvbmZpZ3VyYXRpb24sCiAgICBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLAogICAgVXNlcklkZW50aXR5Q29uZmlndXJhdGlvbiwKICAgIF9CYXNlSm9iSWRlbnRpdHlDb25maWd1cmF0aW9uLAopCmZyb20gLi4uZW50aXRpZXMuX2lucHV0c19vdXRwdXRzIGltcG9ydCBJbnB1dCwgT3V0cHV0CmZyb20gLi4uZW50aXRpZXMuX2pvYi5faW5wdXRfb3V0cHV0X2hlbHBlcnMgaW1wb3J0ICgKICAgIGZyb21fcmVzdF9kYXRhX291dHB1dHMsCiAgICBmcm9tX3Jlc3RfaW5wdXRzX3RvX2RhdGFzZXRfbGl0ZXJhbCwKICAgIHZhbGlkYXRlX2lucHV0c19mb3JfYXJncywKKQpmcm9tIC4uLmVudGl0aWVzLl9qb2Iuc3Bhcmtfam9iIGltcG9ydCBTcGFya0pvYgpmcm9tIC4uLmVudGl0aWVzLl9qb2Iuc3Bhcmtfam9iX2VudHJ5IGltcG9ydCBTcGFya0pvYkVudHJ5VHlwZQpmcm9tIC4uLmVudGl0aWVzLl9qb2Iuc3BhcmtfcmVzb3VyY2VfY29uZmlndXJhdGlvbiBpbXBvcnQgU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb24KZnJvbSAuLi5lbnRpdGllcy5fdmFsaWRhdGlvbiBpbXBvcnQgTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQKZnJvbSAuLi5leGNlcHRpb25zIGltcG9ydCBFcnJvckNhdGVnb3J5LCBFcnJvclRhcmdldCwgVmFsaWRhdGlvbkV4Y2VwdGlvbgpmcm9tIC4uX2pvYi5waXBlbGluZS5faW8gaW1wb3J0IE5vZGVPdXRwdXQKZnJvbSAuLl9qb2Iuc3BhcmtfaGVscGVycyBpbXBvcnQgKAogICAgX3ZhbGlkYXRlX2NvbXB1dGVfb3JfcmVzb3VyY2VzLAogICAgX3ZhbGlkYXRlX2lucHV0X291dHB1dF9tb2RlLAogICAgX3ZhbGlkYXRlX3NwYXJrX2NvbmZpZ3VyYXRpb25zLAopCmZyb20gLi5fam9iLnNwYXJrX2pvYl9lbnRyeV9taXhpbiBpbXBvcnQgU3BhcmtKb2JFbnRyeSwgU3BhcmtKb2JFbnRyeU1peGluCmZyb20gLi5fdXRpbCBpbXBvcnQgY29udmVydF9vcmRlcmVkX2RpY3RfdG9fZGljdCwgZ2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycywgbG9hZF9mcm9tX2RpY3QsIHZhbGlkYXRlX2F0dHJpYnV0ZV90eXBlCmZyb20gLmJhc2Vfbm9kZSBpbXBvcnQgQmFzZU5vZGUKCm1vZHVsZV9sb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpjbGFzcyBTcGFyayhCYXNlTm9kZSwgU3BhcmtKb2JFbnRyeU1peGluKToKICAgICIiIkJhc2UgY2xhc3MgZm9yIHNwYXJrIG5vZGUsIHVzZWQgZm9yIHNwYXJrIGNvbXBvbmVudCB2ZXJzaW9uIGNvbnN1bXB0aW9uLgoKICAgIFlvdSBzaG91bGQgbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSBzaG91bGQKICAgIGNyZWF0ZSBmcm9tIGJ1aWxkZXIgZnVuY3Rpb246IHNwYXJrLgoKICAgIDpwYXJhbSBjb21wb25lbnQ6IElkIG9yIGluc3RhbmNlIG9mIHRoZSBzcGFyayBjb21wb25lbnQvam9iIHRvIGJlIHJ1biBmb3IgdGhlIHN0ZXAKICAgIDp0eXBlIGNvbXBvbmVudDogU3BhcmtDb21wb25lbnQKICAgIDpwYXJhbSBlbnRyeTogRmlsZSBvciBjbGFzcyBlbnRyeSBwb2ludC4KICAgIDp0eXBlIGVudHJ5OiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIHB5X2ZpbGVzOiBMaXN0IG9mIC56aXAsIC5lZ2cgb3IgLnB5IGZpbGVzIHRvIHBsYWNlIG9uIHRoZSBQWVRIT05QQVRIIGZvciBQeXRob24gYXBwcy4KICAgIDp0eXBlIHB5X2ZpbGVzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGphcnM6IExpc3Qgb2YgamFycyB0byBpbmNsdWRlIG9uIHRoZSBkcml2ZXIgYW5kIGV4ZWN1dG9yIGNsYXNzcGF0aHMuCiAgICA6dHlwZSBqYXJzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGZpbGVzOiBMaXN0IG9mIGZpbGVzIHRvIGJlIHBsYWNlZCBpbiB0aGUgd29ya2luZyBkaXJlY3Rvcnkgb2YgZWFjaCBleGVjdXRvci4KICAgIDp0eXBlIGZpbGVzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGFyY2hpdmVzOiBMaXN0IG9mIGFyY2hpdmVzIHRvIGJlIGV4dHJhY3RlZCBpbnRvIHRoZSB3b3JraW5nIGRpcmVjdG9yeSBvZiBlYWNoIGV4ZWN1dG9yLgogICAgOnR5cGUgYXJjaGl2ZXM6IE9wdGlvbmFsW3R5cGluZy5MaXN0W3N0cl1dCiAgICA6cGFyYW0gaWRlbnRpdHk6IElkZW50aXR5IHRoYXQgc3Bhcmsgam9iIHdpbGwgdXNlIHdoaWxlIHJ1bm5pbmcgb24gY29tcHV0ZS4KICAgIDp0eXBlIGlkZW50aXR5OiBVbmlvblsKICAgICAgICBEaWN0LAogICAgICAgIE1hbmFnZWRJZGVudGl0eUNvbmZpZ3VyYXRpb24sCiAgICAgICAgQW1sVG9rZW5Db25maWd1cmF0aW9uLAogICAgICAgIFVzZXJJZGVudGl0eUNvbmZpZ3VyYXRpb25dCiAgICA6cGFyYW0gZHJpdmVyX2NvcmVzOiBOdW1iZXIgb2YgY29yZXMgdG8gdXNlIGZvciB0aGUgZHJpdmVyIHByb2Nlc3MsIG9ubHkgaW4gY2x1c3RlciBtb2RlLgogICAgOnR5cGUgZHJpdmVyX2NvcmVzOiBpbnQKICAgIDpwYXJhbSBkcml2ZXJfbWVtb3J5OiBBbW91bnQgb2YgbWVtb3J5IHRvIHVzZSBmb3IgdGhlIGRyaXZlciBwcm9jZXNzLgogICAgOnR5cGUgZHJpdmVyX21lbW9yeTogc3RyCiAgICA6cGFyYW0gZXhlY3V0b3JfY29yZXM6IFRoZSBudW1iZXIgb2YgY29yZXMgdG8gdXNlIG9uIGVhY2ggZXhlY3V0b3IuCiAgICA6dHlwZSBleGVjdXRvcl9jb3JlczogaW50CiAgICA6cGFyYW0gZXhlY3V0b3JfbWVtb3J5OiBBbW91bnQgb2YgbWVtb3J5IHRvIHVzZSBwZXIgZXhlY3V0b3IgcHJvY2VzcywgaW4gdGhlIHNhbWUgZm9ybWF0IGFzIEpWTSBtZW1vcnkgc3RyaW5ncyB3aXRoCiAgICAgICAgYSBzaXplIHVuaXQgc3VmZml4ICgiayIsICJtIiwgImciIG9yICJ0IikgKGUuZy4gNTEybSwgMmcpLgogICAgOnR5cGUgZXhlY3V0b3JfbWVtb3J5OiBzdHIKICAgIDpwYXJhbSBleGVjdXRvcl9pbnN0YW5jZXM6IEluaXRpYWwgbnVtYmVyIG9mIGV4ZWN1dG9ycy4KICAgIDp0eXBlIGV4ZWN1dG9yX2luc3RhbmNlczogaW50CiAgICA6cGFyYW0gZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQ6IFdoZXRoZXIgdG8gdXNlIGR5bmFtaWMgcmVzb3VyY2UgYWxsb2NhdGlvbiwgd2hpY2ggc2NhbGVzIHRoZSBudW1iZXIgb2YgZXhlY3V0b3JzCiAgICAgICAgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgYXBwbGljYXRpb24gdXAgYW5kIGRvd24gYmFzZWQgb24gdGhlIHdvcmtsb2FkLgogICAgOnR5cGUgZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQ6IGJvb2wKICAgIDpwYXJhbSBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9yczogTG93ZXIgYm91bmQgZm9yIHRoZSBudW1iZXIgb2YgZXhlY3V0b3JzIGlmIGR5bmFtaWMgYWxsb2NhdGlvbiBpcyBlbmFibGVkLgogICAgOnR5cGUgZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnM6IGludAogICAgOnBhcmFtIGR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzOiBVcHBlciBib3VuZCBmb3IgdGhlIG51bWJlciBvZiBleGVjdXRvcnMgaWYgZHluYW1pYyBhbGxvY2F0aW9uIGlzIGVuYWJsZWQuCiAgICA6dHlwZSBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9yczogaW50CiAgICA6cGFyYW0gY29uZjogQSBkaWN0IHdpdGggcHJlLWRlZmluZWQgc3BhcmsgY29uZmlndXJhdGlvbnMga2V5IGFuZCB2YWx1ZXMuCiAgICA6dHlwZSBjb25mOiBkaWN0CiAgICA6cGFyYW0gaW5wdXRzOiBNYXBwaW5nIG9mIGlucHV0cyBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIGlucHV0czogZGljdAogICAgOnBhcmFtIG91dHB1dHM6IE1hcHBpbmcgb2Ygb3V0cHV0cyBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIG91dHB1dHM6IGRpY3QKICAgIDpwYXJhbSBhcmdzOiBBcmd1bWVudHMgZm9yIHRoZSBqb2IuCiAgICA6dHlwZSBhcmdzOiBzdHIKICAgIDpwYXJhbSBjb21wdXRlOiBUaGUgY29tcHV0ZSByZXNvdXJjZSB0aGUgam9iIHJ1bnMgb24uCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSByZXNvdXJjZXM6IENvbXB1dGUgUmVzb3VyY2UgY29uZmlndXJhdGlvbiBmb3IgdGhlIGpvYi4KICAgIDp0eXBlIHJlc291cmNlczogVW5pb25bRGljdCwgU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb25dCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIGNvbXBvbmVudDogVW5pb25bc3RyLCBTcGFya0NvbXBvbmVudF0sCiAgICAgICAgaWRlbnRpdHk6IE9wdGlvbmFsWwogICAgICAgICAgICBVbmlvbltEaWN0W3N0ciwgc3RyXSwgTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXQogICAgICAgIF0gPSBOb25lLAogICAgICAgIGRyaXZlcl9jb3JlczogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICAgICAgZHJpdmVyX21lbW9yeTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZXhlY3V0b3JfY29yZXM6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgICAgIGV4ZWN1dG9yX21lbW9yeTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgZXhlY3V0b3JfaW5zdGFuY2VzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fZW5hYmxlZDogT3B0aW9uYWxbYm9vbF0gPSBOb25lLAogICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9taW5fZXhlY3V0b3JzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9yczogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICAgICAgY29uZjogT3B0aW9uYWxbRGljdFtzdHIsIHN0cl1dID0gTm9uZSwKICAgICAgICBpbnB1dHM6IE9wdGlvbmFsWwogICAgICAgICAgICBEaWN0WwogICAgICAgICAgICAgICAgc3RyLAogICAgICAgICAgICAgICAgVW5pb25bCiAgICAgICAgICAgICAgICAgICAgTm9kZU91dHB1dCwKICAgICAgICAgICAgICAgICAgICBJbnB1dCwKICAgICAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICAgICAgYm9vbCwKICAgICAgICAgICAgICAgICAgICBpbnQsCiAgICAgICAgICAgICAgICAgICAgZmxvYXQsCiAgICAgICAgICAgICAgICAgICAgRW51bSwKICAgICAgICAgICAgICAgICAgICAiSW5wdXQiLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgXQogICAgICAgIF0gPSBOb25lLAogICAgICAgIG91dHB1dHM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dCwgIk91dHB1dCJdXV0gPSBOb25lLAogICAgICAgIGNvbXB1dGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgICAgIHJlc291cmNlczogT3B0aW9uYWxbVW5pb25bRGljdCwgU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb25dXSA9IE5vbmUsCiAgICAgICAgZW50cnk6IFVuaW9uW0RpY3Rbc3RyLCBzdHJdLCBTcGFya0pvYkVudHJ5LCBOb25lXSA9IE5vbmUsCiAgICAgICAgcHlfZmlsZXM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLAogICAgICAgIGphcnM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLAogICAgICAgIGZpbGVzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gTm9uZSwKICAgICAgICBhcmNoaXZlczogT3B0aW9uYWxbTGlzdFtzdHJdXSA9IE5vbmUsCiAgICAgICAgYXJnczogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsCiAgICApOgogICAgICAgICMgdmFsaWRhdGUgaW5pdCBwYXJhbXMgYXJlIHZhbGlkIHR5cGUKICAgICAgICB2YWxpZGF0ZV9hdHRyaWJ1dGVfdHlwZShhdHRyc190b19jaGVjaz1sb2NhbHMoKSwgYXR0cl90eXBlX21hcD1zZWxmLl9hdHRyX3R5cGVfbWFwKCkpCiAgICAgICAga3dhcmdzLnBvcCgidHlwZSIsIE5vbmUpCgogICAgICAgIEJhc2VOb2RlLl9faW5pdF9fKAogICAgICAgICAgICBzZWxmLCB0eXBlPU5vZGVUeXBlLlNQQVJLLCBpbnB1dHM9aW5wdXRzLCBvdXRwdXRzPW91dHB1dHMsIGNvbXBvbmVudD1jb21wb25lbnQsIGNvbXB1dGU9Y29tcHV0ZSwgKiprd2FyZ3MKICAgICAgICApCgogICAgICAgICMgaW5pdCBtYXJrIGZvciBfQXR0ckRpY3QKICAgICAgICBzZWxmLl9pbml0ID0gVHJ1ZQogICAgICAgIFNwYXJrSm9iRW50cnlNaXhpbi5fX2luaXRfXyhzZWxmLCBlbnRyeT1lbnRyeSkKICAgICAgICBzZWxmLmNvbmYgPSBjb25mCiAgICAgICAgc2VsZi5kcml2ZXJfY29yZXMgPSBkcml2ZXJfY29yZXMKICAgICAgICBzZWxmLmRyaXZlcl9tZW1vcnkgPSBkcml2ZXJfbWVtb3J5CiAgICAgICAgc2VsZi5leGVjdXRvcl9jb3JlcyA9IGV4ZWN1dG9yX2NvcmVzCiAgICAgICAgc2VsZi5leGVjdXRvcl9tZW1vcnkgPSBleGVjdXRvcl9tZW1vcnkKICAgICAgICBzZWxmLmV4ZWN1dG9yX2luc3RhbmNlcyA9IGV4ZWN1dG9yX2luc3RhbmNlcwogICAgICAgIHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQgPSBkeW5hbWljX2FsbG9jYXRpb25fZW5hYmxlZAogICAgICAgIHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnMgPSBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycwogICAgICAgIHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnMgPSBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9ycwoKICAgICAgICBpc19zcGFya19jb21wb25lbnQgPSBpc2luc3RhbmNlKGNvbXBvbmVudCwgU3BhcmtDb21wb25lbnQpCiAgICAgICAgaWYgaXNfc3BhcmtfY29tcG9uZW50OgogICAgICAgICAgICAjIGNvbmYgaXMgZGljdCBhbmQgd2UgbmVlZCBjb3B5IGNvbXBvbmVudCBjb25mIGhlcmUsIG90aGVyd2lzZSBub2RlIGNvbmYgc2V0dGluZyB3aWxsIGFmZmVjdCBjb21wb25lbnQKICAgICAgICAgICAgIyBzZXR0aW5nCiAgICAgICAgICAgIHNlbGYuY29uZiA9IHNlbGYuY29uZiBvciBjb3B5LmNvcHkoY29tcG9uZW50LmNvbmYpCiAgICAgICAgICAgIHNlbGYuZHJpdmVyX2NvcmVzID0gc2VsZi5kcml2ZXJfY29yZXMgb3IgY29tcG9uZW50LmRyaXZlcl9jb3JlcwogICAgICAgICAgICBzZWxmLmRyaXZlcl9tZW1vcnkgPSBzZWxmLmRyaXZlcl9tZW1vcnkgb3IgY29tcG9uZW50LmRyaXZlcl9tZW1vcnkKICAgICAgICAgICAgc2VsZi5leGVjdXRvcl9jb3JlcyA9IHNlbGYuZXhlY3V0b3JfY29yZXMgb3IgY29tcG9uZW50LmV4ZWN1dG9yX2NvcmVzCiAgICAgICAgICAgIHNlbGYuZXhlY3V0b3JfbWVtb3J5ID0gc2VsZi5leGVjdXRvcl9tZW1vcnkgb3IgY29tcG9uZW50LmV4ZWN1dG9yX21lbW9yeQogICAgICAgICAgICBzZWxmLmV4ZWN1dG9yX2luc3RhbmNlcyA9IHNlbGYuZXhlY3V0b3JfaW5zdGFuY2VzIG9yIGNvbXBvbmVudC5leGVjdXRvcl9pbnN0YW5jZXMKICAgICAgICAgICAgc2VsZi5keW5hbWljX2FsbG9jYXRpb25fZW5hYmxlZCA9IHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQgb3IgY29tcG9uZW50LmR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkCiAgICAgICAgICAgIHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnMgPSAoCiAgICAgICAgICAgICAgICBzZWxmLmR5bmFtaWNfYWxsb2NhdGlvbl9taW5fZXhlY3V0b3JzIG9yIGNvbXBvbmVudC5keW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycwogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnMgPSAoCiAgICAgICAgICAgICAgICBzZWxmLmR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzIG9yIGNvbXBvbmVudC5keW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9ycwogICAgICAgICAgICApCiAgICAgICAgaWYgc2VsZi5leGVjdXRvcl9pbnN0YW5jZXMgaXMgTm9uZSBhbmQgc3RyKHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQpLmxvd2VyKCkgPT0gInRydWUiOgogICAgICAgICAgICBzZWxmLmV4ZWN1dG9yX2luc3RhbmNlcyA9IHNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnMKICAgICAgICAjIFdoZW4gY3JlYXRlIHN0YW5kYWxvbmUgam9iIG9yIHBpcGVsaW5lIGpvYiwgZm9sbG93aW5nIGZpZWxkcyB3aWxsIGFsd2F5cyBnZXQgdmFsdWUgZnJvbSBjb21wb25lbnQgb3IgZ2V0CiAgICAgICAgIyBkZWZhdWx0IE5vbmUsIGJlY2F1c2Ugd2Ugd2lsbCBub3QgcGFzcyB0aG9zZSBmaWVsZHMgdG8gU3BhcmsuIEJ1dCBpbiBmb2xsb3dpbmcgY2FzZXMsIHdlIGV4cGVjdCB0byBnZXQKICAgICAgICAjIGNvcnJlY3QgdmFsdWUgZnJvbSBzcGFyay5fZnJvbV9yZXN0X29iamVjdCgpIGFuZCB0aGVuIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBnZXQgZnJvbSB0aGVpciByZXNwZWN0aXZlCiAgICAgICAgIyBrZXl3b3JkIGFyZ3VtZW50cy4KICAgICAgICAjIDEuIHdoZW4gd2UgY2FsbCByZWdlbmVyYXRlZF9zcGFya19ub2RlPVNwYXJrLl9mcm9tX3Jlc3Rfb2JqZWN0KHNwYXJrX25vZGUuX3RvX3Jlc3Rfb2JqZWN0KCkpIGluIGxvY2FsIHRlc3QsCiAgICAgICAgIyB3ZSBleHBlY3QgcmVnZW5lcmF0ZWRfc3Bhcmtfbm9kZSBhbmQgc3Bhcmtfbm9kZSBhcmUgaWRlbnRpY2FsLgogICAgICAgICMgMi53aGVuIGdldCBjcmVhdGVkIHJlbW90ZSBqb2IgdGhyb3VnaCBKb2IuX2Zyb21fcmVzdF9vYmplY3QocmVzdWx0KSBpbiBqb2Igb3BlcmF0aW9uIHdoZXJlIGNvbXBvbmVudCBpcyBhbgogICAgICAgICMgYXJtX2lkLCB3ZSBleHBlY3QgZ2V0IHJlbW90ZSByZXR1cm5lZCB2YWx1ZXMuCiAgICAgICAgIyAzLndoZW4gd2UgbG9hZCBhIHJlbW90ZSBqb2IsIGNvbXBvbmVudCBub3cgaXMgYW4gYXJtX2lkLCB3ZSBuZWVkIGdldCBlbnRyeSBmcm9tIG5vZGUgbGV2ZWwgcmV0dXJuZWQgZnJvbQogICAgICAgICMgc2VydmljZQogICAgICAgIHNlbGYuZW50cnkgPSBjb21wb25lbnQuZW50cnkgaWYgaXNfc3BhcmtfY29tcG9uZW50IGVsc2UgZW50cnkKICAgICAgICBzZWxmLnB5X2ZpbGVzID0gY29tcG9uZW50LnB5X2ZpbGVzIGlmIGlzX3NwYXJrX2NvbXBvbmVudCBlbHNlIHB5X2ZpbGVzCiAgICAgICAgc2VsZi5qYXJzID0gY29tcG9uZW50LmphcnMgaWYgaXNfc3BhcmtfY29tcG9uZW50IGVsc2UgamFycwogICAgICAgIHNlbGYuZmlsZXMgPSBjb21wb25lbnQuZmlsZXMgaWYgaXNfc3BhcmtfY29tcG9uZW50IGVsc2UgZmlsZXMKICAgICAgICBzZWxmLmFyY2hpdmVzID0gY29tcG9uZW50LmFyY2hpdmVzIGlmIGlzX3NwYXJrX2NvbXBvbmVudCBlbHNlIGFyY2hpdmVzCiAgICAgICAgc2VsZi5hcmdzID0gY29tcG9uZW50LmFyZ3MgaWYgaXNfc3BhcmtfY29tcG9uZW50IGVsc2UgYXJncwogICAgICAgIHNlbGYuZW52aXJvbm1lbnQgPSBjb21wb25lbnQuZW52aXJvbm1lbnQgaWYgaXNfc3BhcmtfY29tcG9uZW50IGVsc2UgTm9uZQoKICAgICAgICBzZWxmLnJlc291cmNlcyA9IHJlc291cmNlcwogICAgICAgIHNlbGYuaWRlbnRpdHkgPSBpZGVudGl0eQogICAgICAgIHNlbGYuX3N3ZXB0ID0gRmFsc2UKICAgICAgICBzZWxmLl9pbml0ID0gRmFsc2UKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3N1cHBvcnRlZF9vdXRwdXRzX3R5cGVzKGNscyk6CiAgICAgICAgcmV0dXJuIHN0ciwgT3V0cHV0CgogICAgQHByb3BlcnR5CiAgICBkZWYgY29tcG9uZW50KHNlbGYpIC0\u002BIFVuaW9uW3N0ciwgU3BhcmtDb21wb25lbnRdOgogICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnQKCiAgICBAcHJvcGVydHkKICAgIGRlZiByZXNvdXJjZXMoc2VsZikgLT4gT3B0aW9uYWxbU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb25dOgogICAgICAgICIiIkNvbXB1dGUgUmVzb3VyY2UgY29uZmlndXJhdGlvbiBmb3IgdGhlIGpvYi4iIiIKCiAgICAgICAgcmV0dXJuIHNlbGYuX3Jlc291cmNlcwoKICAgIEByZXNvdXJjZXMuc2V0dGVyCiAgICBkZWYgcmVzb3VyY2VzKHNlbGYsIHZhbHVlOiBVbmlvbltEaWN0W3N0ciwgc3RyXSwgU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb24sIE5vbmVdKToKICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBkaWN0KToKICAgICAgICAgICAgdmFsdWUgPSBTcGFya1Jlc291cmNlQ29uZmlndXJhdGlvbigqKnZhbHVlKQogICAgICAgIHNlbGYuX3Jlc291cmNlcyA9IHZhbHVlCgogICAgQHByb3BlcnR5CiAgICBkZWYgaWRlbnRpdHkoCiAgICAgICAgc2VsZiwKICAgICkgLT4gT3B0aW9uYWxbVW5pb25bTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXV06CiAgICAgICAgIiIiSWRlbnRpdHkgdGhhdCBzcGFyayBqb2Igd2lsbCB1c2Ugd2hpbGUgcnVubmluZyBvbiBjb21wdXRlLiIiIgogICAgICAgICMgSWYgdGhlcmUgaXMgbm8gaWRlbnRpdHkgZnJvbSBDTEkvU0RLIGlucHV0OiBmb3Igam9icyBydW5uaW5nIG9uIHN5bmFwc2UgY29tcHV0ZSAoTUxDb21wdXRlIENsdXN0ZXJzKSwgdGhlCiAgICAgICAgIyBtYW5hZ2VkIGlkZW50aXR5IGlzIHRoZSBkZWZhdWx0OyBmb3Igam9icyBydW5uaW5nIG9uIGNsdXN0ZXJsZXNzLCB0aGUgdXNlciBpZGVudGl0eSBzaG91bGQgYmUgdGhlIGRlZmF1bHQsCiAgICAgICAgIyBvdGhlcndpc2UgdXNlIHVzZXIgaW5wdXQgaWRlbnRpdHkuCiAgICAgICAgaWYgc2VsZi5faWRlbnRpdHkgaXMgTm9uZToKICAgICAgICAgICAgaWYgc2VsZi5jb21wdXRlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmV0dXJuIE1hbmFnZWRJZGVudGl0eUNvbmZpZ3VyYXRpb24oKQogICAgICAgICAgICBpZiBzZWxmLnJlc291cmNlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uKCkKICAgICAgICByZXR1cm4gc2VsZi5faWRlbnRpdHkKCiAgICBAaWRlbnRpdHkuc2V0dGVyCiAgICBkZWYgaWRlbnRpdHkoCiAgICAgICAgc2VsZiwKICAgICAgICB2YWx1ZTogVW5pb25bCiAgICAgICAgICAgIERpY3Rbc3RyLCBzdHJdLCBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLCBBbWxUb2tlbkNvbmZpZ3VyYXRpb24sIFVzZXJJZGVudGl0eUNvbmZpZ3VyYXRpb24sIE5vbmUKICAgICAgICBdLAogICAgKToKICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBkaWN0KToKICAgICAgICAgICAgaWRlbnRpZnlfc2NoZW1hID0gVW5pb25GaWVsZCgKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICBOZXN0ZWRGaWVsZChNYW5hZ2VkSWRlbnRpdHlTY2hlbWEsIHVua25vd249SU5DTFVERSksCiAgICAgICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoQU1MVG9rZW5JZGVudGl0eVNjaGVtYSwgdW5rbm93bj1JTkNMVURFKSwKICAgICAgICAgICAgICAgICAgICBOZXN0ZWRGaWVsZChVc2VySWRlbnRpdHlTY2hlbWEsIHVua25vd249SU5DTFVERSksCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICkKICAgICAgICAgICAgdmFsdWUgPSBpZGVudGlmeV9zY2hlbWEuX2Rlc2VyaWFsaXplKHZhbHVlPXZhbHVlLCBhdHRyPU5vbmUsIGRhdGE9Tm9uZSkKICAgICAgICBzZWxmLl9pZGVudGl0eSA9IHZhbHVlCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29kZShzZWxmKSAtPiBPcHRpb25hbFtVbmlvbltzdHIsIFBhdGhMaWtlXV06CiAgICAgICAgcmV0dXJuIHNlbGYuY29tcG9uZW50LmNvZGUgaWYgaGFzYXR0cihzZWxmLmNvbXBvbmVudCwgImNvZGUiKSBlbHNlIE5vbmUKCiAgICBAY29kZS5zZXR0ZXIKICAgIGRlZiBjb2RlKHNlbGYsIHZhbHVlOiBzdHIpIC0\u002BIE5vbmU6CiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmNvbXBvbmVudCwgQ29tcG9uZW50KToKICAgICAgICAgICAgc2VsZi5jb21wb25lbnQuY29kZSA9IHZhbHVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbXNnID0gIkNhbid0IHNldCBjb2RlIHByb3BlcnR5IGZvciBhIHJlZ2lzdGVyZWQgY29tcG9uZW50IHt9IgogICAgICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgbWVzc2FnZT1tc2cuZm9ybWF0KHNlbGYuY29tcG9uZW50KSwKICAgICAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2cuZm9ybWF0KHNlbGYuY29tcG9uZW50KSwKICAgICAgICAgICAgICAgIHRhcmdldD1FcnJvclRhcmdldC5TUEFSS19KT0IsCiAgICAgICAgICAgICAgICBlcnJvcl9jYXRlZ29yeT1FcnJvckNhdGVnb3J5LlVTRVJfRVJST1IsCiAgICAgICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdF90b19pbml0X3BhcmFtcyhjbHMsIG9iajogZGljdCkgLT4gRGljdDoKICAgICAgICBvYmogPSBzdXBlcigpLl9mcm9tX3Jlc3Rfb2JqZWN0X3RvX2luaXRfcGFyYW1zKG9iaikKCiAgICAgICAgaWYgInJlc291cmNlcyIgaW4gb2JqIGFuZCBvYmpbInJlc291cmNlcyJdOgogICAgICAgICAgICByZXNvdXJjZXMgPSBSZXN0U3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb24uZnJvbV9kaWN0KG9ialsicmVzb3VyY2VzIl0pCiAgICAgICAgICAgIG9ialsicmVzb3VyY2VzIl0gPSBTcGFya1Jlc291cmNlQ29uZmlndXJhdGlvbi5fZnJvbV9yZXN0X29iamVjdChyZXNvdXJjZXMpCgogICAgICAgIGlmICJpZGVudGl0eSIgaW4gb2JqIGFuZCBvYmpbImlkZW50aXR5Il06CiAgICAgICAgICAgIGlkZW50aXR5ID0gSWRlbnRpdHlDb25maWd1cmF0aW9uLmZyb21fZGljdChvYmpbImlkZW50aXR5Il0pCiAgICAgICAgICAgIG9ialsiaWRlbnRpdHkiXSA9IF9CYXNlSm9iSWRlbnRpdHlDb25maWd1cmF0aW9uLl9mcm9tX3Jlc3Rfb2JqZWN0KGlkZW50aXR5KQoKICAgICAgICBpZiAiZW50cnkiIGluIG9iaiBhbmQgb2JqWyJlbnRyeSJdOgogICAgICAgICAgICBlbnRyeSA9IFJlc3RTcGFya0pvYkVudHJ5LmZyb21fZGljdChvYmpbImVudHJ5Il0pCiAgICAgICAgICAgIG9ialsiZW50cnkiXSA9IFNwYXJrSm9iRW50cnkuX2Zyb21fcmVzdF9vYmplY3QoZW50cnkpCiAgICAgICAgaWYgImNvbmYiIGluIG9iaiBhbmQgb2JqWyJjb25mIl06CiAgICAgICAgICAgIGlkZW50aWZ5X3NjaGVtYSA9IFVuaW9uRmllbGQoCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoU3BhcmtDb25mU2NoZW1hLCB1bmtub3duPUlOQ0xVREUpLAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICApCiAgICAgICAgICAgIG9ialsiY29uZiJdID0gaWRlbnRpZnlfc2NoZW1hLl9kZXNlcmlhbGl6ZSh2YWx1ZT1vYmpbImNvbmYiXSwgYXR0cj1Ob25lLCBkYXRhPU5vbmUpCgogICAgICAgICAgICAjIGdldCBjb25mIHNldHRpbmcgdmFsdWUgZnJvbSBjb25mCiAgICAgICAgICAgIGZvciBmaWVsZF9uYW1lLCBfIGluIENPTkZfS0VZX01BUC5pdGVtcygpOgogICAgICAgICAgICAgICAgdmFsdWUgPSBvYmpbImNvbmYiXS5nZXQoZmllbGRfbmFtZSwgTm9uZSkKICAgICAgICAgICAgICAgIGlmIHZhbHVlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgIG9ialtmaWVsZF9uYW1lXSA9IHZhbHVlCgogICAgICAgIHJldHVybiBvYmoKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfbG9hZF9mcm9tX2RpY3QoY2xzLCBkYXRhOiBEaWN0LCBjb250ZXh0OiBEaWN0LCBhZGRpdGlvbmFsX21lc3NhZ2U6IHN0ciwgKiprd2FyZ3MpIC0\u002BICJTcGFyayI6CiAgICAgICAgZnJvbSAuc3BhcmtfZnVuYyBpbXBvcnQgc3BhcmsKCiAgICAgICAgbG9hZGVkX2RhdGEgPSBsb2FkX2Zyb21fZGljdChTcGFya0pvYlNjaGVtYSwgZGF0YSwgY29udGV4dCwgYWRkaXRpb25hbF9tZXNzYWdlLCAqKmt3YXJncykKICAgICAgICBzcGFya19qb2IgPSBzcGFyayhiYXNlX3BhdGg9Y29udGV4dFtCQVNFX1BBVEhfQ09OVEVYVF9LRVldLCAqKmxvYWRlZF9kYXRhKQoKICAgICAgICByZXR1cm4gc3Bhcmtfam9iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2xvYWRfZnJvbV9yZXN0X2pvYihjbHMsIG9iajogSm9iQmFzZURhdGEpIC0\u002BICJTcGFyayI6CiAgICAgICAgZnJvbSAuc3BhcmtfZnVuYyBpbXBvcnQgc3BhcmsKCiAgICAgICAgcmVzdF9zcGFya19qb2I6IFJlc3RTcGFya0pvYiA9IG9iai5wcm9wZXJ0aWVzCiAgICAgICAgaWRlbnRpZnlfc2NoZW1hID0gVW5pb25GaWVsZCgKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgTmVzdGVkRmllbGQoU3BhcmtDb25mU2NoZW1hLCB1bmtub3duPUlOQ0xVREUpLAogICAgICAgICAgICBdCiAgICAgICAgKQogICAgICAgIHJlc3Rfc3BhcmtfY29uZiA9IGNvcHkuY29weShyZXN0X3NwYXJrX2pvYi5jb25mKSBvciB7fQogICAgICAgIHJlc3Rfc3BhcmtfY29uZiA9IGlkZW50aWZ5X3NjaGVtYS5fZGVzZXJpYWxpemUodmFsdWU9cmVzdF9zcGFya19jb25mLCBhdHRyPU5vbmUsIGRhdGE9Tm9uZSkKCiAgICAgICAgc3Bhcmtfam9iID0gc3BhcmsoCiAgICAgICAgICAgIG5hbWU9b2JqLm5hbWUsCiAgICAgICAgICAgIGlkPW9iai5pZCwKICAgICAgICAgICAgZW50cnk9U3BhcmtKb2JFbnRyeS5fZnJvbV9yZXN0X29iamVjdChyZXN0X3NwYXJrX2pvYi5lbnRyeSksCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1yZXN0X3NwYXJrX2pvYi5kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXJlc3Rfc3Bhcmtfam9iLmRlc2NyaXB0aW9uLAogICAgICAgICAgICB0YWdzPXJlc3Rfc3Bhcmtfam9iLnRhZ3MsCiAgICAgICAgICAgIHByb3BlcnRpZXM9cmVzdF9zcGFya19qb2IucHJvcGVydGllcywKICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPXJlc3Rfc3Bhcmtfam9iLmV4cGVyaW1lbnRfbmFtZSwKICAgICAgICAgICAgc2VydmljZXM9cmVzdF9zcGFya19qb2Iuc2VydmljZXMsCiAgICAgICAgICAgIHN0YXR1cz1yZXN0X3NwYXJrX2pvYi5zdGF0dXMsCiAgICAgICAgICAgIGNyZWF0aW9uX2NvbnRleHQ9b2JqLnN5c3RlbV9kYXRhLAogICAgICAgICAgICBjb2RlPXJlc3Rfc3Bhcmtfam9iLmNvZGVfaWQsCiAgICAgICAgICAgIGNvbXB1dGU9cmVzdF9zcGFya19qb2IuY29tcHV0ZV9pZCwKICAgICAgICAgICAgZW52aXJvbm1lbnQ9cmVzdF9zcGFya19qb2IuZW52aXJvbm1lbnRfaWQsCiAgICAgICAgICAgIGlkZW50aXR5PV9CYXNlSm9iSWRlbnRpdHlDb25maWd1cmF0aW9uLl9mcm9tX3Jlc3Rfb2JqZWN0KHJlc3Rfc3Bhcmtfam9iLmlkZW50aXR5KQogICAgICAgICAgICBpZiByZXN0X3NwYXJrX2pvYi5pZGVudGl0eQogICAgICAgICAgICBlbHNlIE5vbmUsCiAgICAgICAgICAgIGFyZ3M9cmVzdF9zcGFya19qb2IuYXJncywKICAgICAgICAgICAgY29uZj1yZXN0X3NwYXJrX2NvbmYsCiAgICAgICAgICAgIGRyaXZlcl9jb3Jlcz1yZXN0X3NwYXJrX2NvbmYuZ2V0KAogICAgICAgICAgICAgICAgU3BhcmtDb25mS2V5LkRSSVZFUl9DT1JFUywgTm9uZQogICAgICAgICAgICApLCAgIyBjb3B5IGZpZWxkcyBmcm9tIGNvbmYgaW50byB0aGUgcHJvbW90ZSBhdHRyaWJ1dGUgaW4gc3BhcmsKICAgICAgICAgICAgZHJpdmVyX21lbW9yeT1yZXN0X3NwYXJrX2NvbmYuZ2V0KFNwYXJrQ29uZktleS5EUklWRVJfTUVNT1JZLCBOb25lKSwKICAgICAgICAgICAgZXhlY3V0b3JfY29yZXM9cmVzdF9zcGFya19jb25mLmdldChTcGFya0NvbmZLZXkuRVhFQ1VUT1JfQ09SRVMsIE5vbmUpLAogICAgICAgICAgICBleGVjdXRvcl9tZW1vcnk9cmVzdF9zcGFya19jb25mLmdldChTcGFya0NvbmZLZXkuRVhFQ1VUT1JfTUVNT1JZLCBOb25lKSwKICAgICAgICAgICAgZXhlY3V0b3JfaW5zdGFuY2VzPXJlc3Rfc3BhcmtfY29uZi5nZXQoU3BhcmtDb25mS2V5LkVYRUNVVE9SX0lOU1RBTkNFUywgTm9uZSksCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkPXJlc3Rfc3BhcmtfY29uZi5nZXQoU3BhcmtDb25mS2V5LkRZTkFNSUNfQUxMT0NBVElPTl9FTkFCTEVELCBOb25lKSwKICAgICAgICAgICAgZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnM9cmVzdF9zcGFya19jb25mLmdldChTcGFya0NvbmZLZXkuRFlOQU1JQ19BTExPQ0FUSU9OX01JTl9FWEVDVVRPUlMsIE5vbmUpLAogICAgICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9ycz1yZXN0X3NwYXJrX2NvbmYuZ2V0KFNwYXJrQ29uZktleS5EWU5BTUlDX0FMTE9DQVRJT05fTUFYX0VYRUNVVE9SUywgTm9uZSksCiAgICAgICAgICAgIHJlc291cmNlcz1TcGFya1Jlc291cmNlQ29uZmlndXJhdGlvbi5fZnJvbV9yZXN0X29iamVjdChyZXN0X3NwYXJrX2pvYi5yZXNvdXJjZXMpLAogICAgICAgICAgICBpbnB1dHM9ZnJvbV9yZXN0X2lucHV0c190b19kYXRhc2V0X2xpdGVyYWwocmVzdF9zcGFya19qb2IuaW5wdXRzKSwKICAgICAgICAgICAgb3V0cHV0cz1mcm9tX3Jlc3RfZGF0YV9vdXRwdXRzKHJlc3Rfc3Bhcmtfam9iLm91dHB1dHMpLAogICAgICAgICkKICAgICAgICByZXR1cm4gc3Bhcmtfam9iCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2F0dHJfdHlwZV9tYXAoY2xzKSAtPiBkaWN0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICMgaGFjazogYWxsb3cgdXNlIEludGVybmFsU3BhcmtDb21wb25lbnQgYXMgY29tcG9uZW50CiAgICAgICAgICAgICMgImNvbXBvbmVudCI6IChzdHIsIFNwYXJrQ29tcG9uZW50KSwKICAgICAgICAgICAgImVudmlyb25tZW50IjogKHN0ciwgRW52aXJvbm1lbnQpLAogICAgICAgICAgICAicmVzb3VyY2VzIjogKGRpY3QsIFNwYXJrUmVzb3VyY2VDb25maWd1cmF0aW9uKSwKICAgICAgICAgICAgImNvZGUiOiAoc3RyLCBQYXRoTGlrZSksCiAgICAgICAgfQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIF9za2lwX3JlcXVpcmVkX2NvbXB1dGVfbWlzc2luZ192YWxpZGF0aW9uKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnJlc291cmNlcyBpcyBub3QgTm9uZQoKICAgIGRlZiBfdG9fam9iKHNlbGYpIC0\u002BIFNwYXJrSm9iOgogICAgICAgIHJldHVybiBTcGFya0pvYigKICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPXNlbGYuZXhwZXJpbWVudF9uYW1lLAogICAgICAgICAgICBuYW1lPXNlbGYubmFtZSwKICAgICAgICAgICAgZGlzcGxheV9uYW1lPXNlbGYuZGlzcGxheV9uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1zZWxmLmRlc2NyaXB0aW9uLAogICAgICAgICAgICB0YWdzPXNlbGYudGFncywKICAgICAgICAgICAgY29kZT1zZWxmLmNvbXBvbmVudC5jb2RlLAogICAgICAgICAgICBlbnRyeT1zZWxmLmVudHJ5LAogICAgICAgICAgICBweV9maWxlcz1zZWxmLnB5X2ZpbGVzLAogICAgICAgICAgICBqYXJzPXNlbGYuamFycywKICAgICAgICAgICAgZmlsZXM9c2VsZi5maWxlcywKICAgICAgICAgICAgYXJjaGl2ZXM9c2VsZi5hcmNoaXZlcywKICAgICAgICAgICAgaWRlbnRpdHk9c2VsZi5pZGVudGl0eSwKICAgICAgICAgICAgZHJpdmVyX2NvcmVzPXNlbGYuZHJpdmVyX2NvcmVzLAogICAgICAgICAgICBkcml2ZXJfbWVtb3J5PXNlbGYuZHJpdmVyX21lbW9yeSwKICAgICAgICAgICAgZXhlY3V0b3JfY29yZXM9c2VsZi5leGVjdXRvcl9jb3JlcywKICAgICAgICAgICAgZXhlY3V0b3JfbWVtb3J5PXNlbGYuZXhlY3V0b3JfbWVtb3J5LAogICAgICAgICAgICBleGVjdXRvcl9pbnN0YW5jZXM9c2VsZi5leGVjdXRvcl9pbnN0YW5jZXMsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkPXNlbGYuZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9taW5fZXhlY3V0b3JzPXNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnMsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzPXNlbGYuZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnMsCiAgICAgICAgICAgIGNvbmY9c2VsZi5jb25mLAogICAgICAgICAgICBlbnZpcm9ubWVudD1zZWxmLmVudmlyb25tZW50LAogICAgICAgICAgICBzdGF0dXM9c2VsZi5zdGF0dXMsCiAgICAgICAgICAgIGlucHV0cz1zZWxmLl9qb2JfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPXNlbGYuX2pvYl9vdXRwdXRzLAogICAgICAgICAgICBzZXJ2aWNlcz1zZWxmLnNlcnZpY2VzLAogICAgICAgICAgICBhcmdzPXNlbGYuYXJncywKICAgICAgICAgICAgY29tcHV0ZT1zZWxmLmNvbXB1dGUsCiAgICAgICAgICAgIHJlc291cmNlcz1zZWxmLnJlc291cmNlcywKICAgICAgICApCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX2NyZWF0ZV9zY2hlbWFfZm9yX3ZhbGlkYXRpb24oY2xzLCBjb250ZXh0KSAtPiBVbmlvbltQYXRoQXdhcmVTY2hlbWEsIFNjaGVtYV06CiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5fc2NoZW1hLnBpcGVsaW5lIGltcG9ydCBTcGFya1NjaGVtYQoKICAgICAgICByZXR1cm4gU3BhcmtTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9waWNrZWRfZmllbGRzX2Zyb21fZGljdF90b19yZXN0X29iamVjdChjbHMpIC0\u002BIExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAidHlwZSIsCiAgICAgICAgICAgICJyZXNvdXJjZXMiLAogICAgICAgICAgICAicHlfZmlsZXMiLAogICAgICAgICAgICAiamFycyIsCiAgICAgICAgICAgICJmaWxlcyIsCiAgICAgICAgICAgICJhcmNoaXZlcyIsCiAgICAgICAgICAgICJpZGVudGl0eSIsCiAgICAgICAgICAgICJjb25mIiwKICAgICAgICAgICAgImFyZ3MiLAogICAgICAgIF0KCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHJlc3Rfb2JqID0gc3VwZXIoKS5fdG9fcmVzdF9vYmplY3QoKiprd2FyZ3MpCiAgICAgICAgcmVzdF9vYmoudXBkYXRlKAogICAgICAgICAgICBjb252ZXJ0X29yZGVyZWRfZGljdF90b19kaWN0KAogICAgICAgICAgICAgICAgZGljdCgKICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZD1zZWxmLl9nZXRfY29tcG9uZW50X2lkKCksCiAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHk9Z2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycyhzZWxmLmlkZW50aXR5KSwKICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM9Z2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycyhzZWxmLnJlc291cmNlcyksCiAgICAgICAgICAgICAgICAgICAgZW50cnk9Z2V0X3Jlc3RfZGljdF9mb3Jfbm9kZV9hdHRycyhzZWxmLmVudHJ5KSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICByZXR1cm4gcmVzdF9vYmoKCiAgICBkZWYgX2J1aWxkX2lucHV0cyhzZWxmKToKICAgICAgICBpbnB1dHMgPSBzdXBlcihTcGFyaywgc2VsZikuX2J1aWxkX2lucHV0cygpCiAgICAgICAgYnVpbHRfaW5wdXRzID0ge30KICAgICAgICAjIFZhbGlkYXRlIGFuZCByZW1vdmUgbm9uLXNwZWNpZmllZCBpbnB1dHMKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBpbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgaWYgdmFsdWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBidWlsdF9pbnB1dHNba2V5XSA9IHZhbHVlCiAgICAgICAgcmV0dXJuIGJ1aWx0X2lucHV0cwoKICAgIGRlZiBfY3VzdG9taXplZF92YWxpZGF0ZShzZWxmKToKICAgICAgICByZXN1bHQgPSBzdXBlcigpLl9jdXN0b21pemVkX3ZhbGlkYXRlKCkKICAgICAgICBpZiAoCiAgICAgICAgICAgIGlzaW5zdGFuY2Uoc2VsZi5jb21wb25lbnQsIFNwYXJrQ29tcG9uZW50KQogICAgICAgICAgICBhbmQgaXNpbnN0YW5jZShzZWxmLmNvbXBvbmVudC5fZW52aXJvbm1lbnQsIEVudmlyb25tZW50KQogICAgICAgICAgICBhbmQgc2VsZi5jb21wb25lbnQuX2Vudmlyb25tZW50LmltYWdlIGlzIG5vdCBOb25lCiAgICAgICAgKToKICAgICAgICAgICAgcmVzdWx0LmFwcGVuZF93YXJuaW5nKAogICAgICAgICAgICAgICAgeWFtbF9wYXRoPSJlbnZpcm9ubWVudC5pbWFnZSIsCiAgICAgICAgICAgICAgICBtZXNzYWdlPVNQQVJLX0VOVklST05NRU5UX1dBUk5JTkdfTUVTU0FHRSwKICAgICAgICAgICAgKQogICAgICAgIHJlc3VsdC5tZXJnZV93aXRoKHNlbGYuX3ZhbGlkYXRlX2VudHJ5X2V4aXN0KHJhaXNlX2Vycm9yPUZhbHNlKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuX3ZhbGlkYXRlX2ZpZWxkcygpCiAgICAgICAgZXhjZXB0IFZhbGlkYXRpb25FeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmVzdWx0LmFwcGVuZF9lcnJvcih5YW1sX3BhdGg9IioiLCBtZXNzYWdlPXN0cihlKSkKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIF92YWxpZGF0ZV9lbnRyeV9leGlzdChzZWxmLCByYWlzZV9lcnJvcj1GYWxzZSkgLT4gTXV0YWJsZVZhbGlkYXRpb25SZXN1bHQ6CiAgICAgICAgaXNfcmVtb3RlX2NvZGUgPSBpc2luc3RhbmNlKHNlbGYuY29kZSwgc3RyKSBhbmQgKAogICAgICAgICAgICBzZWxmLmNvZGUuc3RhcnRzd2l0aCgiZ2l0KyIpCiAgICAgICAgICAgIG9yIHNlbGYuY29kZS5zdGFydHN3aXRoKFJFR0lTVFJZX1VSSV9GT1JNQVQpCiAgICAgICAgICAgIG9yIHNlbGYuY29kZS5zdGFydHN3aXRoKEFSTV9JRF9QUkVGSVgpCiAgICAgICAgICAgIG9yIGlzX3VybChzZWxmLmNvZGUpCiAgICAgICAgICAgIG9yIGJvb2woc2VsZi5DT0RFX0lEX1JFX1BBVFRFUk4ubWF0Y2goc2VsZi5jb2RlKSkKICAgICAgICApCiAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQgPSBzZWxmLl9jcmVhdGVfZW1wdHlfdmFsaWRhdGlvbl9yZXN1bHQoKQogICAgICAgICMgdmFsaWRhdGUgd2hldGhlciBjb21wb25lbnQgZW50cnkgZXhpc3RzIHRvIGVuc3VyZSBjb2RlIHBhdGggaXMgY29ycmVjdCwgZXNwZWNpYWxseSB3aGVuIGNvZGUgaXMgZGVmYXVsdCB2YWx1ZQogICAgICAgIGlmIHNlbGYuY29kZSBpcyBOb25lIG9yIGlzX3JlbW90ZV9jb2RlIG9yIG5vdCBpc2luc3RhbmNlKHNlbGYuZW50cnksIFNwYXJrSm9iRW50cnkpOgogICAgICAgICAgICAjIHNraXAgdmFsaWRhdGUgd2hlbiBjb2RlIGlzIG5vdCBhIGxvY2FsIHBhdGggb3IgY29kZSBpcyBOb25lLCBvciBzZWxmLmVudHJ5IGlzIG5vdCBTcGFya0pvYkVudHJ5IG9iamVjdAogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbm90IHBhdGguaXNhYnMoc2VsZi5jb2RlKToKICAgICAgICAgICAgICAgIGNvZGVfcGF0aCA9IFBhdGgoc2VsZi5jb21wb25lbnQuYmFzZV9wYXRoKSAvIHNlbGYuY29kZQogICAgICAgICAgICAgICAgaWYgY29kZV9wYXRoLmV4aXN0cygpOgogICAgICAgICAgICAgICAgICAgIGNvZGVfcGF0aCA9IGNvZGVfcGF0aC5yZXNvbHZlKCkuYWJzb2x1dGUoKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdC5hcHBlbmRfZXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ZiJDb2RlIHBhdGgge2NvZGVfcGF0aH0gZG9lc24ndCBleGlzdC4iLCB5YW1sX3BhdGg9ImNvbXBvbmVudC5jb2RlIgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVudHJ5X3BhdGggPSBjb2RlX3BhdGggLyBzZWxmLmVudHJ5LmVudHJ5CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBlbnRyeV9wYXRoID0gUGF0aChzZWxmLmNvZGUpIC8gc2VsZi5lbnRyeS5lbnRyeQoKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgaXNpbnN0YW5jZShzZWxmLmVudHJ5LCBTcGFya0pvYkVudHJ5KQogICAgICAgICAgICAgICAgYW5kIHNlbGYuZW50cnkuZW50cnlfdHlwZSA9PSBTcGFya0pvYkVudHJ5VHlwZS5TUEFSS19KT0JfRklMRV9FTlRSWQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgaWYgbm90IGVudHJ5X3BhdGguZXhpc3RzKCk6CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXN1bHQuYXBwZW5kX2Vycm9yKAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPWYiRW50cnkge2VudHJ5X3BhdGh9IGRvZXNuJ3QgZXhpc3QuIiwgeWFtbF9wYXRoPSJjb21wb25lbnQuZW50cnkiCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgIHJldHVybiB2YWxpZGF0aW9uX3Jlc3VsdC50cnlfcmFpc2UoZXJyb3JfdGFyZ2V0PXNlbGYuX2dldF92YWxpZGF0aW9uX2Vycm9yX3RhcmdldCgpLCByYWlzZV9lcnJvcj1yYWlzZV9lcnJvcikKCiAgICBkZWYgX3ZhbGlkYXRlX2ZpZWxkcyhzZWxmKSAtPiBOb25lOgogICAgICAgIF92YWxpZGF0ZV9jb21wdXRlX29yX3Jlc291cmNlcyhzZWxmLmNvbXB1dGUsIHNlbGYucmVzb3VyY2VzKQogICAgICAgIF92YWxpZGF0ZV9pbnB1dF9vdXRwdXRfbW9kZShzZWxmLmlucHV0cywgc2VsZi5vdXRwdXRzKQogICAgICAgIF92YWxpZGF0ZV9zcGFya19jb25maWd1cmF0aW9ucyhzZWxmKQogICAgICAgIHNlbGYuX3ZhbGlkYXRlX2VudHJ5KCkKCiAgICAgICAgaWYgc2VsZi5hcmdzOgogICAgICAgICAgICB2YWxpZGF0ZV9pbnB1dHNfZm9yX2FyZ3Moc2VsZi5hcmdzLCBzZWxmLmlucHV0cykKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKSAtPiAiU3BhcmsiOgogICAgICAgICIiIkNhbGwgU3BhcmsgYXMgYSBmdW5jdGlvbiB3aWxsIHJldHVybiBhIG5ldyBpbnN0YW5jZSBlYWNoIHRpbWUuIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLl9jb21wb25lbnQsIENvbXBvbmVudCk6CiAgICAgICAgICAgICMgY2FsbCB0aGlzIHRvIHZhbGlkYXRlIGlucHV0cwogICAgICAgICAgICBub2RlID0gc2VsZi5fY29tcG9uZW50KCphcmdzLCAqKmt3YXJncykKICAgICAgICAgICAgIyBtZXJnZSBpbnB1dHMKICAgICAgICAgICAgZm9yIG5hbWUsIG9yaWdpbmFsX2lucHV0IGluIHNlbGYuaW5wdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBuYW1lIG5vdCBpbiBrd2FyZ3Mua2V5cygpOgogICAgICAgICAgICAgICAgICAgICMgdXNlIHNldGF0dHIgaGVyZSB0byBtYWtlIHN1cmUgb3duZXIgb2YgaW5wdXQgd29uJ3QgY2hhbmdlCiAgICAgICAgICAgICAgICAgICAgc2V0YXR0cihub2RlLmlucHV0cywgbmFtZSwgb3JpZ2luYWxfaW5wdXQuX2RhdGEpCiAgICAgICAgICAgICAgICAgICAgbm9kZS5fam9iX2lucHV0c1tuYW1lXSA9IG9yaWdpbmFsX2lucHV0Ll9kYXRhCiAgICAgICAgICAgICAgICAjIGdldCBvdXRwdXRzCiAgICAgICAgICAgIGZvciBuYW1lLCBvcmlnaW5hbF9vdXRwdXQgaW4gc2VsZi5vdXRwdXRzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAjIHVzZSBzZXRhdHRyIGhlcmUgdG8gbWFrZSBzdXJlIG93bmVyIG9mIG91dHB1dCB3b24ndCBjaGFuZ2UKICAgICAgICAgICAgICAgIHNldGF0dHIobm9kZS5vdXRwdXRzLCBuYW1lLCBvcmlnaW5hbF9vdXRwdXQuX2RhdGEpCiAgICAgICAgICAgIHNlbGYuX3JlZmluZV9vcHRpb25hbF9pbnB1dHNfd2l0aF9ub192YWx1ZShub2RlLCBrd2FyZ3MpCiAgICAgICAgICAgIG5vZGUuX25hbWUgPSBzZWxmLm5hbWUKICAgICAgICAgICAgbm9kZS5jb21wdXRlID0gc2VsZi5jb21wdXRlCiAgICAgICAgICAgIG5vZGUuZW52aXJvbm1lbnQgPSBjb3B5LmRlZXBjb3B5KHNlbGYuZW52aXJvbm1lbnQpCiAgICAgICAgICAgIG5vZGUucmVzb3VyY2VzID0gY29weS5kZWVwY29weShzZWxmLnJlc291cmNlcykKICAgICAgICAgICAgcmV0dXJuIG5vZGUKCiAgICAgICAgbXNnID0gIlNwYXJrIGNhbiBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbiBvbmx5IHdoZW4gcmVmZXJlbmNlZCBjb21wb25lbnQgaXMge30sIGN1cnJlbnRseSBnb3Qge30uIgogICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdCh0eXBlKENvbXBvbmVudCksIHNlbGYuX2NvbXBvbmVudCksCiAgICAgICAgICAgIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2cuZm9ybWF0KHR5cGUoQ29tcG9uZW50KSwgInNlbGYuX2NvbXBvbmVudCIpLAogICAgICAgICAgICB0YXJnZXQ9RXJyb3JUYXJnZXQuU1BBUktfSk9CLAogICAgICAgICkK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "CG3nTVjefchT/cdOV9nmYw==",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "ETag": "\u00220x8DB26456C4090EA\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "H8I253VKLLQ=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/spark_func.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "11948",
        "Content-MD5": "6jR9zRMrmq8rTT7Eze7utA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcywgdG9vLW1hbnktbG9jYWxzCgppbXBvcnQgb3MKZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVHVwbGUsIFVuaW9uCgpmcm9tIGF6dXJlLmFpLm1sLl9yZXN0Y2xpZW50LnYyMDIzXzAyXzAxX3ByZXZpZXcubW9kZWxzIGltcG9ydCBBbWxUb2tlbiwgTWFuYWdlZElkZW50aXR5LCBVc2VySWRlbnRpdHkKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbW1vbiBpbXBvcnQgQXNzZXRUeXBlcwpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tcG9uZW50IGltcG9ydCBDb21wb25lbnRTb3VyY2UKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcyBpbXBvcnQgRW52aXJvbm1lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY29tcG9uZW50LnNwYXJrX2NvbXBvbmVudCBpbXBvcnQgU3BhcmtDb21wb25lbnQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IElucHV0LCBPdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnBpcGVsaW5lLl9jb21wb25lbnRfdHJhbnNsYXRhYmxlIGltcG9ydCBDb21wb25lbnRUcmFuc2xhdGFibGVNaXhpbgpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuc3Bhcmtfam9iX2VudHJ5IGltcG9ydCBTcGFya0pvYkVudHJ5CmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5zcGFya19yZXNvdXJjZV9jb25maWd1cmF0aW9uIGltcG9ydCBTcGFya1Jlc291cmNlQ29uZmlndXJhdGlvbgpmcm9tIGF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMgaW1wb3J0IEVycm9yVGFyZ2V0LCBWYWxpZGF0aW9uRXhjZXB0aW9uCgpmcm9tIC5zcGFyayBpbXBvcnQgU3BhcmsKClNVUFBPUlRFRF9JTlBVVFMgPSBbQXNzZXRUeXBlcy5VUklfRklMRSwgQXNzZXRUeXBlcy5VUklfRk9MREVSLCBBc3NldFR5cGVzLk1MVEFCTEVdCgoKZGVmIF9wYXJzZV9pbnB1dChpbnB1dF92YWx1ZSk6CiAgICBjb21wb25lbnRfaW5wdXQsIGpvYl9pbnB1dCA9IE5vbmUsIE5vbmUKICAgIGlmIGlzaW5zdGFuY2UoaW5wdXRfdmFsdWUsIElucHV0KToKICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCgqKmlucHV0X3ZhbHVlLl90b19kaWN0KCkpCiAgICAgICAgaW5wdXRfdHlwZSA9IGlucHV0X3ZhbHVlLnR5cGUKICAgICAgICBpZiBpbnB1dF90eXBlIGluIFNVUFBPUlRFRF9JTlBVVFM6CiAgICAgICAgICAgIGpvYl9pbnB1dCA9IElucHV0KCoqaW5wdXRfdmFsdWUuX3RvX2RpY3QoKSkKICAgIGVsaWYgaXNpbnN0YW5jZShpbnB1dF92YWx1ZSwgZGljdCk6CiAgICAgICAgIyBpZiB1c2VyIHByb3ZpZGVkIGRpY3QsIHdlIHRyeSB0byBwYXJzZSBpdCB0byBJbnB1dC4KICAgICAgICAjIGZvciBqb2IgaW5wdXQsIG9ubHkgcGFyc2UgZm9yIHBhdGggdHlwZQogICAgICAgIGlucHV0X3R5cGUgPSBpbnB1dF92YWx1ZS5nZXQoInR5cGUiLCBOb25lKQogICAgICAgIGlmIGlucHV0X3R5cGUgaW4gU1VQUE9SVEVEX0lOUFVUUzoKICAgICAgICAgICAgam9iX2lucHV0ID0gSW5wdXQoKippbnB1dF92YWx1ZSkKICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCgqKmlucHV0X3ZhbHVlKQogICAgZWxpZiBpc2luc3RhbmNlKGlucHV0X3ZhbHVlLCAoc3RyLCBib29sLCBpbnQsIGZsb2F0KSk6CiAgICAgICAgIyBJbnB1dCBiaW5kaW5ncyBhcmUgbm90IHN1cHBvcnRlZAogICAgICAgIGNvbXBvbmVudF9pbnB1dCA9IENvbXBvbmVudFRyYW5zbGF0YWJsZU1peGluLl90b19pbnB1dF9idWlsZGVyX2Z1bmN0aW9uKGlucHV0X3ZhbHVlKQogICAgICAgIGpvYl9pbnB1dCA9IGlucHV0X3ZhbHVlCiAgICBlbHNlOgogICAgICAgIG1zZyA9IGYiVW5zdXBwb3J0ZWQgaW5wdXQgdHlwZToge3R5cGUoaW5wdXRfdmFsdWUpfSwgb25seSBJbnB1dCwgZGljdCwgc3RyLCBib29sLCBpbnQgYW5kIGZsb2F0IGFyZSBzdXBwb3J0ZWQuIgogICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24obWVzc2FnZT1tc2csIG5vX3BlcnNvbmFsX2RhdGFfbWVzc2FnZT1tc2csIHRhcmdldD1FcnJvclRhcmdldC5KT0IpCiAgICByZXR1cm4gY29tcG9uZW50X2lucHV0LCBqb2JfaW5wdXQKCgpkZWYgX3BhcnNlX291dHB1dChvdXRwdXRfdmFsdWUpOgogICAgY29tcG9uZW50X291dHB1dCwgam9iX291dHB1dCA9IE5vbmUsIE5vbmUKICAgIGlmIGlzaW5zdGFuY2Uob3V0cHV0X3ZhbHVlLCBPdXRwdXQpOgogICAgICAgIGNvbXBvbmVudF9vdXRwdXQgPSBPdXRwdXQoKipvdXRwdXRfdmFsdWUuX3RvX2RpY3QoKSkKICAgICAgICBqb2Jfb3V0cHV0ID0gT3V0cHV0KCoqb3V0cHV0X3ZhbHVlLl90b19kaWN0KCkpCiAgICBlbGlmIG5vdCBvdXRwdXRfdmFsdWU6CiAgICAgICAgIyBvdXRwdXQgdmFsdWUgY2FuIGJlIE5vbmUgb3IgZW1wdHkgZGljdGlvbmFyeQogICAgICAgICMgTm9uZSBvdXRwdXQgdmFsdWUgd2lsbCBiZSBwYWNrZWQgaW50byBhIEpvYk91dHB1dCBvYmplY3Qgd2l0aCBtb2RlID0gUmVhZFdyaXRlTW91bnQgJiB0eXBlID0gVXJpRm9sZGVyCiAgICAgICAgY29tcG9uZW50X291dHB1dCA9IENvbXBvbmVudFRyYW5zbGF0YWJsZU1peGluLl90b19vdXRwdXQob3V0cHV0X3ZhbHVlKQogICAgICAgIGpvYl9vdXRwdXQgPSBvdXRwdXRfdmFsdWUKICAgIGVsaWYgaXNpbnN0YW5jZShvdXRwdXRfdmFsdWUsIGRpY3QpOiAgIyBXaGVuIG91dHB1dCB2YWx1ZSBpcyBhIG5vbi1lbXB0eSBkaWN0aW9uYXJ5CiAgICAgICAgam9iX291dHB1dCA9IE91dHB1dCgqKm91dHB1dF92YWx1ZSkKICAgICAgICBjb21wb25lbnRfb3V0cHV0ID0gT3V0cHV0KCoqb3V0cHV0X3ZhbHVlKQogICAgZWxpZiBpc2luc3RhbmNlKG91dHB1dF92YWx1ZSwgc3RyKTogICMgV2hlbiBvdXRwdXQgaXMgcGFzc2VkIGluIGZyb20gcGlwZWxpbmUgam9iIHlhbWwKICAgICAgICBqb2Jfb3V0cHV0ID0gb3V0cHV0X3ZhbHVlCiAgICBlbHNlOgogICAgICAgIG1zZyA9IGYiVW5zdXBwb3J0ZWQgb3V0cHV0IHR5cGU6IHt0eXBlKG91dHB1dF92YWx1ZSl9LCBvbmx5IE91dHB1dCBhbmQgZGljdCBhcmUgc3VwcG9ydGVkLiIKICAgICAgICByYWlzZSBWYWxpZGF0aW9uRXhjZXB0aW9uKG1lc3NhZ2U9bXNnLCBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLCB0YXJnZXQ9RXJyb3JUYXJnZXQuSk9CKQogICAgcmV0dXJuIGNvbXBvbmVudF9vdXRwdXQsIGpvYl9vdXRwdXQKCgpkZWYgX3BhcnNlX2lucHV0c19vdXRwdXRzKGlvX2RpY3Q6IERpY3QsIHBhcnNlX2Z1bmM6IENhbGxhYmxlKSAtPiBUdXBsZVtEaWN0LCBEaWN0XToKICAgIGNvbXBvbmVudF9pb19kaWN0LCBqb2JfaW9fZGljdCA9IHt9LCB7fQogICAgaWYgaW9fZGljdDoKICAgICAgICBmb3Iga2V5LCB2YWwgaW4gaW9fZGljdC5pdGVtcygpOgogICAgICAgICAgICBjb21wb25lbnRfaW8sIGpvYl9pbyA9IHBhcnNlX2Z1bmModmFsKQogICAgICAgICAgICBjb21wb25lbnRfaW9fZGljdFtrZXldID0gY29tcG9uZW50X2lvCiAgICAgICAgICAgIGpvYl9pb19kaWN0W2tleV0gPSBqb2JfaW8KICAgIHJldHVybiBjb21wb25lbnRfaW9fZGljdCwgam9iX2lvX2RpY3QKCgpkZWYgc3BhcmsoCiAgICAqLAogICAgZXhwZXJpbWVudF9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIG5hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgZGlzcGxheV9uYW1lOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgIHRhZ3M6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgIGNvZGU6IE9wdGlvbmFsW1VuaW9uW3N0ciwgb3MuUGF0aExpa2VdXSA9IE5vbmUsCiAgICBlbnRyeTogVW5pb25bRGljdFtzdHIsIHN0cl0sIFNwYXJrSm9iRW50cnksIE5vbmVdID0gTm9uZSwKICAgIHB5X2ZpbGVzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gTm9uZSwKICAgIGphcnM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLAogICAgZmlsZXM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLAogICAgYXJjaGl2ZXM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLAogICAgaWRlbnRpdHk6IE9wdGlvbmFsW1VuaW9uW0RpY3Rbc3RyLCBzdHJdLCBNYW5hZ2VkSWRlbnRpdHksIEFtbFRva2VuLCBVc2VySWRlbnRpdHldXSA9IE5vbmUsCiAgICBkcml2ZXJfY29yZXM6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgZHJpdmVyX21lbW9yeTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICBleGVjdXRvcl9jb3JlczogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICBleGVjdXRvcl9tZW1vcnk6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgZXhlY3V0b3JfaW5zdGFuY2VzOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkOiBPcHRpb25hbFtib29sXSA9IE5vbmUsCiAgICBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9yczogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9yczogT3B0aW9uYWxbaW50XSA9IE5vbmUsCiAgICBjb25mOiBPcHRpb25hbFtEaWN0W3N0ciwgc3RyXV0gPSBOb25lLAogICAgZW52aXJvbm1lbnQ6IE9wdGlvbmFsW1VuaW9uW3N0ciwgRW52aXJvbm1lbnRdXSA9IE5vbmUsCiAgICBpbnB1dHM6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgIG91dHB1dHM6IE9wdGlvbmFsW0RpY3RdID0gTm9uZSwKICAgIGFyZ3M6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgY29tcHV0ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICByZXNvdXJjZXM6IE9wdGlvbmFsW1VuaW9uW0RpY3QsIFNwYXJrUmVzb3VyY2VDb25maWd1cmF0aW9uXV0gPSBOb25lLAogICAgKiprd2FyZ3MsCikgLT4gU3Bhcms6CiAgICAiIiJDcmVhdGUgYSBTcGFyayBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW5zaWRlIGRzbC5waXBlbGluZSBhcyBhIGZ1bmN0aW9uIGFuZAogICAgY2FuIGFsc28gYmUgY3JlYXRlZCBhcyBhIHN0YW5kYWxvbmUgc3Bhcmsgam9iLgoKICAgIDpwYXJhbSBleHBlcmltZW50X25hbWU6ICBOYW1lIG9mIHRoZSBleHBlcmltZW50IHRoZSBqb2Igd2lsbCBiZSBjcmVhdGVkIHVuZGVyLgogICAgOnR5cGUgZXhwZXJpbWVudF9uYW1lOiBzdHIKICAgIDpwYXJhbSBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgam9iLgogICAgOnR5cGUgbmFtZTogc3RyCiAgICA6cGFyYW0gZGlzcGxheV9uYW1lOiBEaXNwbGF5IG5hbWUgb2YgdGhlIGpvYi4KICAgIDp0eXBlIGRpc3BsYXlfbmFtZTogc3RyCiAgICA6cGFyYW0gZGVzY3JpcHRpb246IERlc2NyaXB0aW9uIG9mIHRoZSBqb2IuCiAgICA6dHlwZSBkZXNjcmlwdGlvbjogc3RyCiAgICA6cGFyYW0gdGFnczogVGFnIGRpY3Rpb25hcnkuIFRhZ3MgY2FuIGJlIGFkZGVkLCByZW1vdmVkLCBhbmQgdXBkYXRlZC4KICAgIDp0eXBlIHRhZ3M6IGRpY3Rbc3RyLCBzdHJdCiAgICA6cGFyYW0gY29kZTogVGhlIHNvdXJjZSBjb2RlIHRvIHJ1biB0aGUgam9iLgogICAgOnR5cGUgY29kZTogVW5pb25bc3RyLCBvcy5QYXRoTGlrZV0KICAgIDpwYXJhbSBlbnRyeTogRmlsZSBvciBjbGFzcyBlbnRyeSBwb2ludC4KICAgIDp0eXBlIGVudHJ5OiBkaWN0W3N0ciwgc3RyXQogICAgOnBhcmFtIHB5X2ZpbGVzOiBMaXN0IG9mIC56aXAsIC5lZ2cgb3IgLnB5IGZpbGVzIHRvIHBsYWNlIG9uIHRoZSBQWVRIT05QQVRIIGZvciBQeXRob24gYXBwcy4KICAgIDp0eXBlIHB5X2ZpbGVzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGphcnM6IExpc3Qgb2YgamFycyB0byBpbmNsdWRlIG9uIHRoZSBkcml2ZXIgYW5kIGV4ZWN1dG9yIGNsYXNzcGF0aHMuCiAgICA6dHlwZSBqYXJzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGZpbGVzOiBMaXN0IG9mIGZpbGVzIHRvIGJlIHBsYWNlZCBpbiB0aGUgd29ya2luZyBkaXJlY3Rvcnkgb2YgZWFjaCBleGVjdXRvci4KICAgIDp0eXBlIGZpbGVzOiBPcHRpb25hbFt0eXBpbmcuTGlzdFtzdHJdXQogICAgOnBhcmFtIGFyY2hpdmVzOiBMaXN0IG9mIGFyY2hpdmVzIHRvIGJlIGV4dHJhY3RlZCBpbnRvIHRoZSB3b3JraW5nIGRpcmVjdG9yeSBvZiBlYWNoIGV4ZWN1dG9yLgogICAgOnR5cGUgYXJjaGl2ZXM6IE9wdGlvbmFsW3R5cGluZy5MaXN0W3N0cl1dCiAgICA6cGFyYW0gaWRlbnRpdHk6IElkZW50aXR5IHRoYXQgc3Bhcmsgam9iIHdpbGwgdXNlIHdoaWxlIHJ1bm5pbmcgb24gY29tcHV0ZS4KICAgIDp0eXBlIGlkZW50aXR5OiBVbmlvbltEaWN0LCBNYW5hZ2VkSWRlbnRpdHksIEFtbFRva2VuLCBVc2VySWRlbnRpdHldCiAgICA6cGFyYW0gZHJpdmVyX2NvcmVzOiBOdW1iZXIgb2YgY29yZXMgdG8gdXNlIGZvciB0aGUgZHJpdmVyIHByb2Nlc3MsIG9ubHkgaW4gY2x1c3RlciBtb2RlLgogICAgOnR5cGUgZHJpdmVyX2NvcmVzOiBpbnQKICAgIDpwYXJhbSBkcml2ZXJfbWVtb3J5OiBBbW91bnQgb2YgbWVtb3J5IHRvIHVzZSBmb3IgdGhlIGRyaXZlciBwcm9jZXNzLgogICAgOnR5cGUgZHJpdmVyX21lbW9yeTogc3RyCiAgICA6cGFyYW0gZXhlY3V0b3JfY29yZXM6IFRoZSBudW1iZXIgb2YgY29yZXMgdG8gdXNlIG9uIGVhY2ggZXhlY3V0b3IuCiAgICA6dHlwZSBleGVjdXRvcl9jb3JlczogaW50CiAgICA6cGFyYW0gZXhlY3V0b3JfbWVtb3J5OiBBbW91bnQgb2YgbWVtb3J5IHRvIHVzZSBwZXIgZXhlY3V0b3IgcHJvY2VzcywgaW4gdGhlIHNhbWUgZm9ybWF0IGFzIEpWTSBtZW1vcnkgc3RyaW5ncyB3aXRoCiAgICAgICAgYSBzaXplIHVuaXQgc3VmZml4ICgiayIsICJtIiwgImciIG9yICJ0IikgKGUuZy4gNTEybSwgMmcpLgogICAgOnR5cGUgZXhlY3V0b3JfbWVtb3J5OiBzdHIKICAgIDpwYXJhbSBleGVjdXRvcl9pbnN0YW5jZXM6IEluaXRpYWwgbnVtYmVyIG9mIGV4ZWN1dG9ycy4KICAgIDp0eXBlIGV4ZWN1dG9yX2luc3RhbmNlczogaW50CiAgICA6cGFyYW0gZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQ6IFdoZXRoZXIgdG8gdXNlIGR5bmFtaWMgcmVzb3VyY2UgYWxsb2NhdGlvbiwgd2hpY2ggc2NhbGVzIHRoZSBudW1iZXIgb2YgZXhlY3V0b3JzCiAgICAgICAgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgYXBwbGljYXRpb24gdXAgYW5kIGRvd24gYmFzZWQgb24gdGhlIHdvcmtsb2FkLgogICAgOnR5cGUgZHluYW1pY19hbGxvY2F0aW9uX2VuYWJsZWQ6IGJvb2wKICAgIDpwYXJhbSBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9yczogTG93ZXIgYm91bmQgZm9yIHRoZSBudW1iZXIgb2YgZXhlY3V0b3JzIGlmIGR5bmFtaWMgYWxsb2NhdGlvbiBpcyBlbmFibGVkLgogICAgOnR5cGUgZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnM6IGludAogICAgOnBhcmFtIGR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzOiBVcHBlciBib3VuZCBmb3IgdGhlIG51bWJlciBvZiBleGVjdXRvcnMgaWYgZHluYW1pYyBhbGxvY2F0aW9uIGlzIGVuYWJsZWQuCiAgICA6dHlwZSBkeW5hbWljX2FsbG9jYXRpb25fbWF4X2V4ZWN1dG9yczogaW50CiAgICA6cGFyYW0gY29uZjogQSBkaWN0IHdpdGggcHJlLWRlZmluZWQgc3BhcmsgY29uZmlndXJhdGlvbnMga2V5IGFuZCB2YWx1ZXMuCiAgICA6dHlwZSBjb25mOiBkaWN0CiAgICA6cGFyYW0gZW52aXJvbm1lbnQ6IEF6dXJlIE1MIGVudmlyb25tZW50IHRvIHJ1biB0aGUgam9iIGluLgogICAgOnR5cGUgZW52aXJvbm1lbnQ6IFVuaW9uW3N0ciwgYXp1cmUuYWkubWwuZW50aXRpZXMuRW52aXJvbm1lbnRdCiAgICA6cGFyYW0gaW5wdXRzOiBNYXBwaW5nIG9mIGlucHV0cyBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIGlucHV0czogZGljdAogICAgOnBhcmFtIG91dHB1dHM6IE1hcHBpbmcgb2Ygb3V0cHV0cyBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIG91dHB1dHM6IGRpY3QKICAgIDpwYXJhbSBhcmdzOiBBcmd1bWVudHMgZm9yIHRoZSBqb2IuCiAgICA6dHlwZSBhcmdzOiBzdHIKICAgIDpwYXJhbSBjb21wdXRlOiBUaGUgY29tcHV0ZSByZXNvdXJjZSB0aGUgam9iIHJ1bnMgb24uCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSByZXNvdXJjZXM6IENvbXB1dGUgUmVzb3VyY2UgY29uZmlndXJhdGlvbiBmb3IgdGhlIGpvYi4KICAgIDp0eXBlIHJlc291cmNlczogVW5pb25bRGljdCwgU3BhcmtSZXNvdXJjZUNvbmZpZ3VyYXRpb25dCiAgICAiIiIKCiAgICBpbnB1dHMgPSBpbnB1dHMgb3Ige30KICAgIG91dHB1dHMgPSBvdXRwdXRzIG9yIHt9CiAgICBjb21wb25lbnRfaW5wdXRzLCBqb2JfaW5wdXRzID0gX3BhcnNlX2lucHV0c19vdXRwdXRzKGlucHV0cywgcGFyc2VfZnVuYz1fcGFyc2VfaW5wdXQpCiAgICAjIGpvYiBpbnB1dHMgY2FuIG5vdCBiZSBOb25lCiAgICBqb2JfaW5wdXRzID0ge2s6IHYgZm9yIGssIHYgaW4gam9iX2lucHV0cy5pdGVtcygpIGlmIHYgaXMgbm90IE5vbmV9CiAgICBjb21wb25lbnRfb3V0cHV0cywgam9iX291dHB1dHMgPSBfcGFyc2VfaW5wdXRzX291dHB1dHMob3V0cHV0cywgcGFyc2VfZnVuYz1fcGFyc2Vfb3V0cHV0KQogICAgY29tcG9uZW50ID0ga3dhcmdzLnBvcCgiY29tcG9uZW50IiwgTm9uZSkKCiAgICBpZiBjb21wb25lbnQgaXMgTm9uZToKICAgICAgICBjb21wb25lbnQgPSBTcGFya0NvbXBvbmVudCgKICAgICAgICAgICAgbmFtZT1uYW1lLAogICAgICAgICAgICBkaXNwbGF5X25hbWU9ZGlzcGxheV9uYW1lLAogICAgICAgICAgICB0YWdzPXRhZ3MsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPWRlc2NyaXB0aW9uLAogICAgICAgICAgICBjb2RlPWNvZGUsCiAgICAgICAgICAgIGVudHJ5PWVudHJ5LAogICAgICAgICAgICBweV9maWxlcz1weV9maWxlcywKICAgICAgICAgICAgamFycz1qYXJzLAogICAgICAgICAgICBmaWxlcz1maWxlcywKICAgICAgICAgICAgYXJjaGl2ZXM9YXJjaGl2ZXMsCiAgICAgICAgICAgIGRyaXZlcl9jb3Jlcz1kcml2ZXJfY29yZXMsCiAgICAgICAgICAgIGRyaXZlcl9tZW1vcnk9ZHJpdmVyX21lbW9yeSwKICAgICAgICAgICAgZXhlY3V0b3JfY29yZXM9ZXhlY3V0b3JfY29yZXMsCiAgICAgICAgICAgIGV4ZWN1dG9yX21lbW9yeT1leGVjdXRvcl9tZW1vcnksCiAgICAgICAgICAgIGV4ZWN1dG9yX2luc3RhbmNlcz1leGVjdXRvcl9pbnN0YW5jZXMsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkPWR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkLAogICAgICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycz1keW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycywKICAgICAgICAgICAgZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnM9ZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnMsCiAgICAgICAgICAgIGNvbmY9Y29uZiwKICAgICAgICAgICAgZW52aXJvbm1lbnQ9ZW52aXJvbm1lbnQsCiAgICAgICAgICAgIGlucHV0cz1jb21wb25lbnRfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPWNvbXBvbmVudF9vdXRwdXRzLAogICAgICAgICAgICBhcmdzPWFyZ3MsCiAgICAgICAgICAgIF9zb3VyY2U9Q29tcG9uZW50U291cmNlLkJVSUxERVIsCiAgICAgICAgICAgICoqa3dhcmdzLAogICAgICAgICkKICAgIGlmIGlzaW5zdGFuY2UoY29tcG9uZW50LCBTcGFya0NvbXBvbmVudCk6CiAgICAgICAgc3Bhcmtfb2JqID0gU3BhcmsoCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsCiAgICAgICAgICAgIG5hbWU9bmFtZSwKICAgICAgICAgICAgZGlzcGxheV9uYW1lPWRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgdGFncz10YWdzLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbiwKICAgICAgICAgICAgY29tcG9uZW50PWNvbXBvbmVudCwKICAgICAgICAgICAgaWRlbnRpdHk9aWRlbnRpdHksCiAgICAgICAgICAgIGRyaXZlcl9jb3Jlcz1kcml2ZXJfY29yZXMsCiAgICAgICAgICAgIGRyaXZlcl9tZW1vcnk9ZHJpdmVyX21lbW9yeSwKICAgICAgICAgICAgZXhlY3V0b3JfY29yZXM9ZXhlY3V0b3JfY29yZXMsCiAgICAgICAgICAgIGV4ZWN1dG9yX21lbW9yeT1leGVjdXRvcl9tZW1vcnksCiAgICAgICAgICAgIGV4ZWN1dG9yX2luc3RhbmNlcz1leGVjdXRvcl9pbnN0YW5jZXMsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkPWR5bmFtaWNfYWxsb2NhdGlvbl9lbmFibGVkLAogICAgICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycz1keW5hbWljX2FsbG9jYXRpb25fbWluX2V4ZWN1dG9ycywKICAgICAgICAgICAgZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnM9ZHluYW1pY19hbGxvY2F0aW9uX21heF9leGVjdXRvcnMsCiAgICAgICAgICAgIGNvbmY9Y29uZiwKICAgICAgICAgICAgaW5wdXRzPWpvYl9pbnB1dHMsCiAgICAgICAgICAgIG91dHB1dHM9am9iX291dHB1dHMsCiAgICAgICAgICAgIGNvbXB1dGU9Y29tcHV0ZSwKICAgICAgICAgICAgcmVzb3VyY2VzPXJlc291cmNlcywKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQogICAgZWxzZToKICAgICAgICAjIHdoZW4gd2UgbG9hZCBhIHJlbW90ZSBqb2IsIGNvbXBvbmVudCBub3cgaXMgYW4gYXJtX2lkLCB3ZSBuZWVkIGdldCBlbnRyeSBmcm9tIG5vZGUgbGV2ZWwgcmV0dXJuZWQgZnJvbQogICAgICAgICMgc2VydmljZQogICAgICAgIHNwYXJrX29iaiA9IFNwYXJrKAogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLAogICAgICAgICAgICBuYW1lPW5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1kaXNwbGF5X25hbWUsCiAgICAgICAgICAgIHRhZ3M9dGFncywKICAgICAgICAgICAgZGVzY3JpcHRpb249ZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGNvbXBvbmVudD1jb21wb25lbnQsCiAgICAgICAgICAgIGlkZW50aXR5PWlkZW50aXR5LAogICAgICAgICAgICBkcml2ZXJfY29yZXM9ZHJpdmVyX2NvcmVzLAogICAgICAgICAgICBkcml2ZXJfbWVtb3J5PWRyaXZlcl9tZW1vcnksCiAgICAgICAgICAgIGV4ZWN1dG9yX2NvcmVzPWV4ZWN1dG9yX2NvcmVzLAogICAgICAgICAgICBleGVjdXRvcl9tZW1vcnk9ZXhlY3V0b3JfbWVtb3J5LAogICAgICAgICAgICBleGVjdXRvcl9pbnN0YW5jZXM9ZXhlY3V0b3JfaW5zdGFuY2VzLAogICAgICAgICAgICBkeW5hbWljX2FsbG9jYXRpb25fZW5hYmxlZD1keW5hbWljX2FsbG9jYXRpb25fZW5hYmxlZCwKICAgICAgICAgICAgZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnM9ZHluYW1pY19hbGxvY2F0aW9uX21pbl9leGVjdXRvcnMsCiAgICAgICAgICAgIGR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzPWR5bmFtaWNfYWxsb2NhdGlvbl9tYXhfZXhlY3V0b3JzLAogICAgICAgICAgICBjb25mPWNvbmYsCiAgICAgICAgICAgIGlucHV0cz1qb2JfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPWpvYl9vdXRwdXRzLAogICAgICAgICAgICBjb21wdXRlPWNvbXB1dGUsCiAgICAgICAgICAgIHJlc291cmNlcz1yZXNvdXJjZXMsCiAgICAgICAgICAgIGVudHJ5PWVudHJ5LAogICAgICAgICAgICBweV9maWxlcz1weV9maWxlcywKICAgICAgICAgICAgamFycz1qYXJzLAogICAgICAgICAgICBmaWxlcz1maWxlcywKICAgICAgICAgICAgYXJjaGl2ZXM9YXJjaGl2ZXMsCiAgICAgICAgICAgIGFyZ3M9YXJncywKICAgICAgICAgICAgKiprd2FyZ3MsCiAgICAgICAgKQogICAgcmV0dXJuIHNwYXJrX29iago=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "6jR9zRMrmq8rTT7Eze7utA==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C41C938\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "bfAQCZfy7pg=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/subcomponents.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1474",
        "Content-MD5": "7KpB5lTFtAYr3Uh\u002BMhFxZA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgVGhpcyBmaWxlIGNvbnRhaW5zIG1sZGVzaWduZXIgZGVjb3JhdG9yLXByb2R1Y2VkIGNvbXBvbmVudHMKIyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBub2RlIGNvbnN0cnVjdG9ycy4gS2VlcCBpbXBvcnRzIGFuZAojIGdlbmVyYWwgY29tcGxleGl0eSBpbiB0aGlzIGZpbGUgdG8gYSBtaW5pbXVtLgoKZnJvbSBtbGRlc2lnbmVyIGltcG9ydCBjb21tYW5kX2NvbXBvbmVudCwgT3V0cHV0CgpkZWYgc2F2ZV9tbHRhYmxlX3lhbWwocGF0aCwgbWx0YWJsZV9wYXRocyk6CiAgICBpbXBvcnQgb3MKICAgIHBhdGggPSBvcy5wYXRoLmFic3BhdGgocGF0aCkKCiAgICBpZiBvcy5wYXRoLmlzZmlsZShwYXRoKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYnVGhlIGdpdmVuIHBhdGgge3BhdGh9IHBvaW50cyB0byBhIGZpbGUuJykKCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aCk6CiAgICAgICAgb3MubWFrZWRpcnMocGF0aCwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICBzYXZlX3BhdGggPSBvcy5wYXRoLmpvaW4ocGF0aCwgJ01MVGFibGUnKQogICAgIyBEbyBub3QgdG91Y2ggLSB0aGlzIGlzIE1MVGFibGUgc3ludGF4IHRoYXQgaXMgbmVlZGVkIHRvIG1vdW50IHRoZXNlIHBhdGhzCiAgICAjIFRvIHRoZSBNTFRhYmxlJ3MgaW5wdXRzCiAgICBtbHRhYmxlX2ZpbGVfY29udGVudCA9ICJcbiIuam9pbihbInBhdGhzOiJdICsgW2YiLSBmb2xkZXIgOiB7cGF0aH0iIGZvciBwYXRoIGluIG1sdGFibGVfcGF0aHNdKQoKICAgIHdpdGggb3BlbihzYXZlX3BhdGgsICd3JykgYXMgZjoKICAgICAgICBmLndyaXRlKG1sdGFibGVfZmlsZV9jb250ZW50KQoKIyBUT0RPIDIyOTM2MTA6IGFkZCBzdXBwb3J0IGZvciBtb3JlIHR5cGVzIG9mIG91dHB1dHMgYmVzaWRlcyB1cmlfZm9sZGVyIGFuZCBtbHRhYmxlCiMgVXNlZCBieSB0aGUgRkwgc2NhdHRlciBnYXRoZXIgbm9kZSB0byByZWR1Y2UgYSBkeW5hbWljIG51bWJlciBvZiBzaWxvIG91dHB1dHMKIyBpbnRvIGEgc2luZ2xlIGlucHV0IGZvciB0aGUgdXNlci1zdXBwbGllZCBhZ2dyZWdhdGlvbiBzdGVwLgpAY29tbWFuZF9jb21wb25lbnQoKQpkZWYgYWdncmVnYXRlX291dHB1dChhZ2dyZWdhdGVkX291dHB1dDogT3V0cHV0KHR5cGU9Im1sdGFibGUiKSwgKiprd2FyZ3MpOgogICAgIyBrd2FyZ3Mga2V5cyBhcmUgaW5wdXRzIG5hbWVzIChleDogc2lsb19vdXRwdXRfc2lsb18xKQogICAgIyB2YWx1ZXMgYXJlIHVyaV9mb2xkZXIgcGF0aHMKICAgIHNhdmVfbWx0YWJsZV95YW1sKGFnZ3JlZ2F0ZWRfb3V0cHV0LCBrd2FyZ3MudmFsdWVzKCkpCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "7KpB5lTFtAYr3Uh\u002BMhFxZA==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C42B390\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "fVZyxB\u002BQBn0=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/sweep.py",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "15434",
        "Content-MD5": "3Kkz/yKrwIu1rv5FWNUdEw==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": "IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBweWxpbnQ6IGRpc2FibGU9cHJvdGVjdGVkLWFjY2VzcwoKaW1wb3J0IGxvZ2dpbmcKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIE9wdGlvbmFsLCBVbmlvbgoKaW1wb3J0IHB5ZGFzaApmcm9tIG1hcnNobWFsbG93IGltcG9ydCBFWENMVURFLCBTY2hlbWEKCmZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5fc3dlZXAuc3dlZXBfZmllbGRzX3Byb3ZpZGVyIGltcG9ydCBFYXJseVRlcm1pbmF0aW9uRmllbGQKZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMuX2NvbW1vbiBpbXBvcnQgQkFTRV9QQVRIX0NPTlRFWFRfS0VZCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21wb25lbnQgaW1wb3J0IE5vZGVUeXBlCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9qb2Iuc3dlZXAgaW1wb3J0IFNlYXJjaFNwYWNlCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2NvbXBvbmVudC5jb21tYW5kX2NvbXBvbmVudCBpbXBvcnQgQ29tbWFuZENvbXBvbmVudApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9jcmVkZW50aWFscyBpbXBvcnQgKAogICAgQW1sVG9rZW5Db25maWd1cmF0aW9uLAogICAgTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwKICAgIFVzZXJJZGVudGl0eUNvbmZpZ3VyYXRpb24sCikKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5faW5wdXRzX291dHB1dHMgaW1wb3J0IElucHV0LCBPdXRwdXQKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmpvYl9saW1pdHMgaW1wb3J0IFN3ZWVwSm9iTGltaXRzCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5waXBlbGluZS5faW8gaW1wb3J0IE5vZGVJbnB1dApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2IucXVldWVfc2V0dGluZ3MgaW1wb3J0IFF1ZXVlU2V0dGluZ3MKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnN3ZWVwLmVhcmx5X3Rlcm1pbmF0aW9uX3BvbGljeSBpbXBvcnQgKAogICAgQmFuZGl0UG9saWN5LAogICAgRWFybHlUZXJtaW5hdGlvblBvbGljeSwKICAgIE1lZGlhblN0b3BwaW5nUG9saWN5LAogICAgVHJ1bmNhdGlvblNlbGVjdGlvblBvbGljeSwKKQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuc3dlZXAub2JqZWN0aXZlIGltcG9ydCBPYmplY3RpdmUKZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLnN3ZWVwLnBhcmFtZXRlcml6ZWRfc3dlZXAgaW1wb3J0IFBhcmFtZXRlcml6ZWRTd2VlcApmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuc3dlZXAuc2FtcGxpbmdfYWxnb3JpdGhtIGltcG9ydCBTYW1wbGluZ0FsZ29yaXRobQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzLl9qb2Iuc3dlZXAuc2VhcmNoX3NwYWNlIGltcG9ydCAoCiAgICBDaG9pY2UsCiAgICBMb2dOb3JtYWwsCiAgICBMb2dVbmlmb3JtLAogICAgTm9ybWFsLAogICAgUUxvZ05vcm1hbCwKICAgIFFMb2dVbmlmb3JtLAogICAgUU5vcm1hbCwKICAgIFFVbmlmb3JtLAogICAgUmFuZGludCwKICAgIFN3ZWVwRGlzdHJpYnV0aW9uLAogICAgVW5pZm9ybSwKKQpmcm9tIGF6dXJlLmFpLm1sLmV4Y2VwdGlvbnMgaW1wb3J0IEVycm9yVGFyZ2V0LCBVc2VyRXJyb3JFeGNlcHRpb24sIFZhbGlkYXRpb25FcnJvclR5cGUsIFZhbGlkYXRpb25FeGNlcHRpb24KZnJvbSBhenVyZS5haS5tbC5zd2VlcCBpbXBvcnQgU3dlZXBKb2IKCmZyb20gLi4uX3NjaGVtYSBpbXBvcnQgUGF0aEF3YXJlU2NoZW1hCmZyb20gLi4uX3NjaGVtYS5fdXRpbHMuZGF0YV9iaW5kaW5nX2V4cHJlc3Npb24gaW1wb3J0IHN1cHBvcnRfZGF0YV9iaW5kaW5nX2V4cHJlc3Npb25fZm9yX2ZpZWxkcwpmcm9tIC4uLl91dGlscy51dGlscyBpbXBvcnQgY2FtZWxfdG9fc25ha2UKZnJvbSAuYmFzZV9ub2RlIGltcG9ydCBCYXNlTm9kZQoKbW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCmNsYXNzIFN3ZWVwKFBhcmFtZXRlcml6ZWRTd2VlcCwgQmFzZU5vZGUpOgogICAgIiIiQmFzZSBjbGFzcyBmb3Igc3dlZXAgbm9kZSwgdXNlZCBmb3IgY29tbWFuZCBjb21wb25lbnQgdmVyc2lvbgogICAgY29uc3VtcHRpb24uCgogICAgWW91IHNob3VsZCBub3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gSW5zdGVhZCwgeW91IHNob3VsZAogICAgY3JlYXRlIGZyb20gYnVpbGRlciBmdW5jdGlvbjogc3dlZXAuCgogICAgOnBhcmFtIHRyaWFsOiBJZCBvciBpbnN0YW5jZSBvZiB0aGUgY29tbWFuZCBjb21wb25lbnQvam9iIHRvIGJlIHJ1biBmb3IgdGhlIHN0ZXAKICAgIDp0eXBlIHRyaWFsOiBVbmlvbltDb21tYW5kQ29tcG9uZW50LCBzdHJdCiAgICA6cGFyYW0gY29tcHV0ZTogQ29tcHV0ZSBkZWZpbml0aW9uIGNvbnRhaW5pbmcgdGhlIGNvbXB1dGUgaW5mb3JtYXRpb24gZm9yIHRoZSBzdGVwCiAgICA6dHlwZSBjb21wdXRlOiBzdHIKICAgIDpwYXJhbSBsaW1pdHM6IGxpbWl0cyBpbiBydW5uaW5nIHRoZSBzd2VlcCBub2RlLgogICAgOnR5cGUgbGltaXRzOiBTd2VlcEpvYkxpbWl0cwogICAgOnBhcmFtIHNhbXBsaW5nX2FsZ29yaXRobTogc2FtcGxpbmcgYWxnb3JpdGhtIHRvIHNhbXBsZSBpbnNpZGUgc2VhcmNoIHNwYWNlCiAgICA6dHlwZSBzYW1wbGluZ19hbGdvcml0aG06IHN0ciwgdmFsaWQgdmFsdWVzOiByYW5kb20sIGdyaWQgb3IgYmF5ZXNpYW4KICAgIDpwYXJhbSBvYmplY3RpdmU6IHRoZSBvYmplY3RpdmUgdXNlZCB0byBwaWNrIHRhcmdldCBydW4gd2l0aCB0aGUgbG9jYWwgb3B0aW1hbCBoeXBlcnBhcmFtZXRlciBpbiBzZWFyY2ggc3BhY2UuCiAgICA6dHlwZSBvYmplY3RpdmU6IE9iamVjdGl2ZQogICAgOnBhcmFtIGVhcmx5X3Rlcm1pbmF0aW9uX3BvbGljeTogZWFybHkgdGVybWluYXRpb24gcG9saWN5IG9mIHRoZSBzd2VlcCBub2RlLgogICAgOnR5cGUgZWFybHlfdGVybWluYXRpb25fcG9saWN5OiBVbmlvblsKICAgIH5henVyZS5tZ210Lm1hY2hpbmVsZWFybmluZ3NlcnZpY2VzLm1vZGVscy5CYW5kaXRQb2xpY3ksCiAgICB\u002BYXp1cmUubWdtdC5tYWNoaW5lbGVhcm5pbmdzZXJ2aWNlcy5tb2RlbHMuTWVkaWFuU3RvcHBpbmdQb2xpY3ksCiAgICB\u002BYXp1cmUubWdtdC5tYWNoaW5lbGVhcm5pbmdzZXJ2aWNlcy5tb2RlbHMuVHJ1bmNhdGlvblNlbGVjdGlvblBvbGljeV0KICAgIDpwYXJhbSBzZWFyY2hfc3BhY2U6IGh5cGVycGFyYW1ldGVyIHNlYXJjaCBzcGFjZSB0byBydW4gdHJpYWxzLgogICAgOnR5cGUgc2VhcmNoX3NwYWNlOiBEaWN0W3N0ciwgVW5pb25bfmF6dXJlLmFpLm1sLmVudGl0aWVzLkNob2ljZSwKICAgIH5henVyZS5haS5tbC5lbnRpdGllcy5Mb2dOb3JtYWwsCiAgICB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuTG9nVW5pZm9ybSwKICAgIH5henVyZS5haS5tbC5lbnRpdGllcy5Ob3JtYWwsCiAgICB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuUUxvZ05vcm1hbCwKICAgIH5henVyZS5haS5tbC5lbnRpdGllcy5RTG9nVW5pZm9ybSwKICAgIH5henVyZS5haS5tbC5lbnRpdGllcy5RTm9ybWFsLAogICAgfmF6dXJlLmFpLm1sLmVudGl0aWVzLlFVbmlmb3JtLAogICAgfmF6dXJlLmFpLm1sLmVudGl0aWVzLlJhbmRpbnQsCiAgICB\u002BYXp1cmUuYWkubWwuZW50aXRpZXMuVW5pZm9ybV1dCiAgICA6cGFyYW0gaW5wdXRzOiBJbnB1dHMgdG8gdGhlIGNvbW1hbmQuCiAgICA6dHlwZSBpbnB1dHM6IERpY3Rbc3RyLCBVbmlvbltJbnB1dCwgc3RyLCBib29sLCBpbnQsIGZsb2F0XV0KICAgIDpwYXJhbSBvdXRwdXRzOiBNYXBwaW5nIG9mIG91dHB1dCBkYXRhIGJpbmRpbmdzIHVzZWQgaW4gdGhlIGpvYi4KICAgIDp0eXBlIG91dHB1dHM6IERpY3Rbc3RyLCBVbmlvbltzdHIsIE91dHB1dF1dCiAgICA6cGFyYW0gaWRlbnRpdHk6IElkZW50aXR5IHRoYXQgdHJhaW5pbmcgam9iIHdpbGwgdXNlIHdoaWxlIHJ1bm5pbmcgb24gY29tcHV0ZS4KICAgIDp0eXBlIGlkZW50aXR5OiBVbmlvblsKICAgICAgICBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLAogICAgICAgIEFtbFRva2VuQ29uZmlndXJhdGlvbiwKICAgICAgICBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXQogICAgOnBhcmFtIHF1ZXVlX3NldHRpbmdzOiBRdWV1ZSBzZXR0aW5ncyBmb3IgdGhlIGpvYi4KICAgIDp0eXBlIHF1ZXVlX3NldHRpbmdzOiBRdWV1ZVNldHRpbmdzCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICAqLAogICAgICAgIHRyaWFsOiBPcHRpb25hbFtVbmlvbltDb21tYW5kQ29tcG9uZW50LCBzdHJdXSA9IE5vbmUsCiAgICAgICAgY29tcHV0ZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgbGltaXRzOiBPcHRpb25hbFtTd2VlcEpvYkxpbWl0c10gPSBOb25lLAogICAgICAgIHNhbXBsaW5nX2FsZ29yaXRobTogT3B0aW9uYWxbVW5pb25bc3RyLCBTYW1wbGluZ0FsZ29yaXRobV1dID0gTm9uZSwKICAgICAgICBvYmplY3RpdmU6IE9wdGlvbmFsW09iamVjdGl2ZV0gPSBOb25lLAogICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uOiBPcHRpb25hbFtVbmlvbltCYW5kaXRQb2xpY3ksIE1lZGlhblN0b3BwaW5nUG9saWN5LCBUcnVuY2F0aW9uU2VsZWN0aW9uUG9saWN5XV0gPSBOb25lLAogICAgICAgIHNlYXJjaF9zcGFjZTogT3B0aW9uYWxbCiAgICAgICAgICAgIERpY3RbCiAgICAgICAgICAgICAgICBzdHIsCiAgICAgICAgICAgICAgICBVbmlvblsKICAgICAgICAgICAgICAgICAgICBDaG9pY2UsIExvZ05vcm1hbCwgTG9nVW5pZm9ybSwgTm9ybWFsLCBRTG9nTm9ybWFsLCBRTG9nVW5pZm9ybSwgUU5vcm1hbCwgUVVuaWZvcm0sIFJhbmRpbnQsIFVuaWZvcm0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIF0KICAgICAgICBdID0gTm9uZSwKICAgICAgICBpbnB1dHM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBVbmlvbltJbnB1dCwgc3RyLCBib29sLCBpbnQsIGZsb2F0XV1dID0gTm9uZSwKICAgICAgICBvdXRwdXRzOiBPcHRpb25hbFtEaWN0W3N0ciwgVW5pb25bc3RyLCBPdXRwdXRdXV0gPSBOb25lLAogICAgICAgIGlkZW50aXR5OiBPcHRpb25hbFsKICAgICAgICAgICAgVW5pb25bTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbiwgQW1sVG9rZW5Db25maWd1cmF0aW9uLCBVc2VySWRlbnRpdHlDb25maWd1cmF0aW9uXQogICAgICAgIF0gPSBOb25lLAogICAgICAgIHF1ZXVlX3NldHRpbmdzOiBPcHRpb25hbFtRdWV1ZVNldHRpbmdzXSA9IE5vbmUsCiAgICAgICAgKiprd2FyZ3MsCiAgICApOgogICAgICAgICMgVE9ETzogZ2V0IHJpZCBvZiBzZWxmLl9qb2JfaW5wdXRzLCBzZWxmLl9qb2Jfb3V0cHV0cyBvbmNlIHdlIGhhdmUgZ2VuZXJhbCBJbnB1dAogICAgICAgIHNlbGYuX2pvYl9pbnB1dHMsIHNlbGYuX2pvYl9vdXRwdXRzID0gaW5wdXRzLCBvdXRwdXRzCgogICAgICAgIGt3YXJncy5wb3AoInR5cGUiLCBOb25lKQogICAgICAgIEJhc2VOb2RlLl9faW5pdF9fKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICB0eXBlPU5vZGVUeXBlLlNXRUVQLAogICAgICAgICAgICBjb21wb25lbnQ9dHJpYWwsCiAgICAgICAgICAgIGlucHV0cz1pbnB1dHMsCiAgICAgICAgICAgIG91dHB1dHM9b3V0cHV0cywKICAgICAgICAgICAgY29tcHV0ZT1jb21wdXRlLAogICAgICAgICAgICAqKmt3YXJncywKICAgICAgICApCiAgICAgICAgIyBpbml0IG1hcmsgZm9yIF9BdHRyRGljdAogICAgICAgIHNlbGYuX2luaXQgPSBUcnVlCiAgICAgICAgUGFyYW1ldGVyaXplZFN3ZWVwLl9faW5pdF9fKAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBzYW1wbGluZ19hbGdvcml0aG09c2FtcGxpbmdfYWxnb3JpdGhtLAogICAgICAgICAgICBvYmplY3RpdmU9b2JqZWN0aXZlLAogICAgICAgICAgICBsaW1pdHM9bGltaXRzLAogICAgICAgICAgICBlYXJseV90ZXJtaW5hdGlvbj1lYXJseV90ZXJtaW5hdGlvbiwKICAgICAgICAgICAgc2VhcmNoX3NwYWNlPXNlYXJjaF9zcGFjZSwKICAgICAgICAgICAgcXVldWVfc2V0dGluZ3M9cXVldWVfc2V0dGluZ3MsCiAgICAgICAgKQoKICAgICAgICBzZWxmLmlkZW50aXR5ID0gaWRlbnRpdHkKICAgICAgICBzZWxmLl9pbml0ID0gRmFsc2UKCiAgICBAcHJvcGVydHkKICAgIGRlZiB0cmlhbChzZWxmKToKICAgICAgICAiIiJJZCBvciBpbnN0YW5jZSBvZiB0aGUgY29tbWFuZCBjb21wb25lbnQvam9iIHRvIGJlIHJ1biBmb3IgdGhlIHN0ZXAuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbXBvbmVudAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlYXJjaF9zcGFjZShzZWxmKToKICAgICAgICAiIiJEaWN0aW9uYXJ5IG9mIHRoZSBoeXBlcnBhcmFtZXRlciBzZWFyY2ggc3BhY2UuCiAgICAgICAgVGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgaHlwZXJwYXJhbWV0ZXIgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcGFyYW1ldGVyIGV4cHJlc3Npb24uCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3NlYXJjaF9zcGFjZQoKICAgIEBzZWFyY2hfc3BhY2Uuc2V0dGVyCiAgICBkZWYgc2VhcmNoX3NwYWNlKHNlbGYsIHZhbHVlczogRGljdFtzdHIsIERpY3Rbc3RyLCBVbmlvbltzdHIsIGludCwgZmxvYXQsIGRpY3RdXV0pOgogICAgICAgIHNlYXJjaF9zcGFjZSA9IHt9CiAgICAgICAgZm9yIG5hbWUsIHZhbHVlIGluIHZhbHVlcy5pdGVtcygpOgogICAgICAgICAgICAjIElmIHZhbHVlIGlzIGEgU2VhcmNoU3BhY2Ugb2JqZWN0LCBkaXJlY3RseSBwYXNzIGl0IHRvIGpvYi5zZWFyY2hfc3BhY2VbbmFtZV0KICAgICAgICAgICAgc2VhcmNoX3NwYWNlW25hbWVdID0gc2VsZi5fdmFsdWVfdHlwZV90b19jbGFzcyh2YWx1ZSkgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCkgZWxzZSB2YWx1ZQogICAgICAgIHNlbGYuX3NlYXJjaF9zcGFjZSA9IHNlYXJjaF9zcGFjZQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF92YWx1ZV90eXBlX3RvX2NsYXNzKGNscywgdmFsdWUpOgogICAgICAgIHZhbHVlX3R5cGUgPSB2YWx1ZVsidHlwZSJdCiAgICAgICAgc2VhcmNoX3NwYWNlX2RpY3QgPSB7CiAgICAgICAgICAgIFNlYXJjaFNwYWNlLkNIT0lDRTogQ2hvaWNlLAogICAgICAgICAgICBTZWFyY2hTcGFjZS5SQU5ESU5UOiBSYW5kaW50LAogICAgICAgICAgICBTZWFyY2hTcGFjZS5MT0dOT1JNQUw6IExvZ05vcm1hbCwKICAgICAgICAgICAgU2VhcmNoU3BhY2UuTk9STUFMOiBOb3JtYWwsCiAgICAgICAgICAgIFNlYXJjaFNwYWNlLkxPR1VOSUZPUk06IExvZ1VuaWZvcm0sCiAgICAgICAgICAgIFNlYXJjaFNwYWNlLlVOSUZPUk06IFVuaWZvcm0sCiAgICAgICAgICAgIFNlYXJjaFNwYWNlLlFMT0dOT1JNQUw6IFFMb2dOb3JtYWwsCiAgICAgICAgICAgIFNlYXJjaFNwYWNlLlFOT1JNQUw6IFFOb3JtYWwsCiAgICAgICAgICAgIFNlYXJjaFNwYWNlLlFMT0dVTklGT1JNOiBRTG9nVW5pZm9ybSwKICAgICAgICAgICAgU2VhcmNoU3BhY2UuUVVOSUZPUk06IFFVbmlmb3JtLAogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VhcmNoX3NwYWNlX2RpY3RbdmFsdWVfdHlwZV0oKip2YWx1ZSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X3N1cHBvcnRlZF9pbnB1dHNfdHlwZXMoY2xzKToKICAgICAgICBzdXBwb3J0ZWRfdHlwZXMgPSBzdXBlcigpLl9nZXRfc3VwcG9ydGVkX2lucHV0c190eXBlcygpIG9yICgpCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgU3dlZXBEaXN0cmlidXRpb24sCiAgICAgICAgICAgICpzdXBwb3J0ZWRfdHlwZXMsCiAgICAgICAgKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9sb2FkX2Zyb21fZGljdChjbHMsIGRhdGE6IERpY3QsIGNvbnRleHQ6IERpY3QsIGFkZGl0aW9uYWxfbWVzc2FnZTogc3RyLCAqKmt3YXJncykgLT4gIlN3ZWVwIjoKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJTd2VlcC5fbG9hZF9mcm9tX2RpY3QgaXMgbm90IHN1cHBvcnRlZCIpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgX3BpY2tlZF9maWVsZHNfZnJvbV9kaWN0X3RvX3Jlc3Rfb2JqZWN0KGNscykgLT4gTGlzdFtzdHJdOgogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICJsaW1pdHMiLAogICAgICAgICAgICAic2FtcGxpbmdfYWxnb3JpdGhtIiwKICAgICAgICAgICAgIm9iamVjdGl2ZSIsCiAgICAgICAgICAgICJlYXJseV90ZXJtaW5hdGlvbiIsCiAgICAgICAgICAgICJzZWFyY2hfc3BhY2UiLAogICAgICAgIF0KCiAgICBkZWYgX3RvX3Jlc3Rfb2JqZWN0KHNlbGYsICoqa3dhcmdzKSAtPiBkaWN0OgogICAgICAgIHJlc3Rfb2JqID0gc3VwZXIoU3dlZXAsIHNlbGYpLl90b19yZXN0X29iamVjdCgqKmt3YXJncykKICAgICAgICAjIGhhY2s6IFBhcmFtZXRlcml6ZWRTd2VlcC5lYXJseV90ZXJtaW5hdGlvbiBpcyBub3QgYWxsb3dlZCB0byBiZSBOb25lCiAgICAgICAgZm9yIGtleSBpbiBbImVhcmx5X3Rlcm1pbmF0aW9uIl06CiAgICAgICAgICAgIGlmIGtleSBpbiByZXN0X29iaiBhbmQgcmVzdF9vYmpba2V5XSBpcyBOb25lOgogICAgICAgICAgICAgICAgZGVsIHJlc3Rfb2JqW2tleV0KCiAgICAgICAgIyBoYWNrOiBvbmx5IGVhcmx5IHRlcm1pbmF0aW9uIHBvbGljeSBkb2VzIG5vdCBmb2xsb3cgeWFtbCBzY2hlbWEgbm93LCBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciBzZXJ2ZXItc2lkZSBtYWRlCiAgICAgICAgIyB0aGUgY2hhbmdlCiAgICAgICAgaWYgImVhcmx5X3Rlcm1pbmF0aW9uIiBpbiByZXN0X29iajoKICAgICAgICAgICAgcmVzdF9vYmpbImVhcmx5X3Rlcm1pbmF0aW9uIl0gPSBzZWxmLmVhcmx5X3Rlcm1pbmF0aW9uLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQoKICAgICAgICByZXN0X29iai51cGRhdGUoCiAgICAgICAgICAgIGRpY3QoCiAgICAgICAgICAgICAgICB0eXBlPXNlbGYudHlwZSwKICAgICAgICAgICAgICAgIHRyaWFsPXNlbGYuX2dldF90cmlhbF9jb21wb25lbnRfcmVzdF9vYmooKSwKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICByZXR1cm4gcmVzdF9vYmoKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZnJvbV9yZXN0X29iamVjdF90b19pbml0X3BhcmFtcyhjbHMsIG9iajogZGljdCkgLT4gRGljdDoKICAgICAgICBvYmogPSBzdXBlcigpLl9mcm9tX3Jlc3Rfb2JqZWN0X3RvX2luaXRfcGFyYW1zKG9iaikKCiAgICAgICAgIyBoYWNrOiBvbmx5IGVhcmx5IHRlcm1pbmF0aW9uIHBvbGljeSBkb2VzIG5vdCBmb2xsb3cgeWFtbCBzY2hlbWEgbm93LCBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciBzZXJ2ZXItc2lkZSBtYWRlCiAgICAgICAgIyB0aGUgY2hhbmdlCiAgICAgICAgaWYgImVhcmx5X3Rlcm1pbmF0aW9uIiBpbiBvYmogYW5kICJwb2xpY3lfdHlwZSIgaW4gb2JqWyJlYXJseV90ZXJtaW5hdGlvbiJdOgogICAgICAgICAgICAjIGNhbid0IHVzZSBfZnJvbV9yZXN0X29iamVjdCBoZXJlLCBiZWNhdXNlIG9iaiBpcyBhIGRpY3QgaW5zdGVhZCBvZiBhbiBFYXJseVRlcm1pbmF0aW9uUG9saWN5IHJlc3Qgb2JqZWN0CiAgICAgICAgICAgIG9ialsiZWFybHlfdGVybWluYXRpb24iXVsidHlwZSJdID0gY2FtZWxfdG9fc25ha2Uob2JqWyJlYXJseV90ZXJtaW5hdGlvbiJdLnBvcCgicG9saWN5X3R5cGUiKSkKCiAgICAgICAgIyBUT0RPOiB1c2UgY2xzLl9nZXRfc2NoZW1hKCkgdG8gbG9hZCBmcm9tIHJlc3Qgb2JqZWN0CiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5fc2NoZW1hLl9zd2VlcC5wYXJhbWV0ZXJpemVkX3N3ZWVwIGltcG9ydCBQYXJhbWV0ZXJpemVkU3dlZXBTY2hlbWEKCiAgICAgICAgc2NoZW1hID0gUGFyYW1ldGVyaXplZFN3ZWVwU2NoZW1hKGNvbnRleHQ9e0JBU0VfUEFUSF9DT05URVhUX0tFWTogIi4vIn0pCiAgICAgICAgc3VwcG9ydF9kYXRhX2JpbmRpbmdfZXhwcmVzc2lvbl9mb3JfZmllbGRzKHNjaGVtYSwgWyJ0eXBlIiwgImNvbXBvbmVudCIsICJ0cmlhbCJdKQoKICAgICAgICBiYXNlX3N3ZWVwID0gc2NoZW1hLmxvYWQob2JqLCB1bmtub3duPUVYQ0xVREUsIHBhcnRpYWw9VHJ1ZSkgICMgcHlsaW50OiBkaXNhYmxlPW5vLW1lbWJlcgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGJhc2Vfc3dlZXAuaXRlbXMoKToKICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZQoKICAgICAgICAjIHRyaWFsCiAgICAgICAgdHJpYWxfY29tcG9uZW50X2lkID0gcHlkYXNoLmdldChvYmosICJ0cmlhbC5jb21wb25lbnRJZCIsIE5vbmUpCiAgICAgICAgb2JqWyJ0cmlhbCJdID0gdHJpYWxfY29tcG9uZW50X2lkICAjIGNoZWNrIHRoaXMKCiAgICAgICAgcmV0dXJuIG9iagoKICAgIGRlZiBfZ2V0X3RyaWFsX2NvbXBvbmVudF9yZXN0X29iaihzZWxmKToKICAgICAgICAjIHRyaWFsIGNvbXBvbmVudCB0byByZXN0IG9iamVjdCBpcyBkaWZmZXJlbnQgZnJvbSB1c3VhbCBjb21wb25lbnQKICAgICAgICB0cmlhbF9jb21wb25lbnRfaWQgPSBzZWxmLl9nZXRfY29tcG9uZW50X2lkKCkKICAgICAgICBpZiB0cmlhbF9jb21wb25lbnRfaWQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBpZiBpc2luc3RhbmNlKHRyaWFsX2NvbXBvbmVudF9pZCwgc3RyKToKICAgICAgICAgICAgcmV0dXJuIGRpY3QoY29tcG9uZW50SWQ9dHJpYWxfY29tcG9uZW50X2lkKQogICAgICAgIGlmIGlzaW5zdGFuY2UodHJpYWxfY29tcG9uZW50X2lkLCBDb21tYW5kQ29tcG9uZW50KToKICAgICAgICAgICAgcmV0dXJuIHRyaWFsX2NvbXBvbmVudF9pZC5fdG9fcmVzdF9vYmplY3QoKQogICAgICAgIHJhaXNlIFVzZXJFcnJvckV4Y2VwdGlvbihmImludmFsaWQgdHJpYWwgaW4gc3dlZXAgbm9kZSB7c2VsZi5uYW1lfToge3N0cihzZWxmLnRyaWFsKX0iKQoKICAgIGRlZiBfdG9fam9iKHNlbGYpIC0\u002BIFN3ZWVwSm9iOgogICAgICAgIGNvbW1hbmQgPSBzZWxmLnRyaWFsLmNvbW1hbmQKICAgICAgICBmb3Iga2V5LCBfIGluIHNlbGYuc2VhcmNoX3NwYWNlLml0ZW1zKCk6CiAgICAgICAgICAgICMgRG91YmxlIGN1cmx5IGJyYWNrZXRzIHRvIGVzY2FwZQogICAgICAgICAgICBjb21tYW5kID0gY29tbWFuZC5yZXBsYWNlKGYiJHt7e3tpbnB1dHMue2tleX19fX19IiwgZiIke3t7e3NlYXJjaF9zcGFjZS57a2V5fX19fX0iKQoKICAgICAgICAjIFRPRE86IHJhaXNlIGV4Y2VwdGlvbiB3aGVuIHRoZSB0cmlhbCBpcyBhIHByZS1yZWdpc3RlcmVkIGNvbXBvbmVudAogICAgICAgIGlmIGNvbW1hbmQgIT0gc2VsZi50cmlhbC5jb21tYW5kIGFuZCBpc2luc3RhbmNlKHNlbGYudHJpYWwsIENvbW1hbmRDb21wb25lbnQpOgogICAgICAgICAgICBzZWxmLnRyaWFsLmNvbW1hbmQgPSBjb21tYW5kCgogICAgICAgIHJldHVybiBTd2VlcEpvYigKICAgICAgICAgICAgbmFtZT1zZWxmLm5hbWUsCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT1zZWxmLmRpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb249c2VsZi5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgcHJvcGVydGllcz1zZWxmLnByb3BlcnRpZXMsCiAgICAgICAgICAgIHRhZ3M9c2VsZi50YWdzLAogICAgICAgICAgICBleHBlcmltZW50X25hbWU9c2VsZi5leHBlcmltZW50X25hbWUsCiAgICAgICAgICAgIHRyaWFsPXNlbGYudHJpYWwsCiAgICAgICAgICAgIGNvbXB1dGU9c2VsZi5jb21wdXRlLAogICAgICAgICAgICBzYW1wbGluZ19hbGdvcml0aG09c2VsZi5zYW1wbGluZ19hbGdvcml0aG0sCiAgICAgICAgICAgIHNlYXJjaF9zcGFjZT1zZWxmLnNlYXJjaF9zcGFjZSwKICAgICAgICAgICAgbGltaXRzPXNlbGYubGltaXRzLAogICAgICAgICAgICBlYXJseV90ZXJtaW5hdGlvbj1zZWxmLmVhcmx5X3Rlcm1pbmF0aW9uLAogICAgICAgICAgICBvYmplY3RpdmU9c2VsZi5vYmplY3RpdmUsCiAgICAgICAgICAgIGlucHV0cz1zZWxmLl9qb2JfaW5wdXRzLAogICAgICAgICAgICBvdXRwdXRzPXNlbGYuX2pvYl9vdXRwdXRzLAogICAgICAgICAgICBpZGVudGl0eT1zZWxmLmlkZW50aXR5LAogICAgICAgICAgICBxdWV1ZV9zZXR0aW5ncz1zZWxmLnF1ZXVlX3NldHRpbmdzLAogICAgICAgICkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBfZ2V0X2NvbXBvbmVudF9hdHRyX25hbWUoY2xzKToKICAgICAgICByZXR1cm4gInRyaWFsIgoKICAgIGRlZiBfYnVpbGRfaW5wdXRzKHNlbGYpOgogICAgICAgIGlucHV0cyA9IHN1cGVyKFN3ZWVwLCBzZWxmKS5fYnVpbGRfaW5wdXRzKCkKICAgICAgICBidWlsdF9pbnB1dHMgPSB7fQogICAgICAgICMgVmFsaWRhdGUgYW5kIHJlbW92ZSBub24tc3BlY2lmaWVkIGlucHV0cwogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGlucHV0cy5pdGVtcygpOgogICAgICAgICAgICBpZiB2YWx1ZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIGJ1aWx0X2lucHV0c1trZXldID0gdmFsdWUKCiAgICAgICAgcmV0dXJuIGJ1aWx0X2lucHV0cwoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9jcmVhdGVfc2NoZW1hX2Zvcl92YWxpZGF0aW9uKGNscywgY29udGV4dCkgLT4gVW5pb25bUGF0aEF3YXJlU2NoZW1hLCBTY2hlbWFdOgogICAgICAgIGZyb20gYXp1cmUuYWkubWwuX3NjaGVtYS5waXBlbGluZS5jb21wb25lbnRfam9iIGltcG9ydCBTd2VlcFNjaGVtYQoKICAgICAgICByZXR1cm4gU3dlZXBTY2hlbWEoY29udGV4dD1jb250ZXh0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIF9nZXRfb3JpZ2luX2lucHV0c19hbmRfc2VhcmNoX3NwYWNlKGNscywgYnVpbHRfaW5wdXRzOiBEaWN0W3N0ciwgTm9kZUlucHV0XSk6CiAgICAgICAgIiIiU2VwYXJhdGUgbWl4ZWQgdHJ1ZSBpbnB1dHMgJiBzZWFyY2ggc3BhY2UgZGVmaW5pdGlvbiBmcm9tIGlucHV0cyBvZgogICAgICAgIHRoaXMgbm9kZSBhbmQgcmV0dXJuIHRoZW0uCgogICAgICAgIElucHV0IHdpbGwgYmUgcmVzdG9yZWQgdG8gSW5wdXQvTGl0ZXJhbElucHV0IGJlZm9yZSByZXR1cm5lZC4KICAgICAgICAiIiIKICAgICAgICBzZWFyY2hfc3BhY2U6IERpY3RbCiAgICAgICAgICAgIHN0ciwKICAgICAgICAgICAgVW5pb25bQ2hvaWNlLCBMb2dOb3JtYWwsIExvZ1VuaWZvcm0sIE5vcm1hbCwgUUxvZ05vcm1hbCwgUUxvZ1VuaWZvcm0sIFFOb3JtYWwsIFFVbmlmb3JtLCBSYW5kaW50LCBVbmlmb3JtXSwKICAgICAgICBdID0ge30KICAgICAgICBpbnB1dHM6IERpY3Rbc3RyLCBVbmlvbltJbnB1dCwgc3RyLCBib29sLCBpbnQsIGZsb2F0XV0gPSB7fQogICAgICAgIGlmIGJ1aWx0X2lucHV0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgZm9yIGlucHV0X25hbWUsIGlucHV0X29iaiBpbiBidWlsdF9pbnB1dHMuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoaW5wdXRfb2JqLCBOb2RlSW5wdXQpOgogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoaW5wdXRfb2JqLl9kYXRhLCBTd2VlcERpc3RyaWJ1dGlvbik6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaF9zcGFjZVtpbnB1dF9uYW1lXSA9IGlucHV0X29iai5fZGF0YQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c1tpbnB1dF9uYW1lXSA9IGlucHV0X29iai5fZGF0YQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBtc2cgPSAidW5zdXBwb3J0ZWQgYnVpbHQgaW5wdXQgdHlwZToge306IHt9IgogICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbGlkYXRpb25FeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9bXNnLmZvcm1hdChpbnB1dF9uYW1lLCB0eXBlKGlucHV0X29iaikpLAogICAgICAgICAgICAgICAgICAgICAgICBub19wZXJzb25hbF9kYXRhX21lc3NhZ2U9bXNnLmZvcm1hdCgiW2lucHV0X25hbWVdIiwgdHlwZShpbnB1dF9vYmopKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PUVycm9yVGFyZ2V0LlNXRUVQX0pPQiwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfdHlwZT1WYWxpZGF0aW9uRXJyb3JUeXBlLklOVkFMSURfVkFMVUUsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgIHJldHVybiBpbnB1dHMsIHNlYXJjaF9zcGFjZQoKICAgIGRlZiBfaXNfaW5wdXRfc2V0KHNlbGYsIGlucHV0X25hbWU6IHN0cikgLT4gYm9vbDoKICAgICAgICBpZiBzdXBlcihTd2VlcCwgc2VsZikuX2lzX2lucHV0X3NldChpbnB1dF9uYW1lKToKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gc2VsZi5zZWFyY2hfc3BhY2UgaXMgbm90IE5vbmUgYW5kIGlucHV0X25hbWUgaW4gc2VsZi5zZWFyY2hfc3BhY2UKCiAgICBkZWYgX19zZXRhdHRyX18oc2VsZiwga2V5LCB2YWx1ZSk6CiAgICAgICAgc3VwZXIoU3dlZXAsIHNlbGYpLl9fc2V0YXR0cl9fKGtleSwgdmFsdWUpCiAgICAgICAgaWYga2V5ID09ICJlYXJseV90ZXJtaW5hdGlvbiIgYW5kIGlzaW5zdGFuY2Uoc2VsZi5lYXJseV90ZXJtaW5hdGlvbiwgQmFuZGl0UG9saWN5KToKICAgICAgICAgICAgIyBvbmx5IG9uZSBvZiBzbGFja19hbW91bnQgYW5kIHNsYWNrX2ZhY3RvciBjYW4gYmUgc3BlY2lmaWVkIGJ1dCBkZWZhdWx0IHZhbHVlIGlzIDAuMC4KICAgICAgICAgICAgIyBOZWVkIHRvIGtlZXAgdHJhY2sgb2Ygd2hpY2ggb25lIGlzIG51bGwuCiAgICAgICAgICAgIGlmIHNlbGYuZWFybHlfdGVybWluYXRpb24uc2xhY2tfYW1vdW50ID09IDAuMDoKICAgICAgICAgICAgICAgIHNlbGYuZWFybHlfdGVybWluYXRpb24uc2xhY2tfYW1vdW50ID0gTm9uZQogICAgICAgICAgICBpZiBzZWxmLmVhcmx5X3Rlcm1pbmF0aW9uLnNsYWNrX2ZhY3RvciA9PSAwLjA6CiAgICAgICAgICAgICAgICBzZWxmLmVhcmx5X3Rlcm1pbmF0aW9uLnNsYWNrX2ZhY3RvciA9IE5vbmUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBlYXJseV90ZXJtaW5hdGlvbihzZWxmKSAtPiBVbmlvbltzdHIsIEVhcmx5VGVybWluYXRpb25Qb2xpY3ldOgogICAgICAgIHJldHVybiBzZWxmLl9lYXJseV90ZXJtaW5hdGlvbgoKICAgIEBlYXJseV90ZXJtaW5hdGlvbi5zZXR0ZXIKICAgIGRlZiBlYXJseV90ZXJtaW5hdGlvbihzZWxmLCB2YWx1ZTogVW5pb25bRWFybHlUZXJtaW5hdGlvblBvbGljeSwgRGljdFtzdHIsIFVuaW9uW3N0ciwgZmxvYXQsIGludCwgYm9vbF1dXSk6CiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgZGljdCk6CiAgICAgICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uX3NjaGVtYSA9IEVhcmx5VGVybWluYXRpb25GaWVsZCgpCiAgICAgICAgICAgIHZhbHVlID0gZWFybHlfdGVybWluYXRpb25fc2NoZW1hLl9kZXNlcmlhbGl6ZSh2YWx1ZT12YWx1ZSwgYXR0cj1Ob25lLCBkYXRhPU5vbmUpCiAgICAgICAgc2VsZi5fZWFybHlfdGVybWluYXRpb24gPSB2YWx1ZQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "3Kkz/yKrwIu1rv5FWNUdEw==",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C434FAC\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "7rQtFApObhE=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders/__init__.py?comp=metadata",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.12.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)",
        "x-ms-date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "x-ms-meta-name": "428f0159-e40f-4daa-825d-be2eaee52f8c",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "1",
        "x-ms-version": "2021-06-08"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Thu, 16 Mar 2023 17:39:40 GMT",
        "ETag": "\u00220x8DB26456C499052\u0022",
        "Last-Modified": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2021-06-08"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c4822183-9b93-4430-7f9a-eda69000fd2d?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1168",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "description": "Component for aggreating model weights.",
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "command": "python run.py --aggregated_output ${{outputs.aggregated_output}} --silo_inputs ${{inputs.silo_inputs}}",
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/587af731-527f-4581-9c51-f00cb88339d0/versions/1",
            "environment": "azureml:AzureML-sklearn-1.0-ubuntu20.04-py38-cpu:30",
            "name": "helloworld_aggregate_model_weights",
            "description": "Component for aggreating model weights.",
            "version": "0.3.0",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "display_name": "Aggregate Model Weights (from all silos)",
            "is_deterministic": true,
            "inputs": {
              "silo_inputs": {
                "type": "mltable",
                "description": "aggregated inputs from all silos",
                "optional": false
              }
            },
            "outputs": {
              "aggregated_output": {
                "type": "uri_folder",
                "description": "the aggregated model or gradiants, residing in the orchestrator compute."
              }
            },
            "type": "command",
            "_source": "YAML.COMPONENT"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1710",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:41 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c4822183-9b93-4430-7f9a-eda69000fd2d?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-e798bd121f9cd12a2e5205d9dcf32c8f-af9357e7e9c79cf8-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "a0432618-b01f-468f-88c2-6911357e0f52",
        "x-ms-ratelimit-remaining-subscription-writes": "1198",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173942Z:a0432618-b01f-468f-88c2-6911357e0f52",
        "x-request-time": "0.808"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c",
        "name": "5dd5dafc-a553-426b-a419-58187e10f54c",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "helloworld_aggregate_model_weights",
            "version": "0.3.0",
            "display_name": "Aggregate Model Weights (from all silos)",
            "is_deterministic": "True",
            "type": "command",
            "description": "Component for aggreating model weights.",
            "inputs": {
              "silo_inputs": {
                "type": "mltable",
                "optional": "False",
                "description": "aggregated inputs from all silos"
              }
            },
            "outputs": {
              "aggregated_output": {
                "type": "uri_folder",
                "description": "the aggregated model or gradiants, residing in the orchestrator compute."
              }
            },
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/587af731-527f-4581-9c51-f00cb88339d0/versions/1",
            "environment": "azureml://registries/azureml/environments/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/versions/30",
            "resources": {
              "instance_count": "1"
            },
            "command": "python run.py --aggregated_output ${{outputs.aggregated_output}} --silo_inputs ${{inputs.silo_inputs}}",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json"
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:42.1821169\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:42.1821169\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/428f0159-e40f-4daa-825d-be2eaee52f8c/versions/1?api-version=2022-05-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "307",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isAnonymous": true,
          "isArchived": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "847",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:42 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/428f0159-e40f-4daa-825d-be2eaee52f8c/versions/1?api-version=2022-05-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-24606e115e89b94daba338989662e472-3efbf6e7b47a88b3-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b069ebae-931e-47b3-bae9-aad9aa1b61de",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173942Z:b069ebae-931e-47b3-bae9-aad9aa1b61de",
        "x-request-time": "0.541"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/428f0159-e40f-4daa-825d-be2eaee52f8c/versions/1",
        "name": "1",
        "type": "Microsoft.MachineLearningServices/workspaces/codes/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isArchived": false,
          "isAnonymous": false,
          "codeUri": "https://fle2etestingws9729888205.blob.core.windows.net/azureml-blobstore-b2065712-3c36-42b2-8bd0-af7f13fc0b70/LocalUpload/00000000000000000000000000000000/_builders"
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:42.3401313\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:42.3401313\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/4006aad6-dba7-8d59-f5a3-88373f891030?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "3136",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder"
              },
              "raw_test_data": {
                "type": "uri_folder"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": true
              },
              "lr": {
                "type": "number",
                "optional": true,
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": true,
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": true,
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": true,
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            },
            "type": "pipeline",
            "jobs": {
              "silo_pre_processing_step": {
                "name": "silo_pre_processing_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute2",
                "inputs": {
                  "raw_training_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_train_data}}"
                  },
                  "raw_testing_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_test_data}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "processed_train_data": {
                    "uri": "azureml://datastores/silo_datastore2/paths/federated_learning/processed_train_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  },
                  "processed_test_data": {
                    "uri": "azureml://datastores/silo_datastore2/paths/federated_learning/processed_test_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/9aa9d286-955a-416a-9cd5-ef21edcb562c"
              },
              "silo_training_step": {
                "name": "silo_training_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute2",
                "inputs": {
                  "train_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_train_data}}"
                  },
                  "test_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_test_data}}"
                  },
                  "iteration_num": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.iteration_num}}"
                  },
                  "checkpoint": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.checkpoint}}"
                  },
                  "lr": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.lr}}"
                  },
                  "epochs": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.epochs}}"
                  },
                  "batch_size": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.batch_size}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "model": {
                    "value": "${{parent.outputs.model}}",
                    "type": "literal"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/e174f61c-c87b-4cbf-b1e4-121519bf5592"
              }
            },
            "_source": "DSL",
            "sourceJobId": null
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1260",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:42 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/4006aad6-dba7-8d59-f5a3-88373f891030?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-de842ee2f2d3baae374202e5cfac9410-732366dc778b94c2-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "8cebf9d7-df74-4e8f-adf8-414bf61731ef",
        "x-ms-ratelimit-remaining-subscription-writes": "1194",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173943Z:8cebf9d7-df74-4e8f-adf8-414bf61731ef",
        "x-request-time": "3.287"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd",
        "name": "b715ba21-d7ea-4dd7-adec-30032b7a3afd",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "is_deterministic": "False",
            "type": "pipeline",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "raw_test_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": "True"
              },
              "lr": {
                "type": "number",
                "optional": "True",
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": "True",
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": "True",
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": "True",
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            }
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:43.1985016\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:43.1985016\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/a273100a-c6a0-977d-c881-e09742e966e0?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "3136",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder"
              },
              "raw_test_data": {
                "type": "uri_folder"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": true
              },
              "lr": {
                "type": "number",
                "optional": true,
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": true,
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": true,
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": true,
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            },
            "type": "pipeline",
            "jobs": {
              "silo_pre_processing_step": {
                "name": "silo_pre_processing_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute3",
                "inputs": {
                  "raw_training_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_train_data}}"
                  },
                  "raw_testing_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_test_data}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "processed_train_data": {
                    "uri": "azureml://datastores/silo_datastore3/paths/federated_learning/processed_train_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  },
                  "processed_test_data": {
                    "uri": "azureml://datastores/silo_datastore3/paths/federated_learning/processed_test_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/9aa9d286-955a-416a-9cd5-ef21edcb562c"
              },
              "silo_training_step": {
                "name": "silo_training_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute3",
                "inputs": {
                  "train_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_train_data}}"
                  },
                  "test_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_test_data}}"
                  },
                  "iteration_num": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.iteration_num}}"
                  },
                  "checkpoint": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.checkpoint}}"
                  },
                  "lr": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.lr}}"
                  },
                  "epochs": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.epochs}}"
                  },
                  "batch_size": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.batch_size}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "model": {
                    "value": "${{parent.outputs.model}}",
                    "type": "literal"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/e174f61c-c87b-4cbf-b1e4-121519bf5592"
              }
            },
            "_source": "DSL",
            "sourceJobId": null
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1260",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:42 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/a273100a-c6a0-977d-c881-e09742e966e0?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-1b1191a0723c2cf8f25c56021413c1b5-443d0d5249271a31-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b0cb4d45-afdc-4c91-8415-aedbc78f7488",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173943Z:b0cb4d45-afdc-4c91-8415-aedbc78f7488",
        "x-request-time": "2.702"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72",
        "name": "c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "is_deterministic": "False",
            "type": "pipeline",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "raw_test_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": "True"
              },
              "lr": {
                "type": "number",
                "optional": "True",
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": "True",
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": "True",
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": "True",
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            }
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:43.2589833\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:43.2589833\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/0a2bba00-bbbd-3bdb-9e44-c82fed654847?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "3136",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder"
              },
              "raw_test_data": {
                "type": "uri_folder"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": true
              },
              "lr": {
                "type": "number",
                "optional": true,
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": true,
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": true,
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": true,
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            },
            "type": "pipeline",
            "jobs": {
              "silo_pre_processing_step": {
                "name": "silo_pre_processing_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute1",
                "inputs": {
                  "raw_training_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_train_data}}"
                  },
                  "raw_testing_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.raw_test_data}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "processed_train_data": {
                    "uri": "azureml://datastores/silo_datastore1/paths/federated_learning/processed_train_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  },
                  "processed_test_data": {
                    "uri": "azureml://datastores/silo_datastore1/paths/federated_learning/processed_test_data/${{name}}/",
                    "job_output_type": "uri_folder"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/9aa9d286-955a-416a-9cd5-ef21edcb562c"
              },
              "silo_training_step": {
                "name": "silo_training_step",
                "type": "command",
                "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/siloCompute1",
                "inputs": {
                  "train_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_train_data}}"
                  },
                  "test_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.silo_pre_processing_step.outputs.processed_test_data}}"
                  },
                  "iteration_num": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.iteration_num}}"
                  },
                  "checkpoint": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.checkpoint}}"
                  },
                  "lr": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.lr}}"
                  },
                  "epochs": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.epochs}}"
                  },
                  "batch_size": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.batch_size}}"
                  },
                  "metrics_prefix": {
                    "job_input_type": "literal",
                    "value": ""
                  }
                },
                "outputs": {
                  "model": {
                    "value": "${{parent.outputs.model}}",
                    "type": "literal"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/e174f61c-c87b-4cbf-b1e4-121519bf5592"
              }
            },
            "_source": "DSL",
            "sourceJobId": null
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1260",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:42 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/0a2bba00-bbbd-3bdb-9e44-c82fed654847?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-c185cacf74da5b3459083ff39e3e2ee9-b12e5824e86e5b10-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b6443279-9839-46e0-a5c0-30b341289718",
        "x-ms-ratelimit-remaining-subscription-writes": "1197",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173943Z:b6443279-9839-46e0-a5c0-30b341289718",
        "x-request-time": "3.375"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab",
        "name": "78c63af6-bc38-49fc-ab35-81fe19bd0fab",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "silo_step_func",
            "display_name": "silo_step_func",
            "is_deterministic": "False",
            "type": "pipeline",
            "inputs": {
              "raw_train_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "raw_test_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "checkpoint": {
                "type": "uri_folder",
                "optional": "True"
              },
              "lr": {
                "type": "number",
                "optional": "True",
                "default": "0.01"
              },
              "batch_size": {
                "type": "integer",
                "optional": "True",
                "default": "64"
              },
              "iteration_num": {
                "type": "integer",
                "optional": "True",
                "default": "0"
              },
              "epochs": {
                "type": "integer",
                "optional": "True",
                "default": "3"
              }
            },
            "outputs": {
              "model": {
                "type": "uri_folder"
              }
            }
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:43.2572132\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:43.2572132\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c891308b-3726-e22a-6408-4d7c22280502?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1205",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {
            "codegenBy": "mldesigner"
          },
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "command": "mldesigner execute --source subcomponents.py --name aggregate_output --inputs model_silo_0=\u0027${{inputs.model_silo_0}}\u0027 model_silo_1=\u0027${{inputs.model_silo_1}}\u0027 model_silo_2=\u0027${{inputs.model_silo_2}}\u0027 --outputs aggregated_output=\u0027${{outputs.aggregated_output}}\u0027",
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/428f0159-e40f-4daa-825d-be2eaee52f8c/versions/1",
            "environment": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7",
            "name": "aggregate_output",
            "tags": {
              "codegenBy": "mldesigner"
            },
            "display_name": "aggregate_output",
            "is_deterministic": true,
            "inputs": {
              "model_silo_0": {
                "type": "uri_folder"
              },
              "model_silo_1": {
                "type": "uri_folder"
              },
              "model_silo_2": {
                "type": "uri_folder"
              }
            },
            "outputs": {
              "aggregated_output": {
                "type": "mltable"
              }
            },
            "type": "command",
            "_source": "MLDESIGNER"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1903",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:43 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c891308b-3726-e22a-6408-4d7c22280502?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-9151a33ff0b7872e47a42e3f94714b99-0cf6afbbf40293bd-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "5ae88c85-ffb8-401b-83c7-506a6f504404",
        "x-ms-ratelimit-remaining-subscription-writes": "1198",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173943Z:5ae88c85-ffb8-401b-83c7-506a6f504404",
        "x-request-time": "0.747"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82",
        "name": "85729d83-6946-4992-8e87-71aae881ac82",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {
            "codegenBy": "mldesigner"
          },
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "aggregate_output",
            "display_name": "aggregate_output",
            "is_deterministic": "True",
            "type": "command",
            "tags": {
              "codegenBy": "mldesigner"
            },
            "inputs": {
              "model_silo_0": {
                "type": "uri_folder",
                "optional": "False"
              },
              "model_silo_1": {
                "type": "uri_folder",
                "optional": "False"
              },
              "model_silo_2": {
                "type": "uri_folder",
                "optional": "False"
              }
            },
            "outputs": {
              "aggregated_output": {
                "type": "mltable"
              }
            },
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/428f0159-e40f-4daa-825d-be2eaee52f8c/versions/1",
            "environment": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/4c797784a6b680a11984cf2619bb45f7",
            "resources": {
              "instance_count": "1"
            },
            "command": "mldesigner execute --source subcomponents.py --name aggregate_output --inputs model_silo_0=\u0027${{inputs.model_silo_0}}\u0027 model_silo_1=\u0027${{inputs.model_silo_1}}\u0027 model_silo_2=\u0027${{inputs.model_silo_2}}\u0027 --outputs aggregated_output=\u0027${{outputs.aggregated_output}}\u0027",
            "$schema": "https://componentsdk.azureedge.net/jsonschema/CommandComponent.json"
          }
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:43.4796798\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User",
          "lastModifiedAt": "2023-03-16T17:39:43.4796798\u002B00:00",
          "lastModifiedBy": "Firstname Lastname",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000?api-version=2023-02-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "14358",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.6.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.8.10 (Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "displayName": "fl_pipeline",
          "experimentName": "example_fl_pipeline",
          "isArchived": false,
          "jobType": "Pipeline",
          "inputs": {},
          "jobs": {
            "silo_step_func": {
              "name": "silo_step_func",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_1": {
              "name": "silo_step_func_1",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_2": {
              "name": "silo_step_func_2",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output": {
              "name": "aggregate_output",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_1.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_2.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights": {
              "name": "helloworld_aggregate_model_weights",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            },
            "silo_step_func_3": {
              "name": "silo_step_func_3",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_4": {
              "name": "silo_step_func_4",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_5": {
              "name": "silo_step_func_5",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output_1": {
              "name": "aggregate_output_1",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_3.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_4.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_5.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights_1": {
              "name": "helloworld_aggregate_model_weights_1",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output_1.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            },
            "silo_step_func_6": {
              "name": "silo_step_func_6",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_7": {
              "name": "silo_step_func_7",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_8": {
              "name": "silo_step_func_8",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output_2": {
              "name": "aggregate_output_2",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_6.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_7.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_8.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights_2": {
              "name": "helloworld_aggregate_model_weights_2",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output_2.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "value": "${{parent.outputs.pipeline_output}}",
                  "type": "literal"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            }
          },
          "outputs": {
            "pipeline_output": {
              "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
              "jobOutputType": "uri_folder"
            }
          },
          "settings": {
            "_source": "DSL"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "15342",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 16 Mar 2023 17:39:48 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000?api-version=2023-02-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Server-Timing": "traceparent;desc=\u002200-aea5885e02fa5385f2cc9bf105165688-9e11041e8fd4283c-01\u0022",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "d244b72c-e4d0-4dfa-b6c8-b4c8c5816678",
        "x-ms-ratelimit-remaining-subscription-writes": "1197",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230316T173948Z:d244b72c-e4d0-4dfa-b6c8-b4c8c5816678",
        "x-request-time": "3.887"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000",
        "name": "000000000000000000000",
        "type": "Microsoft.MachineLearningServices/workspaces/jobs",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "azureml.DevPlatv2": "true",
            "azureml.runsource": "azureml.PipelineRun",
            "runSource": "MFE",
            "runType": "HTTP",
            "azureml.parameters": "{}",
            "azureml.continue_on_step_failure": "True",
            "azureml.continue_on_failed_optional_input": "True",
            "azureml.defaultDataStoreName": "workspaceblobstore",
            "azureml.pipelineComponent": "pipelinerun"
          },
          "displayName": "fl_pipeline",
          "status": "Preparing",
          "experimentName": "example_fl_pipeline",
          "services": {
            "Tracking": {
              "jobServiceType": "Tracking",
              "port": null,
              "endpoint": "azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000?",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            },
            "Studio": {
              "jobServiceType": "Studio",
              "port": null,
              "endpoint": "https://ml.azure.com/runs/000000000000000000000?wsid=/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/00000/workspaces/00000",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            }
          },
          "computeId": null,
          "isArchived": false,
          "identity": null,
          "componentId": null,
          "notificationSetting": null,
          "jobType": "Pipeline",
          "settings": {
            "_source": "DSL"
          },
          "jobs": {
            "silo_step_func": {
              "name": "silo_step_func",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_1": {
              "name": "silo_step_func_1",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_2": {
              "name": "silo_step_func_2",
              "type": "pipeline",
              "inputs": {
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output": {
              "name": "aggregate_output",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_1.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_2.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights": {
              "name": "helloworld_aggregate_model_weights",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            },
            "silo_step_func_3": {
              "name": "silo_step_func_3",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_4": {
              "name": "silo_step_func_4",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_5": {
              "name": "silo_step_func_5",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output_1": {
              "name": "aggregate_output_1",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_3.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_4.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_5.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights_1": {
              "name": "helloworld_aggregate_model_weights_1",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output_1.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            },
            "silo_step_func_6": {
              "name": "silo_step_func_6",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore1/paths/LocalUpload/00000000000000000000000000000000/silo1_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/78c63af6-bc38-49fc-ab35-81fe19bd0fab"
            },
            "silo_step_func_7": {
              "name": "silo_step_func_7",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore2/paths/LocalUpload/00000000000000000000000000000000/silo2_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/b715ba21-d7ea-4dd7-adec-30032b7a3afd"
            },
            "silo_step_func_8": {
              "name": "silo_step_func_8",
              "type": "pipeline",
              "inputs": {
                "checkpoint": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.helloworld_aggregate_model_weights_1.outputs.aggregated_output}}"
                },
                "raw_train_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input1.txt",
                  "job_input_type": "uri_file"
                },
                "raw_test_data": {
                  "mode": "ReadOnlyMount",
                  "uri": "azureml://datastores/silo_datastore3/paths/LocalUpload/00000000000000000000000000000000/silo3_input2.txt",
                  "job_input_type": "uri_file"
                }
              },
              "outputs": {
                "model": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/model/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/c5a6dbb3-6c97-4eff-ad2b-7b01d9badc72"
            },
            "aggregate_output_2": {
              "name": "aggregate_output_2",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "model_silo_0": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_6.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_7.outputs.model}}",
                  "mode": "Direct"
                },
                "model_silo_2": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.silo_step_func_8.outputs.model}}",
                  "mode": "Direct"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
                  "job_output_type": "uri_folder"
                }
              },
              "_source": "MLDESIGNER",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/85729d83-6946-4992-8e87-71aae881ac82"
            },
            "helloworld_aggregate_model_weights_2": {
              "name": "helloworld_aggregate_model_weights_2",
              "type": "command",
              "computeId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/aggCompute",
              "inputs": {
                "silo_inputs": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.aggregate_output_2.outputs.aggregated_output}}"
                }
              },
              "outputs": {
                "aggregated_output": {
                  "value": "${{parent.outputs.pipeline_output}}",
                  "type": "literal"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5dd5dafc-a553-426b-a419-58187e10f54c"
            }
          },
          "inputs": {},
          "outputs": {
            "pipeline_output": {
              "description": null,
              "uri": "azureml://datastores/agg_datastore/paths/federated_learning/aggregated_output/${{name}}/",
              "assetName": null,
              "assetVersion": null,
              "mode": "ReadWriteMount",
              "jobOutputType": "uri_folder"
            }
          },
          "sourceJobId": null
        },
        "systemData": {
          "createdAt": "2023-03-16T17:39:47.6064477\u002B00:00",
          "createdBy": "Firstname Lastname",
          "createdByType": "User"
        }
      }
    }
  ],
  "Variables": {}
}
