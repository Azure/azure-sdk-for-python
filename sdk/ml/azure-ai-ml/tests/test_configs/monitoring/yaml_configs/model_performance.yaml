$schema:  http://azureml/sdk-2-0/Schedule.json
name: ga-sdk-test
display_name: ga-sdk-test

trigger:
  type: recurrence
  frequency: month
  interval: 1
  schedule: 
    hours: 3
    minutes: 30
    month_days: 2

create_monitor:
  compute: 
    instance_type: standard_e4s_v3
    runtime_version: '3.3'
  monitoring_target:
    ml_task: classification
    endpoint_deployment_id: azureml:credit-default:main
    
  monitoring_signals:
    model_performance:
      type: model_performance
      production_data:
        - input_data: 
            path: azureml:credit-default-main-model_inputs:1
            type: uri_folder
          data_context: model_inputs
          data_window:
            lookback_window_size: "P7D"
            lookback_window_offset: "P0D"
        - input_data: 
            path: azureml:credit-default-main-model_inputs:1
            type: uri_folder
          data_context: model_inputs
          data_window:
            lookback_window_size: "P10D"
            lookback_window_offset: "P0D"
      reference_data:
        input_data:
          path: azureml:credit-default-reference:1
          type: mltable
        data_context: training
        data_window:
            lookback_window_size: "P7D"
            lookback_window_offset: "P0D"
      metric_thresholds:
        classification:
          accuracy: 0.5
          precision: 0.5