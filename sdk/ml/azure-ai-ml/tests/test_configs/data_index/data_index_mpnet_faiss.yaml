$schema: http://azureml/sdk-2-0/DataIndex.json
type: uri_folder
name: docs_ml_mpnet
description: Docs embedded with sentence-transformers/all-mpnet-base-v2 and indexed in Faiss.

source:
    input_data:
      type: uri_folder
      #path: https://github.com/MicrosoftDocs/azure-docs.git
      path: ./../test_data
    #input_glob: 'articles/machine-learning/**/*'
    chunk_size: 1024
    chunk_overlap: 0
    citation_url: 'https://learn.microsoft.com/en-us/azure'
    citation_url_replacement_regex:
      match_pattern: "(.*)/articles/(.*)(\\.[^.]+)$"
      replacement_pattern: "\\1/\\2"

embedding:
    model: hugging_face://model/sentence-transformers/all-mpnet-base-v2
    cache_path: azureml://datastores/workspaceblobstore/paths/embeddings_cache/docs_ml_mpnet

index:
    type: faiss

path: azureml://datastores/workspaceblobstore/paths/{name}
