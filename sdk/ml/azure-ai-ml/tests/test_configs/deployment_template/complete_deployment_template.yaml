$schema: https://azuremlschemas.azureedge.net/latest/deploymentTemplate.schema.json
name: test-complete-template
version: 1
type: deploymenttemplates
deployment_template_type: Managed
description: Complete deployment template with all features for E2E testing
tags:
  test: e2e
  type: complete
  stage: development
environment: azureml://registries/testFeed/environments/test-sklearn-env/versions/1
model_mount_path: /var/azureml-app
request_settings:
  request_timeout_ms: 6000
  max_concurrent_requests_per_instance: 2
scoring_path: /v1/models/test_model:predict
scoring_port: 8501
liveness_probe:
  initial_delay: 300
  period: 10
  timeout: 2
  failure_threshold: 30
  success_threshold: 1
  scheme: HTTP
  method: GET
  path: /v1/models/test_model
  port: 8501
readiness_probe:
  initial_delay: 300
  period: 10
  timeout: 2
  failure_threshold: 30
  success_threshold: 1
  scheme: HTTP
  method: GET
  path: /v1/models/test_model
  port: 8501
environment_variables:
  MODEL_BASE_PATH: /var/azureml-app/azureml-models/model/1
  MODEL_NAME: test_model
  ENABLE_DIAGNOSTICS: "true"
allowed_instance_types: Standard_DS2_v2,Standard_DS3_v2,Standard_DS4_v2
default_instance_type: Standard_DS3_v2
instance_count: 2
instance_type: Standard_DS3_v2
