{
  "title": "DeploymentTemplates_Create - generated by [MaximumSet] rule",
  "operationId": "DeploymentTemplates_Create",
  "parameters": {
    "api-version": "2024-04-01-preview",
    "registryName": "myRegistry",
    "name": "ai21-jamba-template",
    "version": "1.0.0",
    "body": {
      "deploymentTemplateType": "Managed",
      "environmentId": "azureml://registries/myRegistry/environments/ai21-jamba-env/versions/1",
      "environmentVariables": {
        "AZUREML_MODEL_DIR": "/var/azureml-app/azureml-models/model-1/1",
        "WORLD_SIZE": "2",
        "MAX_PROMPT_LENGTH": "65536",
        "CUDA_VISIBLE_DEVICES": "0,1"
      },
      "allowedEnvironmentVariableOverrides": [
        "WORLD_SIZE",
        "MAX_PROMPT_LENGTH",
        "CUDA_VISIBLE_DEVICES"
      ],
      "modelMountPath": "/var/azureml-app",
      "requestSettings": {
        "requestTimeout": "PT90S",
        "maxConcurrentRequestsPerInstance": 10
      },
      "livenessProbe": {
        "initialDelay": "PT300S",
        "period": "PT10S",
        "timeout": "PT2S",
        "failureThreshold": 30,
        "successThreshold": 1,
        "path": "/health",
        "port": 8080,
        "scheme": "HTTP",
        "httpMethod": "GET"
      },
      "readinessProbe": {
        "initialDelay": "PT300S",
        "period": "PT10S",
        "timeout": "PT2S",
        "failureThreshold": 30,
        "successThreshold": 1,
        "path": "/ready",
        "port": 8080,
        "scheme": "HTTP",
        "httpMethod": "GET"
      },
      "allowedInstanceType": [
        "Standard_NC24ads_A100_v4",
        "Standard_NC48ads_A100_v4",
        "Standard_NC96ads_A100_v4"
      ],
      "defaultInstanceType": "Standard_NC24ads_A100_v4",
      "instanceCount": 1,
      "scoringPath": "/score",
      "scoringPort": 8080,
      "stage": "Development",
      "description": "AI21 Jamba deployment template for large language model inference",
      "tags": {
        "modelFamily": "ai21-jamba",
        "taskType": "text-generation",
        "framework": "transformers"
      },
      "properties": {
        "modelSize": "large",
        "accelerator": "gpu",
        "precision": "fp16"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "location": "https://management.azure.com/subscriptions/12345678-1234-1234-1234-123456789abc/resourceGroups/myResourceGroup/providers/Microsoft.MachineLearningServices/registries/myRegistry/deploymenttemplates/ai21-jamba-template/versions/1.0.0/operations/operation-id-12345"
      }
    }
  }
}
