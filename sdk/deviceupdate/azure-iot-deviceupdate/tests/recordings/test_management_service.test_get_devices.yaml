interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-iot-deviceupdate/1.0.0b3 Python/3.10.4 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://foo.api.adu.microsoft.com/deviceUpdate/bar/management/devices?api-version=2022-07-01-preview
  response:
    body:
      string: '{"value":[{"deviceId":"adu-sdk-test-device-1","deviceClassId":"0919e3ae422a2bfa8c84ff905813e60351e456d1","groupId":"testgroup","onLatestUpdate":false,"deploymentStatus":"Succeeded","lastInstallResult":{"resultCode":700,"extendedResultCode":0,"resultDetails":""}},{"deviceId":"joseph-edgevm2","deviceClassId":"0919e3ae422a2bfa8c84ff905813e60351e456d1","groupId":"joegroup","installedUpdate":{"updateId":{"provider":"foo","name":"bar","version":"2022.128.1751.30"}},"onLatestUpdate":false,"lastAttemptedUpdate":{"updateId":{"provider":"foo","name":"bar","version":"2022.128.1751.30"}},"deploymentStatus":"Succeeded","lastDeploymentId":"joegroup-2022-128-1751-30-0129015341","lastInstallResult":{"resultCode":700,"extendedResultCode":0,"resultDetails":""}},{"deviceId":"foo","deviceClassId":"0919e3ae422a2bfa8c84ff905813e60351e456d1","groupId":"foo","onLatestUpdate":false,"lastAttemptedUpdate":{"updateId":{"provider":"foo","name":"bar","version":"2022.608.554.1"}},"deploymentStatus":"Failed","lastDeploymentId":"test0609070108","lastInstallResult":{"resultCode":0,"extendedResultCode":805306371,"resultDetails":""}}]}'
    headers:
      content-length:
      - '1161'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Jun 2022 21:03:44 GMT
      mise-correlation-id:
      - eedfa367-8533-4abd-8b64-785d234536a8
      traceparent:
      - 00-af49b320f669824297e6745a5dd9c495-a9a7e75d8ff1b74a-00
    status:
      code: 200
      message: OK
version: 1
