interactions:
- request:
    body: '{"autoScaleFormula": "$TargetDedicatedNodes=2", "autoScaleEvaluationInterval":
      "PT6M"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '86'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:50 GMT
    method: POST
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/enableautoscale?api-version=2020-09-01.12.0
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/enableautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D886769EE98E71'
      last-modified:
      - Wed, 11 Nov 2020 19:18:50 GMT
      request-id:
      - 6993ed70-a4a4-4054-aa30-2730ddc37cb2
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"autoScaleFormula": "$TargetDedicatedNodes=3"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:51 GMT
    method: POST
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/evaluateautoscale?api-version=2020-09-01.12.0
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://batche2690d64.westcentralus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.AutoScaleRun\"\
        ,\"timestamp\":\"2020-11-11T19:18:52.040233Z\",\"results\":\"$TargetDedicatedNodes=3;$TargetLowPriorityNodes=0;$NodeDeallocationOption=requeue\"\
        \r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceid:
      - https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/evaluateautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      request-id:
      - b9d7308b-8e91-485d-a07f-4ed8b1fd6c2e
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: POST
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/disableautoscale?api-version=2020-09-01.12.0
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/disableautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D886769FFA3E30'
      last-modified:
      - Wed, 11 Nov 2020 19:18:52 GMT
      request-id:
      - c2984321-5639-4431-b8da-d08d3c36d014
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: GET
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64?api-version=2020-09-01.12.0
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://batche2690d64.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"test_batch_test_batch_scale_poolse2690d64\",\"displayName\":\"test_pool\"\
        ,\"url\":\"https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64\"\
        ,\"eTag\":\"0x8D886769FFA3E30\",\"lastModified\":\"2020-11-11T19:18:52.116536Z\"\
        ,\"creationTime\":\"2020-11-11T19:18:50.3294577Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-11-11T19:18:50.3294577Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2020-11-11T19:18:52.1365381Z\"\
        ,\"vmSize\":\"standard_a1\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"userAccounts\"\
        :[\r\n    {\r\n      \"name\":\"task-user\",\"elevationLevel\":\"admin\"\r\
        \n    }\r\n  ],\"taskSlotsPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"\
        nodeFillType\":\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n   \
        \ \"imageReference\":{\r\n      \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 16.04\"\r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D886769FFA3E30'
      last-modified:
      - Wed, 11 Nov 2020 19:18:52 GMT
      request-id:
      - e6500738-1af6-4463-9784-6a7d3bbba98c
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"targetDedicatedNodes": 0, "targetLowPriorityNodes": 2}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '56'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: POST
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/resize?api-version=2020-09-01.12.0
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/resize
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D88676A0173D38'
      last-modified:
      - Wed, 11 Nov 2020 19:18:52 GMT
      request-id:
      - 4f55f705-6491-42e3-9bfc-0b6d4403f6d8
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: POST
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/stopresize?api-version=2020-09-01.12.0
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64/stopresize
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D88676A0173D38'
      last-modified:
      - Wed, 11 Nov 2020 19:18:52 GMT
      request-id:
      - 7f5e01ed-3df7-4b9f-a7e8-e2b74a9e23f7
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: GET
    uri: https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64?api-version=2020-09-01.12.0
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://batche2690d64.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"test_batch_test_batch_scale_poolse2690d64\",\"displayName\":\"test_pool\"\
        ,\"url\":\"https://batche2690d64.westcentralus.batch.azure.com/pools/test_batch_test_batch_scale_poolse2690d64\"\
        ,\"eTag\":\"0x8D88676A0173D38\",\"lastModified\":\"2020-11-11T19:18:52.3065656Z\"\
        ,\"creationTime\":\"2020-11-11T19:18:50.3294577Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-11-11T19:18:50.3294577Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2020-11-11T19:18:52.470559Z\"\
        ,\"vmSize\":\"standard_a1\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :2,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"userAccounts\":[\r\n    {\r\n      \"name\":\"task-user\",\"elevationLevel\"\
        :\"admin\"\r\n    }\r\n  ],\"taskSlotsPerNode\":1,\"taskSchedulingPolicy\"\
        :{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"virtualMachineConfiguration\"\
        :{\r\n    \"imageReference\":{\r\n      \"publisher\":\"Canonical\",\"offer\"\
        :\"UbuntuServer\",\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n    },\"\
        nodeAgentSKUId\":\"batch.node.ubuntu 16.04\"\r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:51 GMT
      etag:
      - '0x8D88676A0173D38'
      last-modified:
      - Wed, 11 Nov 2020 19:18:52 GMT
      request-id:
      - face8b06-73e7-49b0-8384-72bcf633dc51
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:52 GMT
    method: GET
    uri: https://batche2690d64.westcentralus.batch.azure.com/lifetimepoolstats?api-version=2020-09-01.12.0
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://batche2690d64.westcentralus.batch.azure.com/$metadata#poolstats/@Element\"\
        ,\"url\":\"https://batche2690d64.westcentralus.batch.azure.com/lifetimepoolstats\"\
        ,\"usageStats\":{\r\n    \"startTime\":\"2020-11-11T19:18:32.8553193Z\",\"\
        lastUpdateTime\":\"2020-11-11T19:18:32.8553193Z\",\"dedicatedCoreTime\":\"\
        PT0S\"\r\n  },\"resourceStats\":{\r\n    \"startTime\":\"2020-11-11T19:18:32.8553193Z\"\
        ,\"diskReadIOps\":\"0\",\"diskWriteIOps\":\"0\",\"lastUpdateTime\":\"2020-11-11T19:18:32.8553193Z\"\
        ,\"avgCPUPercentage\":0.0,\"avgMemoryGiB\":0.0,\"peakMemoryGiB\":0.0,\"avgDiskGiB\"\
        :0.0,\"peakDiskGiB\":0.0,\"diskReadGiB\":0.0,\"diskWriteGiB\":0.0,\"networkReadGiB\"\
        :0.0,\"networkWriteGiB\":0.0\r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:53 GMT
      request-id:
      - a28ee368-b2f1-4261-a58f-ebb09657df84
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.5 (macOS-10.15.6-x86_64-i386-64bit) msrest/0.6.19 msrest_azure/0.6.4
        azure-batch/9.0.1 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Wed, 11 Nov 2020 19:18:53 GMT
    method: GET
    uri: https://batche2690d64.westcentralus.batch.azure.com/poolusagemetrics?api-version=2020-09-01.12.0
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://batche2690d64.westcentralus.batch.azure.com/$metadata#poolusagemetrics\"\
        ,\"value\":[\r\n    \r\n  ]\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Wed, 11 Nov 2020 19:18:53 GMT
      request-id:
      - 4d69280e-05ca-49c1-a7ee-bbe6ed2f03a5
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
