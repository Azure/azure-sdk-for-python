# pylint: disable=line-too-long,useless-suppression,too-many-lines
# coding=utf-8
# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
# Code generated by Microsoft (R) Python Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is regenerated.
# --------------------------------------------------------------------------
# pylint: disable=useless-super-delegation

import datetime
from typing import Any, Mapping, Optional, TYPE_CHECKING, Union, overload

from .._utils.model_base import Model as _Model, rest_field

if TYPE_CHECKING:
    from .. import models as _models


class ErrorAdditionalInfo(_Model):
    """The resource management error additional info.

    :ivar type: The additional info type.
    :vartype type: str
    :ivar info: The additional info.
    :vartype info: any
    """

    type: Optional[str] = rest_field(visibility=["read"])
    """The additional info type."""
    info: Optional[Any] = rest_field(visibility=["read"])
    """The additional info."""


class ErrorDetail(_Model):
    """The error detail.

    :ivar code: The error code.
    :vartype code: str
    :ivar message: The error message.
    :vartype message: str
    :ivar target: The error target.
    :vartype target: str
    :ivar details: The error details.
    :vartype details: list[~azure.mgmt.resource.policy.models.ErrorDetail]
    :ivar additional_info: The error additional info.
    :vartype additional_info: list[~azure.mgmt.resource.policy.models.ErrorAdditionalInfo]
    """

    code: Optional[str] = rest_field(visibility=["read"])
    """The error code."""
    message: Optional[str] = rest_field(visibility=["read"])
    """The error message."""
    target: Optional[str] = rest_field(visibility=["read"])
    """The error target."""
    details: Optional[list["_models.ErrorDetail"]] = rest_field(visibility=["read"])
    """The error details."""
    additional_info: Optional[list["_models.ErrorAdditionalInfo"]] = rest_field(
        name="additionalInfo", visibility=["read"]
    )
    """The error additional info."""


class ErrorResponse(_Model):
    """Error response.

    :ivar error: The error object.
    :vartype error: ~azure.mgmt.resource.policy.models.ErrorDetail
    """

    error: Optional["_models.ErrorDetail"] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The error object."""

    @overload
    def __init__(
        self,
        *,
        error: Optional["_models.ErrorDetail"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class Resource(_Model):
    """Resource.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    """

    id: Optional[str] = rest_field(visibility=["read"])
    """Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}."""
    name: Optional[str] = rest_field(visibility=["read"])
    """The name of the resource."""
    type: Optional[str] = rest_field(visibility=["read"])
    """The type of the resource. E.g. \"Microsoft.Compute/virtualMachines\" or
     \"Microsoft.Storage/storageAccounts\"."""
    system_data: Optional["_models.SystemData"] = rest_field(name="systemData", visibility=["read"])
    """Azure Resource Manager metadata containing createdBy and modifiedBy information."""


class ExtensionResource(Resource):
    """The base extension resource.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    """


class ExternalEvaluationEndpointInvocationResult(_Model):  # pylint: disable=name-too-long
    """The external evaluation endpoint invocation results.

    :ivar policy_info: The details of the policy requiring the external endpoint invocation.
    :vartype policy_info: ~azure.mgmt.resource.policy.models.PolicyLogInfo
    :ivar result: The result of the external endpoint. Possible values are Succeeded and Failed.
     Known values are: "Succeeded" and "Failed".
    :vartype result: str or ~azure.mgmt.resource.policy.models.ExternalEndpointResult
    :ivar endpoint_kind: The external evaluation endpoint kind.
    :vartype endpoint_kind: str
    :ivar message: The status message with additional details about the invocation result.
    :vartype message: str
    :ivar retry_after: The date and time after which a failed endpoint invocation can be retried.
    :vartype retry_after: ~datetime.datetime
    :ivar claims: The set of claims that will be attached to the policy token as an attestation for
     the result of the endpoint invocation.
    :vartype claims: any
    :ivar policy_action: The effective outcome of the policy evaluation based on both the policy
     effect and evaluation result. Possible values are Unknown, Allow, Audit, Deny, Error. Known
     values are: "Unknown", "Audit", "Deny", and "Error".
    :vartype policy_action: str or ~azure.mgmt.resource.policy.models.PolicyAction
    :ivar policy_evaluation_details: The evaluation details returned by the policy evaluation
     engine.
    :vartype policy_evaluation_details: any
    :ivar additional_info: The endpoint specific metadata.
    :vartype additional_info: any
    :ivar expiration: The expiration of the results.
    :vartype expiration: ~datetime.datetime
    """

    policy_info: Optional["_models.PolicyLogInfo"] = rest_field(
        name="policyInfo", visibility=["read", "create", "update", "delete", "query"]
    )
    """The details of the policy requiring the external endpoint invocation."""
    result: Optional[Union[str, "_models.ExternalEndpointResult"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The result of the external endpoint. Possible values are Succeeded and Failed. Known values
     are: \"Succeeded\" and \"Failed\"."""
    endpoint_kind: Optional[str] = rest_field(
        name="endpointKind", visibility=["read", "create", "update", "delete", "query"]
    )
    """The external evaluation endpoint kind."""
    message: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The status message with additional details about the invocation result."""
    retry_after: Optional[datetime.datetime] = rest_field(
        name="retryAfter", visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The date and time after which a failed endpoint invocation can be retried."""
    claims: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The set of claims that will be attached to the policy token as an attestation for the result of
     the endpoint invocation."""
    policy_action: Optional[Union[str, "_models.PolicyAction"]] = rest_field(
        name="policyAction", visibility=["read", "create", "update", "delete", "query"]
    )
    """The effective outcome of the policy evaluation based on both the policy effect and evaluation
     result. Possible values are Unknown, Allow, Audit, Deny, Error. Known values are: \"Unknown\",
     \"Audit\", \"Deny\", and \"Error\"."""
    policy_evaluation_details: Optional[Any] = rest_field(
        name="policyEvaluationDetails", visibility=["read", "create", "update", "delete", "query"]
    )
    """The evaluation details returned by the policy evaluation engine."""
    additional_info: Optional[Any] = rest_field(
        name="additionalInfo", visibility=["read", "create", "update", "delete", "query"]
    )
    """The endpoint specific metadata."""
    expiration: Optional[datetime.datetime] = rest_field(
        visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The expiration of the results."""

    @overload
    def __init__(
        self,
        *,
        policy_info: Optional["_models.PolicyLogInfo"] = None,
        result: Optional[Union[str, "_models.ExternalEndpointResult"]] = None,
        endpoint_kind: Optional[str] = None,
        message: Optional[str] = None,
        retry_after: Optional[datetime.datetime] = None,
        claims: Optional[Any] = None,
        policy_action: Optional[Union[str, "_models.PolicyAction"]] = None,
        policy_evaluation_details: Optional[Any] = None,
        additional_info: Optional[Any] = None,
        expiration: Optional[datetime.datetime] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ExternalEvaluationEndpointSettings(_Model):
    """The settings of an external endpoint providing evaluation results.

    :ivar kind: The kind of the endpoint.
    :vartype kind: str
    :ivar details: The details of the endpoint.
    :vartype details: any
    """

    kind: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The kind of the endpoint."""
    details: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The details of the endpoint."""

    @overload
    def __init__(
        self,
        *,
        kind: Optional[str] = None,
        details: Optional[Any] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ExternalEvaluationEnforcementSettings(_Model):
    """The details of the source of external evaluation results required by the policy during
    enforcement evaluation.

    :ivar missing_token_action: What to do when evaluating an enforcement policy that requires an
     external evaluation and the token is missing. Possible values are Audit and Deny and language
     expressions are supported.
    :vartype missing_token_action: str
    :ivar result_lifespan: The lifespan of the endpoint invocation result after which it's no
     longer valid. Value is expected to follow the ISO 8601 duration format and language expressions
     are supported.
    :vartype result_lifespan: str
    :ivar endpoint_settings: The settings of an external endpoint providing evaluation results.
    :vartype endpoint_settings:
     ~azure.mgmt.resource.policy.models.ExternalEvaluationEndpointSettings
    :ivar role_definition_ids: An array of the role definition Ids the assignment's MSI will need
     in order to invoke the endpoint.
    :vartype role_definition_ids: list[str]
    """

    missing_token_action: Optional[str] = rest_field(
        name="missingTokenAction", visibility=["read", "create", "update", "delete", "query"]
    )
    """What to do when evaluating an enforcement policy that requires an external evaluation and the
     token is missing. Possible values are Audit and Deny and language expressions are supported."""
    result_lifespan: Optional[str] = rest_field(
        name="resultLifespan", visibility=["read", "create", "update", "delete", "query"]
    )
    """The lifespan of the endpoint invocation result after which it's no longer valid. Value is
     expected to follow the ISO 8601 duration format and language expressions are supported."""
    endpoint_settings: Optional["_models.ExternalEvaluationEndpointSettings"] = rest_field(
        name="endpointSettings", visibility=["read", "create", "update", "delete", "query"]
    )
    """The settings of an external endpoint providing evaluation results."""
    role_definition_ids: Optional[list[str]] = rest_field(
        name="roleDefinitionIds", visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of the role definition Ids the assignment's MSI will need in order to invoke the
     endpoint."""

    @overload
    def __init__(
        self,
        *,
        missing_token_action: Optional[str] = None,
        result_lifespan: Optional[str] = None,
        endpoint_settings: Optional["_models.ExternalEvaluationEndpointSettings"] = None,
        role_definition_ids: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class Identity(_Model):
    """Identity for the resource.  Policy assignments support a maximum of one identity.  That is
    either a system assigned identity or a single user assigned identity.

    :ivar principal_id: The principal ID of the resource identity.  This property will only be
     provided for a system assigned identity.
    :vartype principal_id: str
    :ivar tenant_id: The tenant ID of the resource identity.  This property will only be provided
     for a system assigned identity.
    :vartype tenant_id: str
    :ivar type: The identity type. This is the only required field when adding a system or user
     assigned identity to a resource. Known values are: "SystemAssigned", "UserAssigned", and
     "None".
    :vartype type: str or ~azure.mgmt.resource.policy.models.ResourceIdentityType
    :ivar user_assigned_identities: The user identity associated with the policy. The user identity
     dictionary key references will be ARM resource ids in the form:
     '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'.
    :vartype user_assigned_identities: dict[str,
     ~azure.mgmt.resource.policy.models.UserAssignedIdentitiesValue]
    """

    principal_id: Optional[str] = rest_field(name="principalId", visibility=["read"])
    """The principal ID of the resource identity.  This property will only be provided for a system
     assigned identity."""
    tenant_id: Optional[str] = rest_field(name="tenantId", visibility=["read"])
    """The tenant ID of the resource identity.  This property will only be provided for a system
     assigned identity."""
    type: Optional[Union[str, "_models.ResourceIdentityType"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The identity type. This is the only required field when adding a system or user assigned
     identity to a resource. Known values are: \"SystemAssigned\", \"UserAssigned\", and \"None\"."""
    user_assigned_identities: Optional[dict[str, "_models.UserAssignedIdentitiesValue"]] = rest_field(
        name="userAssignedIdentities", visibility=["read", "create", "update", "delete", "query"]
    )
    """The user identity associated with the policy. The user identity dictionary key references will
     be ARM resource ids in the form:
     '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."""

    @overload
    def __init__(
        self,
        *,
        type: Optional[Union[str, "_models.ResourceIdentityType"]] = None,
        user_assigned_identities: Optional[dict[str, "_models.UserAssignedIdentitiesValue"]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class NonComplianceMessage(_Model):
    """A message that describes why a resource is non-compliant with the policy. This is shown in
    'deny' error messages and on resource's non-compliant compliance results.

    :ivar message: A message that describes why a resource is non-compliant with the policy. This
     is shown in 'deny' error messages and on resource's non-compliant compliance results. Required.
    :vartype message: str
    :ivar policy_definition_reference_id: The policy definition reference ID within a policy set
     definition the message is intended for. This is only applicable if the policy assignment
     assigns a policy set definition. If this is not provided the message applies to all policies
     assigned by this policy assignment.
    :vartype policy_definition_reference_id: str
    """

    message: str = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """A message that describes why a resource is non-compliant with the policy. This is shown in
     'deny' error messages and on resource's non-compliant compliance results. Required."""
    policy_definition_reference_id: Optional[str] = rest_field(
        name="policyDefinitionReferenceId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition reference ID within a policy set definition the message is intended for.
     This is only applicable if the policy assignment assigns a policy set definition. If this is
     not provided the message applies to all policies assigned by this policy assignment."""

    @overload
    def __init__(
        self,
        *,
        message: str,
        policy_definition_reference_id: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class Override(_Model):
    """The policy property value override.

    :ivar kind: The override kind. Known values are: "policyEffect" and "definitionVersion".
    :vartype kind: str or ~azure.mgmt.resource.policy.models.OverrideKind
    :ivar value: The value to override the policy property.
    :vartype value: str
    :ivar selectors: The list of the selector expressions.
    :vartype selectors: list[~azure.mgmt.resource.policy.models.Selector]
    """

    kind: Optional[Union[str, "_models.OverrideKind"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The override kind. Known values are: \"policyEffect\" and \"definitionVersion\"."""
    value: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The value to override the policy property."""
    selectors: Optional[list["_models.Selector"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The list of the selector expressions."""

    @overload
    def __init__(
        self,
        *,
        kind: Optional[Union[str, "_models.OverrideKind"]] = None,
        value: Optional[str] = None,
        selectors: Optional[list["_models.Selector"]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ParameterDefinitionsValue(_Model):
    """The definition of a parameter that can be provided to the policy.

    :ivar type: The data type of the parameter. Known values are: "String", "Array", "Object",
     "Boolean", "Integer", "Float", and "DateTime".
    :vartype type: str or ~azure.mgmt.resource.policy.models.ParameterType
    :ivar allowed_values: The allowed values for the parameter.
    :vartype allowed_values: list[any]
    :ivar default_value: The default value for the parameter if no value is provided.
    :vartype default_value: any
    :ivar schema: Provides validation of parameter inputs during assignment using a self-defined
     JSON schema. This property is only supported for object-type parameters and follows the
     Json.NET Schema 2019-09 implementation. You can learn more about using schemas at
     `https://json-schema.org/ <https://json-schema.org/>`_ and test draft schemas at
     `https://www.jsonschemavalidator.net/ <https://www.jsonschemavalidator.net/>`_.
    :vartype schema: any
    :ivar metadata: General metadata for the parameter.
    :vartype metadata: ~azure.mgmt.resource.policy.models.ParameterDefinitionsValueMetadata
    """

    type: Optional[Union[str, "_models.ParameterType"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The data type of the parameter. Known values are: \"String\", \"Array\", \"Object\",
     \"Boolean\", \"Integer\", \"Float\", and \"DateTime\"."""
    allowed_values: Optional[list[Any]] = rest_field(
        name="allowedValues", visibility=["read", "create", "update", "delete", "query"]
    )
    """The allowed values for the parameter."""
    default_value: Optional[Any] = rest_field(
        name="defaultValue", visibility=["read", "create", "update", "delete", "query"]
    )
    """The default value for the parameter if no value is provided."""
    schema: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """Provides validation of parameter inputs during assignment using a self-defined JSON schema.
     This property is only supported for object-type parameters and follows the Json.NET Schema
     2019-09 implementation. You can learn more about using schemas at `https://json-schema.org/
     <https://json-schema.org/>`_ and test draft schemas at `https://www.jsonschemavalidator.net/
     <https://www.jsonschemavalidator.net/>`_."""
    metadata: Optional["_models.ParameterDefinitionsValueMetadata"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """General metadata for the parameter."""

    @overload
    def __init__(
        self,
        *,
        type: Optional[Union[str, "_models.ParameterType"]] = None,
        allowed_values: Optional[list[Any]] = None,
        default_value: Optional[Any] = None,
        schema: Optional[Any] = None,
        metadata: Optional["_models.ParameterDefinitionsValueMetadata"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ParameterDefinitionsValueMetadata(_Model):
    """General metadata for the parameter.

    :ivar display_name: The display name for the parameter.
    :vartype display_name: str
    :ivar description: The description of the parameter.
    :vartype description: str
    :ivar strong_type: Used when assigning the policy definition through the portal. Provides a
     context aware list of values for the user to choose from.
    :vartype strong_type: str
    :ivar assign_permissions: Set to true to have Azure portal create role assignments on the
     resource ID or resource scope value of this parameter during policy assignment. This property
     is useful in case you wish to assign permissions outside the assignment scope.
    :vartype assign_permissions: bool
    """

    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name for the parameter."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The description of the parameter."""
    strong_type: Optional[str] = rest_field(
        name="strongType", visibility=["read", "create", "update", "delete", "query"]
    )
    """Used when assigning the policy definition through the portal. Provides a context aware list of
     values for the user to choose from."""
    assign_permissions: Optional[bool] = rest_field(
        name="assignPermissions", visibility=["read", "create", "update", "delete", "query"]
    )
    """Set to true to have Azure portal create role assignments on the resource ID or resource scope
     value of this parameter during policy assignment. This property is useful in case you wish to
     assign permissions outside the assignment scope."""

    @overload
    def __init__(
        self,
        *,
        display_name: Optional[str] = None,
        description: Optional[str] = None,
        strong_type: Optional[str] = None,
        assign_permissions: Optional[bool] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ParameterValuesValue(_Model):
    """The value of a parameter.

    :ivar value: The value of the parameter.
    :vartype value: any
    """

    value: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The value of the parameter."""

    @overload
    def __init__(
        self,
        *,
        value: Optional[Any] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyAssignment(ExtensionResource):
    """The policy assignment.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    :ivar properties: Properties for the policy assignment.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicyAssignmentProperties
    :ivar location: The location of the policy assignment. Only required when utilizing managed
     identity.
    :vartype location: str
    :ivar identity: The managed identity associated with the policy assignment.
    :vartype identity: ~azure.mgmt.resource.policy.models.Identity
    """

    properties: Optional["_models.PolicyAssignmentProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """Properties for the policy assignment."""
    location: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The location of the policy assignment. Only required when utilizing managed identity."""
    identity: Optional["_models.Identity"] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The managed identity associated with the policy assignment."""

    __flattened_items = [
        "display_name",
        "policy_definition_id",
        "definition_version",
        "latest_definition_version",
        "effective_definition_version",
        "scope",
        "not_scopes",
        "parameters",
        "description",
        "metadata",
        "enforcement_mode",
        "non_compliance_messages",
        "resource_selectors",
        "overrides",
        "assignment_type",
        "instance_id",
        "self_serve_exemption_settings",
    ]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicyAssignmentProperties"] = None,
        location: Optional[str] = None,
        identity: Optional["_models.Identity"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicyAssignmentProperties(_Model):
    """The policy assignment properties.

    :ivar display_name: The display name of the policy assignment.
    :vartype display_name: str
    :ivar policy_definition_id: The ID of the policy definition or policy set definition being
     assigned.
    :vartype policy_definition_id: str
    :ivar definition_version: The version of the policy definition to use.
    :vartype definition_version: str
    :ivar latest_definition_version: The latest version of the policy definition available. This is
     only present if requested via the $expand query parameter.
    :vartype latest_definition_version: str
    :ivar effective_definition_version: The effective version of the policy definition in use. This
     is only present if requested via the $expand query parameter.
    :vartype effective_definition_version: str
    :ivar scope: The scope for the policy assignment.
    :vartype scope: str
    :ivar not_scopes: The policy's excluded scopes.
    :vartype not_scopes: list[str]
    :ivar parameters: The parameter values for the assigned policy rule. The keys are the parameter
     names.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterValuesValue]
    :ivar description: This message will be part of response in case of policy violation.
    :vartype description: str
    :ivar metadata: The policy assignment metadata. Metadata is an open ended object and is
     typically a collection of key value pairs.
    :vartype metadata: any
    :ivar enforcement_mode: The policy assignment enforcement mode. Possible values are Default,
     DoNotEnforce, and Enroll. Known values are: "Default", "DoNotEnforce", and "Enroll".
    :vartype enforcement_mode: str or ~azure.mgmt.resource.policy.models.EnforcementMode
    :ivar non_compliance_messages: The messages that describe why a resource is non-compliant with
     the policy.
    :vartype non_compliance_messages: list[~azure.mgmt.resource.policy.models.NonComplianceMessage]
    :ivar resource_selectors: The resource selector list to filter policies by resource properties.
    :vartype resource_selectors: list[~azure.mgmt.resource.policy.models.ResourceSelector]
    :ivar overrides: The policy property value override.
    :vartype overrides: list[~azure.mgmt.resource.policy.models.Override]
    :ivar assignment_type: The type of policy assignment. Possible values are NotSpecified, System,
     SystemHidden, and Custom. Immutable. Known values are: "NotSpecified", "System",
     "SystemHidden", and "Custom".
    :vartype assignment_type: str or ~azure.mgmt.resource.policy.models.AssignmentType
    :ivar instance_id: The instance ID of the policy assignment. This ID only and always changes
     when the assignment is deleted and recreated.
    :vartype instance_id: str
    :ivar self_serve_exemption_settings: The self-serve exemption settings for the policy
     assignment.
    :vartype self_serve_exemption_settings:
     ~azure.mgmt.resource.policy.models.SelfServeExemptionSettings
    """

    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name of the policy assignment."""
    policy_definition_id: Optional[str] = rest_field(
        name="policyDefinitionId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The ID of the policy definition or policy set definition being assigned."""
    definition_version: Optional[str] = rest_field(
        name="definitionVersion", visibility=["read", "create", "update", "delete", "query"]
    )
    """The version of the policy definition to use."""
    latest_definition_version: Optional[str] = rest_field(name="latestDefinitionVersion", visibility=["read"])
    """The latest version of the policy definition available. This is only present if requested via
     the $expand query parameter."""
    effective_definition_version: Optional[str] = rest_field(name="effectiveDefinitionVersion", visibility=["read"])
    """The effective version of the policy definition in use. This is only present if requested via
     the $expand query parameter."""
    scope: Optional[str] = rest_field(visibility=["read"])
    """The scope for the policy assignment."""
    not_scopes: Optional[list[str]] = rest_field(
        name="notScopes", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy's excluded scopes."""
    parameters: Optional[dict[str, "_models.ParameterValuesValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The parameter values for the assigned policy rule. The keys are the parameter names."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """This message will be part of response in case of policy violation."""
    metadata: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy assignment metadata. Metadata is an open ended object and is typically a collection
     of key value pairs."""
    enforcement_mode: Optional[Union[str, "_models.EnforcementMode"]] = rest_field(
        name="enforcementMode", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment enforcement mode. Possible values are Default, DoNotEnforce, and Enroll.
     Known values are: \"Default\", \"DoNotEnforce\", and \"Enroll\"."""
    non_compliance_messages: Optional[list["_models.NonComplianceMessage"]] = rest_field(
        name="nonComplianceMessages", visibility=["read", "create", "update", "delete", "query"]
    )
    """The messages that describe why a resource is non-compliant with the policy."""
    resource_selectors: Optional[list["_models.ResourceSelector"]] = rest_field(
        name="resourceSelectors", visibility=["read", "create", "update", "delete", "query"]
    )
    """The resource selector list to filter policies by resource properties."""
    overrides: Optional[list["_models.Override"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy property value override."""
    assignment_type: Optional[Union[str, "_models.AssignmentType"]] = rest_field(
        name="assignmentType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of policy assignment. Possible values are NotSpecified, System, SystemHidden, and
     Custom. Immutable. Known values are: \"NotSpecified\", \"System\", \"SystemHidden\", and
     \"Custom\"."""
    instance_id: Optional[str] = rest_field(name="instanceId", visibility=["read"])
    """The instance ID of the policy assignment. This ID only and always changes when the assignment
     is deleted and recreated."""
    self_serve_exemption_settings: Optional["_models.SelfServeExemptionSettings"] = rest_field(
        name="selfServeExemptionSettings", visibility=["read", "create", "update", "delete", "query"]
    )
    """The self-serve exemption settings for the policy assignment."""

    @overload
    def __init__(
        self,
        *,
        display_name: Optional[str] = None,
        policy_definition_id: Optional[str] = None,
        definition_version: Optional[str] = None,
        not_scopes: Optional[list[str]] = None,
        parameters: Optional[dict[str, "_models.ParameterValuesValue"]] = None,
        description: Optional[str] = None,
        metadata: Optional[Any] = None,
        enforcement_mode: Optional[Union[str, "_models.EnforcementMode"]] = None,
        non_compliance_messages: Optional[list["_models.NonComplianceMessage"]] = None,
        resource_selectors: Optional[list["_models.ResourceSelector"]] = None,
        overrides: Optional[list["_models.Override"]] = None,
        assignment_type: Optional[Union[str, "_models.AssignmentType"]] = None,
        self_serve_exemption_settings: Optional["_models.SelfServeExemptionSettings"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyAssignmentUpdate(_Model):
    """The policy assignment for Patch request.

    :ivar properties: The policy assignment properties for Patch request.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicyAssignmentUpdateProperties
    :ivar location: The location of the policy assignment. Only required when utilizing managed
     identity.
    :vartype location: str
    :ivar identity: The managed identity associated with the policy assignment.
    :vartype identity: ~azure.mgmt.resource.policy.models.Identity
    """

    properties: Optional["_models.PolicyAssignmentUpdateProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment properties for Patch request."""
    location: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The location of the policy assignment. Only required when utilizing managed identity."""
    identity: Optional["_models.Identity"] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The managed identity associated with the policy assignment."""

    __flattened_items = ["resource_selectors", "overrides", "self_serve_exemption_settings"]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicyAssignmentUpdateProperties"] = None,
        location: Optional[str] = None,
        identity: Optional["_models.Identity"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicyAssignmentUpdateProperties(_Model):
    """The policy assignment properties for Patch request.

    :ivar resource_selectors: The resource selector list to filter policies by resource properties.
    :vartype resource_selectors: list[~azure.mgmt.resource.policy.models.ResourceSelector]
    :ivar overrides: The policy property value override.
    :vartype overrides: list[~azure.mgmt.resource.policy.models.Override]
    :ivar self_serve_exemption_settings: The self-serve exemption settings for the policy
     assignment.
    :vartype self_serve_exemption_settings:
     ~azure.mgmt.resource.policy.models.SelfServeExemptionSettings
    """

    resource_selectors: Optional[list["_models.ResourceSelector"]] = rest_field(
        name="resourceSelectors", visibility=["read", "create", "update", "delete", "query"]
    )
    """The resource selector list to filter policies by resource properties."""
    overrides: Optional[list["_models.Override"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy property value override."""
    self_serve_exemption_settings: Optional["_models.SelfServeExemptionSettings"] = rest_field(
        name="selfServeExemptionSettings", visibility=["read", "create", "update", "delete", "query"]
    )
    """The self-serve exemption settings for the policy assignment."""

    @overload
    def __init__(
        self,
        *,
        resource_selectors: Optional[list["_models.ResourceSelector"]] = None,
        overrides: Optional[list["_models.Override"]] = None,
        self_serve_exemption_settings: Optional["_models.SelfServeExemptionSettings"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ProxyResource(Resource):
    """Proxy Resource.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    """


class PolicyDefinition(ProxyResource):
    """The policy definition.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    :ivar properties: The policy definition properties.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicyDefinitionProperties
    """

    properties: Optional["_models.PolicyDefinitionProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition properties."""

    __flattened_items = [
        "policy_type",
        "mode",
        "display_name",
        "description",
        "policy_rule",
        "metadata",
        "parameters",
        "version",
        "versions",
        "external_evaluation_enforcement_settings",
    ]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicyDefinitionProperties"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicyDefinitionGroup(_Model):
    """The policy definition group.

    :ivar name: The name of the group. Required.
    :vartype name: str
    :ivar display_name: The group's display name.
    :vartype display_name: str
    :ivar category: The group's category.
    :vartype category: str
    :ivar description: The group's description.
    :vartype description: str
    :ivar additional_metadata_id: A resource ID of a resource that contains additional metadata
     about the group.
    :vartype additional_metadata_id: str
    """

    name: str = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The name of the group. Required."""
    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The group's display name."""
    category: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The group's category."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The group's description."""
    additional_metadata_id: Optional[str] = rest_field(
        name="additionalMetadataId", visibility=["read", "create", "update", "delete", "query"]
    )
    """A resource ID of a resource that contains additional metadata about the group."""

    @overload
    def __init__(
        self,
        *,
        name: str,
        display_name: Optional[str] = None,
        category: Optional[str] = None,
        description: Optional[str] = None,
        additional_metadata_id: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyDefinitionProperties(_Model):
    """The policy definition properties.

    :ivar policy_type: The type of policy definition. Possible values are NotSpecified, BuiltIn,
     Custom, and Static. Known values are: "NotSpecified", "BuiltIn", "Custom", and "Static".
    :vartype policy_type: str or ~azure.mgmt.resource.policy.models.PolicyType
    :ivar mode: The policy definition mode. Some examples are All, Indexed,
     Microsoft.KeyVault.Data.
    :vartype mode: str
    :ivar display_name: The display name of the policy definition.
    :vartype display_name: str
    :ivar description: The policy definition description.
    :vartype description: str
    :ivar policy_rule: The policy rule.
    :vartype policy_rule: any
    :ivar metadata: The policy definition metadata.  Metadata is an open ended object and is
     typically a collection of key value pairs.
    :vartype metadata: any
    :ivar parameters: The parameter definitions for parameters used in the policy rule. The keys
     are the parameter names.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterDefinitionsValue]
    :ivar version: The policy definition version in #.#.# format.
    :vartype version: str
    :ivar versions: A list of available versions for this policy definition.
    :vartype versions: list[str]
    :ivar external_evaluation_enforcement_settings: The details of the source of external
     evaluation results required by the policy during enforcement evaluation.
    :vartype external_evaluation_enforcement_settings:
     ~azure.mgmt.resource.policy.models.ExternalEvaluationEnforcementSettings
    """

    policy_type: Optional[Union[str, "_models.PolicyType"]] = rest_field(
        name="policyType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of policy definition. Possible values are NotSpecified, BuiltIn, Custom, and Static.
     Known values are: \"NotSpecified\", \"BuiltIn\", \"Custom\", and \"Static\"."""
    mode: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition mode. Some examples are All, Indexed, Microsoft.KeyVault.Data."""
    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name of the policy definition."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition description."""
    policy_rule: Optional[Any] = rest_field(
        name="policyRule", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy rule."""
    metadata: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition metadata.  Metadata is an open ended object and is typically a collection
     of key value pairs."""
    parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The parameter definitions for parameters used in the policy rule. The keys are the parameter
     names."""
    version: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition version in #.#.# format."""
    versions: Optional[list[str]] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """A list of available versions for this policy definition."""
    external_evaluation_enforcement_settings: Optional["_models.ExternalEvaluationEnforcementSettings"] = rest_field(
        name="externalEvaluationEnforcementSettings", visibility=["read", "create", "update", "delete", "query"]
    )
    """The details of the source of external evaluation results required by the policy during
     enforcement evaluation."""

    @overload
    def __init__(
        self,
        *,
        policy_type: Optional[Union[str, "_models.PolicyType"]] = None,
        mode: Optional[str] = None,
        display_name: Optional[str] = None,
        description: Optional[str] = None,
        policy_rule: Optional[Any] = None,
        metadata: Optional[Any] = None,
        parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = None,
        version: Optional[str] = None,
        versions: Optional[list[str]] = None,
        external_evaluation_enforcement_settings: Optional["_models.ExternalEvaluationEnforcementSettings"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyDefinitionReference(_Model):
    """The policy definition reference.

    :ivar policy_definition_id: The ID of the policy definition or policy set definition. Required.
    :vartype policy_definition_id: str
    :ivar definition_version: The version of the policy definition to use.
    :vartype definition_version: str
    :ivar latest_definition_version: The latest version of the policy definition available. This is
     only present if requested via the $expand query parameter.
    :vartype latest_definition_version: str
    :ivar effective_definition_version: The effective version of the policy definition in use. This
     is only present if requested via the $expand query parameter.
    :vartype effective_definition_version: str
    :ivar parameters: The parameter values for the referenced policy rule. The keys are the
     parameter names.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterValuesValue]
    :ivar policy_definition_reference_id: A unique id (within the policy set definition) for this
     policy definition reference.
    :vartype policy_definition_reference_id: str
    :ivar group_names: The name of the groups that this policy definition reference belongs to.
    :vartype group_names: list[str]
    """

    policy_definition_id: str = rest_field(
        name="policyDefinitionId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The ID of the policy definition or policy set definition. Required."""
    definition_version: Optional[str] = rest_field(
        name="definitionVersion", visibility=["read", "create", "update", "delete", "query"]
    )
    """The version of the policy definition to use."""
    latest_definition_version: Optional[str] = rest_field(name="latestDefinitionVersion", visibility=["read"])
    """The latest version of the policy definition available. This is only present if requested via
     the $expand query parameter."""
    effective_definition_version: Optional[str] = rest_field(name="effectiveDefinitionVersion", visibility=["read"])
    """The effective version of the policy definition in use. This is only present if requested via
     the $expand query parameter."""
    parameters: Optional[dict[str, "_models.ParameterValuesValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The parameter values for the referenced policy rule. The keys are the parameter names."""
    policy_definition_reference_id: Optional[str] = rest_field(
        name="policyDefinitionReferenceId", visibility=["read", "create", "update", "delete", "query"]
    )
    """A unique id (within the policy set definition) for this policy definition reference."""
    group_names: Optional[list[str]] = rest_field(
        name="groupNames", visibility=["read", "create", "update", "delete", "query"]
    )
    """The name of the groups that this policy definition reference belongs to."""

    @overload
    def __init__(
        self,
        *,
        policy_definition_id: str,
        definition_version: Optional[str] = None,
        parameters: Optional[dict[str, "_models.ParameterValuesValue"]] = None,
        policy_definition_reference_id: Optional[str] = None,
        group_names: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyDefinitionVersion(ProxyResource):
    """The ID of the policy definition version.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    :ivar properties: The policy definition version properties.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicyDefinitionVersionProperties
    """

    properties: Optional["_models.PolicyDefinitionVersionProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition version properties."""

    __flattened_items = [
        "policy_type",
        "mode",
        "display_name",
        "description",
        "policy_rule",
        "metadata",
        "parameters",
        "version",
        "external_evaluation_enforcement_settings",
    ]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicyDefinitionVersionProperties"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicyDefinitionVersionListResult(_Model):
    """The response of a PolicyDefinitionVersion list operation.

    :ivar value: The PolicyDefinitionVersion items on this page. Required.
    :vartype value: list[~azure.mgmt.resource.policy.models.PolicyDefinitionVersion]
    :ivar next_link: The link to the next page of items.
    :vartype next_link: str
    """

    value: list["_models.PolicyDefinitionVersion"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The PolicyDefinitionVersion items on this page. Required."""
    next_link: Optional[str] = rest_field(name="nextLink", visibility=["read", "create", "update", "delete", "query"])
    """The link to the next page of items."""

    @overload
    def __init__(
        self,
        *,
        value: list["_models.PolicyDefinitionVersion"],
        next_link: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyDefinitionVersionProperties(_Model):
    """The policy definition properties.

    :ivar policy_type: The type of policy definition. Possible values are NotSpecified, BuiltIn,
     Custom, and Static. Known values are: "NotSpecified", "BuiltIn", "Custom", and "Static".
    :vartype policy_type: str or ~azure.mgmt.resource.policy.models.PolicyType
    :ivar mode: The policy definition mode. Some examples are All, Indexed,
     Microsoft.KeyVault.Data.
    :vartype mode: str
    :ivar display_name: The display name of the policy definition.
    :vartype display_name: str
    :ivar description: The policy definition description.
    :vartype description: str
    :ivar policy_rule: The policy rule.
    :vartype policy_rule: any
    :ivar metadata: The policy definition metadata.  Metadata is an open ended object and is
     typically a collection of key value pairs.
    :vartype metadata: any
    :ivar parameters: The parameter definitions for parameters used in the policy rule. The keys
     are the parameter names.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterDefinitionsValue]
    :ivar version: The policy definition version in #.#.# format.
    :vartype version: str
    :ivar external_evaluation_enforcement_settings: The details of the source of external
     evaluation results required by the policy during enforcement evaluation.
    :vartype external_evaluation_enforcement_settings:
     ~azure.mgmt.resource.policy.models.ExternalEvaluationEnforcementSettings
    """

    policy_type: Optional[Union[str, "_models.PolicyType"]] = rest_field(
        name="policyType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of policy definition. Possible values are NotSpecified, BuiltIn, Custom, and Static.
     Known values are: \"NotSpecified\", \"BuiltIn\", \"Custom\", and \"Static\"."""
    mode: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition mode. Some examples are All, Indexed, Microsoft.KeyVault.Data."""
    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name of the policy definition."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition description."""
    policy_rule: Optional[Any] = rest_field(
        name="policyRule", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy rule."""
    metadata: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition metadata.  Metadata is an open ended object and is typically a collection
     of key value pairs."""
    parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The parameter definitions for parameters used in the policy rule. The keys are the parameter
     names."""
    version: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy definition version in #.#.# format."""
    external_evaluation_enforcement_settings: Optional["_models.ExternalEvaluationEnforcementSettings"] = rest_field(
        name="externalEvaluationEnforcementSettings", visibility=["read", "create", "update", "delete", "query"]
    )
    """The details of the source of external evaluation results required by the policy during
     enforcement evaluation."""

    @overload
    def __init__(
        self,
        *,
        policy_type: Optional[Union[str, "_models.PolicyType"]] = None,
        mode: Optional[str] = None,
        display_name: Optional[str] = None,
        description: Optional[str] = None,
        policy_rule: Optional[Any] = None,
        metadata: Optional[Any] = None,
        parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = None,
        version: Optional[str] = None,
        external_evaluation_enforcement_settings: Optional["_models.ExternalEvaluationEnforcementSettings"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyLogInfo(_Model):
    """The policy log info.

    :ivar policy_definition_id: The policy definition Id.
    :vartype policy_definition_id: str
    :ivar policy_set_definition_id: The policy set definition Id.
    :vartype policy_set_definition_id: str
    :ivar policy_definition_reference_id: The policy definition instance Id inside a policy set.
    :vartype policy_definition_reference_id: str
    :ivar policy_set_definition_name: The policy set definition name.
    :vartype policy_set_definition_name: str
    :ivar policy_set_definition_display_name: The policy set definition display name.
    :vartype policy_set_definition_display_name: str
    :ivar policy_set_definition_version: The policy set definition version.
    :vartype policy_set_definition_version: str
    :ivar policy_set_definition_category: The policy set definition category.
    :vartype policy_set_definition_category: str
    :ivar policy_definition_name: The policy definition name.
    :vartype policy_definition_name: str
    :ivar policy_definition_display_name: The policy definition display name.
    :vartype policy_definition_display_name: str
    :ivar policy_definition_version: The policy definition version.
    :vartype policy_definition_version: str
    :ivar policy_definition_effect: The policy definition action.
    :vartype policy_definition_effect: str
    :ivar policy_definition_group_names: An array of policy definition group names.
    :vartype policy_definition_group_names: list[str]
    :ivar policy_assignment_id: The policy assignment Id.
    :vartype policy_assignment_id: str
    :ivar policy_assignment_name: The policy assignment name.
    :vartype policy_assignment_name: str
    :ivar policy_assignment_display_name: The policy assignment display name.
    :vartype policy_assignment_display_name: str
    :ivar policy_assignment_version: The policy assignment version.
    :vartype policy_assignment_version: str
    :ivar policy_assignment_scope: The policy assignment scope.
    :vartype policy_assignment_scope: str
    :ivar resource_location: The resource location.
    :vartype resource_location: str
    :ivar ancestors: The management group ancestors.
    :vartype ancestors: str
    :ivar compliance_reason_code: The policy compliance reason code.
    :vartype compliance_reason_code: str
    :ivar policy_exemption_ids: An array of policy exemption Ids.
    :vartype policy_exemption_ids: list[str]
    """

    policy_definition_id: Optional[str] = rest_field(
        name="policyDefinitionId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition Id."""
    policy_set_definition_id: Optional[str] = rest_field(
        name="policySetDefinitionId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition Id."""
    policy_definition_reference_id: Optional[str] = rest_field(
        name="policyDefinitionReferenceId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition instance Id inside a policy set."""
    policy_set_definition_name: Optional[str] = rest_field(
        name="policySetDefinitionName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition name."""
    policy_set_definition_display_name: Optional[str] = rest_field(
        name="policySetDefinitionDisplayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition display name."""
    policy_set_definition_version: Optional[str] = rest_field(
        name="policySetDefinitionVersion", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition version."""
    policy_set_definition_category: Optional[str] = rest_field(
        name="policySetDefinitionCategory", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition category."""
    policy_definition_name: Optional[str] = rest_field(
        name="policyDefinitionName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition name."""
    policy_definition_display_name: Optional[str] = rest_field(
        name="policyDefinitionDisplayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition display name."""
    policy_definition_version: Optional[str] = rest_field(
        name="policyDefinitionVersion", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition version."""
    policy_definition_effect: Optional[str] = rest_field(
        name="policyDefinitionEffect", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition action."""
    policy_definition_group_names: Optional[list[str]] = rest_field(
        name="policyDefinitionGroupNames", visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of policy definition group names."""
    policy_assignment_id: Optional[str] = rest_field(
        name="policyAssignmentId", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment Id."""
    policy_assignment_name: Optional[str] = rest_field(
        name="policyAssignmentName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment name."""
    policy_assignment_display_name: Optional[str] = rest_field(
        name="policyAssignmentDisplayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment display name."""
    policy_assignment_version: Optional[str] = rest_field(
        name="policyAssignmentVersion", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment version."""
    policy_assignment_scope: Optional[str] = rest_field(
        name="policyAssignmentScope", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy assignment scope."""
    resource_location: Optional[str] = rest_field(
        name="resourceLocation", visibility=["read", "create", "update", "delete", "query"]
    )
    """The resource location."""
    ancestors: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The management group ancestors."""
    compliance_reason_code: Optional[str] = rest_field(
        name="complianceReasonCode", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy compliance reason code."""
    policy_exemption_ids: Optional[list[str]] = rest_field(
        name="policyExemptionIds", visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of policy exemption Ids."""

    @overload
    def __init__(
        self,
        *,
        policy_definition_id: Optional[str] = None,
        policy_set_definition_id: Optional[str] = None,
        policy_definition_reference_id: Optional[str] = None,
        policy_set_definition_name: Optional[str] = None,
        policy_set_definition_display_name: Optional[str] = None,
        policy_set_definition_version: Optional[str] = None,
        policy_set_definition_category: Optional[str] = None,
        policy_definition_name: Optional[str] = None,
        policy_definition_display_name: Optional[str] = None,
        policy_definition_version: Optional[str] = None,
        policy_definition_effect: Optional[str] = None,
        policy_definition_group_names: Optional[list[str]] = None,
        policy_assignment_id: Optional[str] = None,
        policy_assignment_name: Optional[str] = None,
        policy_assignment_display_name: Optional[str] = None,
        policy_assignment_version: Optional[str] = None,
        policy_assignment_scope: Optional[str] = None,
        resource_location: Optional[str] = None,
        ancestors: Optional[str] = None,
        compliance_reason_code: Optional[str] = None,
        policy_exemption_ids: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicySetDefinition(ProxyResource):
    """The policy set definition.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    :ivar properties: The policy set definition properties.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicySetDefinitionProperties
    """

    properties: Optional["_models.PolicySetDefinitionProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition properties."""

    __flattened_items = [
        "policy_type",
        "display_name",
        "description",
        "metadata",
        "parameters",
        "policy_definitions",
        "policy_definition_groups",
        "version",
        "versions",
    ]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicySetDefinitionProperties"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicySetDefinitionProperties(_Model):
    """The policy set definition properties.

    :ivar policy_type: The type of policy set definition. Possible values are NotSpecified,
     BuiltIn, Custom, and Static. Known values are: "NotSpecified", "BuiltIn", "Custom", and
     "Static".
    :vartype policy_type: str or ~azure.mgmt.resource.policy.models.PolicyType
    :ivar display_name: The display name of the policy set definition.
    :vartype display_name: str
    :ivar description: The policy set definition description.
    :vartype description: str
    :ivar metadata: The policy set definition metadata.  Metadata is an open ended object and is
     typically a collection of key value pairs.
    :vartype metadata: any
    :ivar parameters: The policy set definition parameters that can be used in policy definition
     references.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterDefinitionsValue]
    :ivar policy_definitions: An array of policy definition references. Required.
    :vartype policy_definitions: list[~azure.mgmt.resource.policy.models.PolicyDefinitionReference]
    :ivar policy_definition_groups: The metadata describing groups of policy definition references
     within the policy set definition.
    :vartype policy_definition_groups:
     list[~azure.mgmt.resource.policy.models.PolicyDefinitionGroup]
    :ivar version: The policy set definition version in #.#.# format.
    :vartype version: str
    :ivar versions: A list of available versions for this policy set definition.
    :vartype versions: list[str]
    """

    policy_type: Optional[Union[str, "_models.PolicyType"]] = rest_field(
        name="policyType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of policy set definition. Possible values are NotSpecified, BuiltIn, Custom, and
     Static. Known values are: \"NotSpecified\", \"BuiltIn\", \"Custom\", and \"Static\"."""
    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name of the policy set definition."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition description."""
    metadata: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition metadata.  Metadata is an open ended object and is typically a
     collection of key value pairs."""
    parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition parameters that can be used in policy definition references."""
    policy_definitions: list["_models.PolicyDefinitionReference"] = rest_field(
        name="policyDefinitions", visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of policy definition references. Required."""
    policy_definition_groups: Optional[list["_models.PolicyDefinitionGroup"]] = rest_field(
        name="policyDefinitionGroups", visibility=["read", "create", "update", "delete", "query"]
    )
    """The metadata describing groups of policy definition references within the policy set
     definition."""
    version: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition version in #.#.# format."""
    versions: Optional[list[str]] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """A list of available versions for this policy set definition."""

    @overload
    def __init__(
        self,
        *,
        policy_definitions: list["_models.PolicyDefinitionReference"],
        policy_type: Optional[Union[str, "_models.PolicyType"]] = None,
        display_name: Optional[str] = None,
        description: Optional[str] = None,
        metadata: Optional[Any] = None,
        parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = None,
        policy_definition_groups: Optional[list["_models.PolicyDefinitionGroup"]] = None,
        version: Optional[str] = None,
        versions: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicySetDefinitionVersion(ProxyResource):
    """The policy set definition version.

    :ivar id: Fully qualified resource ID for the resource. Ex -
     /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}.
    :vartype id: str
    :ivar name: The name of the resource.
    :vartype name: str
    :ivar type: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or
     "Microsoft.Storage/storageAccounts".
    :vartype type: str
    :ivar system_data: Azure Resource Manager metadata containing createdBy and modifiedBy
     information.
    :vartype system_data: ~azure.mgmt.resource.policy.models.SystemData
    :ivar properties: The policy set definition version properties.
    :vartype properties: ~azure.mgmt.resource.policy.models.PolicySetDefinitionVersionProperties
    """

    properties: Optional["_models.PolicySetDefinitionVersionProperties"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition version properties."""

    __flattened_items = [
        "policy_type",
        "display_name",
        "description",
        "metadata",
        "parameters",
        "policy_definitions",
        "policy_definition_groups",
        "version",
    ]

    @overload
    def __init__(
        self,
        *,
        properties: Optional["_models.PolicySetDefinitionVersionProperties"] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        _flattened_input = {k: kwargs.pop(k) for k in kwargs.keys() & self.__flattened_items}
        super().__init__(*args, **kwargs)
        for k, v in _flattened_input.items():
            setattr(self, k, v)

    def __getattr__(self, name: str) -> Any:
        if name in self.__flattened_items:
            if self.properties is None:
                return None
            return getattr(self.properties, name)
        raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")

    def __setattr__(self, key: str, value: Any) -> None:
        if key in self.__flattened_items:
            if self.properties is None:
                self.properties = self._attr_to_rest_field["properties"]._class_type()
            setattr(self.properties, key, value)
        else:
            super().__setattr__(key, value)


class PolicySetDefinitionVersionListResult(_Model):
    """The response of a PolicySetDefinitionVersion list operation.

    :ivar value: The PolicySetDefinitionVersion items on this page. Required.
    :vartype value: list[~azure.mgmt.resource.policy.models.PolicySetDefinitionVersion]
    :ivar next_link: The link to the next page of items.
    :vartype next_link: str
    """

    value: list["_models.PolicySetDefinitionVersion"] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The PolicySetDefinitionVersion items on this page. Required."""
    next_link: Optional[str] = rest_field(name="nextLink", visibility=["read", "create", "update", "delete", "query"])
    """The link to the next page of items."""

    @overload
    def __init__(
        self,
        *,
        value: list["_models.PolicySetDefinitionVersion"],
        next_link: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicySetDefinitionVersionProperties(_Model):
    """The policy set definition properties.

    :ivar policy_type: The type of policy definition. Possible values are NotSpecified, BuiltIn,
     Custom, and Static. Known values are: "NotSpecified", "BuiltIn", "Custom", and "Static".
    :vartype policy_type: str or ~azure.mgmt.resource.policy.models.PolicyType
    :ivar display_name: The display name of the policy set definition.
    :vartype display_name: str
    :ivar description: The policy set definition description.
    :vartype description: str
    :ivar metadata: The policy set definition metadata.  Metadata is an open ended object and is
     typically a collection of key value pairs.
    :vartype metadata: any
    :ivar parameters: The policy set definition parameters that can be used in policy definition
     references.
    :vartype parameters: dict[str, ~azure.mgmt.resource.policy.models.ParameterDefinitionsValue]
    :ivar policy_definitions: An array of policy definition references. Required.
    :vartype policy_definitions: list[~azure.mgmt.resource.policy.models.PolicyDefinitionReference]
    :ivar policy_definition_groups: The metadata describing groups of policy definition references
     within the policy set definition.
    :vartype policy_definition_groups:
     list[~azure.mgmt.resource.policy.models.PolicyDefinitionGroup]
    :ivar version: The policy set definition version in #.#.# format.
    :vartype version: str
    """

    policy_type: Optional[Union[str, "_models.PolicyType"]] = rest_field(
        name="policyType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of policy definition. Possible values are NotSpecified, BuiltIn, Custom, and Static.
     Known values are: \"NotSpecified\", \"BuiltIn\", \"Custom\", and \"Static\"."""
    display_name: Optional[str] = rest_field(
        name="displayName", visibility=["read", "create", "update", "delete", "query"]
    )
    """The display name of the policy set definition."""
    description: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition description."""
    metadata: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition metadata.  Metadata is an open ended object and is typically a
     collection of key value pairs."""
    parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy set definition parameters that can be used in policy definition references."""
    policy_definitions: list["_models.PolicyDefinitionReference"] = rest_field(
        name="policyDefinitions", visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of policy definition references. Required."""
    policy_definition_groups: Optional[list["_models.PolicyDefinitionGroup"]] = rest_field(
        name="policyDefinitionGroups", visibility=["read", "create", "update", "delete", "query"]
    )
    """The metadata describing groups of policy definition references within the policy set
     definition."""
    version: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The policy set definition version in #.#.# format."""

    @overload
    def __init__(
        self,
        *,
        policy_definitions: list["_models.PolicyDefinitionReference"],
        policy_type: Optional[Union[str, "_models.PolicyType"]] = None,
        display_name: Optional[str] = None,
        description: Optional[str] = None,
        metadata: Optional[Any] = None,
        parameters: Optional[dict[str, "_models.ParameterDefinitionsValue"]] = None,
        policy_definition_groups: Optional[list["_models.PolicyDefinitionGroup"]] = None,
        version: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyTokenEvaluatedRequestDetails(_Model):
    """The policy token evaluated request details.

    :ivar uri: The request URI of the resource operation that is targeted by the issued token.
     Required.
    :vartype uri: str
    :ivar resource_id: The resource Id of the resource operation that is targeted by the issued
     token. Required.
    :vartype resource_id: str
    :ivar api_version: The api-version of the resource operation that is targeted by the issued
     token. Required.
    :vartype api_version: str
    :ivar authorization_action: The authorization action of the resource operation that is targeted
     by the issued token. Required.
    :vartype authorization_action: str
    :ivar http_method: The http method of the resource operation that is targeted by the issued
     token. Required.
    :vartype http_method: str
    :ivar content_hash: The hashed payload of the resource operation that is targeted by the issued
     token. Required.
    :vartype content_hash: str
    """

    uri: str = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The request URI of the resource operation that is targeted by the issued token. Required."""
    resource_id: str = rest_field(name="resourceId", visibility=["read", "create", "update", "delete", "query"])
    """The resource Id of the resource operation that is targeted by the issued token. Required."""
    api_version: str = rest_field(name="apiVersion", visibility=["read", "create", "update", "delete", "query"])
    """The api-version of the resource operation that is targeted by the issued token. Required."""
    authorization_action: str = rest_field(
        name="authorizationAction", visibility=["read", "create", "update", "delete", "query"]
    )
    """The authorization action of the resource operation that is targeted by the issued token.
     Required."""
    http_method: str = rest_field(name="httpMethod", visibility=["read", "create", "update", "delete", "query"])
    """The http method of the resource operation that is targeted by the issued token. Required."""
    content_hash: str = rest_field(name="contentHash", visibility=["read", "create", "update", "delete", "query"])
    """The hashed payload of the resource operation that is targeted by the issued token. Required."""

    @overload
    def __init__(
        self,
        *,
        uri: str,
        resource_id: str,
        api_version: str,
        authorization_action: str,
        http_method: str,
        content_hash: str,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyTokenOperation(_Model):
    """The resource operation to acquire a token for.

    :ivar uri: The request URI of the resource operation. Required.
    :vartype uri: str
    :ivar http_method: The http method of the resource operation. Required.
    :vartype http_method: str
    :ivar content: The payload of the resource operation.
    :vartype content: any
    """

    uri: str = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The request URI of the resource operation. Required."""
    http_method: str = rest_field(name="httpMethod", visibility=["read", "create", "update", "delete", "query"])
    """The http method of the resource operation. Required."""
    content: Optional[Any] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The payload of the resource operation."""

    @overload
    def __init__(
        self,
        *,
        uri: str,
        http_method: str,
        content: Optional[Any] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyTokenRequest(_Model):
    """The policy token request properties.

    :ivar operation: The resource operation to acquire a token for. Required.
    :vartype operation: ~azure.mgmt.resource.policy.models.PolicyTokenOperation
    :ivar change_reference: The change reference.
    :vartype change_reference: str
    """

    operation: "_models.PolicyTokenOperation" = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The resource operation to acquire a token for. Required."""
    change_reference: Optional[str] = rest_field(
        name="changeReference", visibility=["read", "create", "update", "delete", "query"]
    )
    """The change reference."""

    @overload
    def __init__(
        self,
        *,
        operation: "_models.PolicyTokenOperation",
        change_reference: Optional[str] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class PolicyTokenResponse(_Model):
    """The policy token response properties.

    :ivar result: The result of the completed token acquisition operation. Possible values are
     Succeeded and Failed. Known values are: "Succeeded" and "Failed".
    :vartype result: str or ~azure.mgmt.resource.policy.models.PolicyTokenResult
    :ivar request_details: The external evaluation request details.
    :vartype request_details: ~azure.mgmt.resource.policy.models.PolicyTokenEvaluatedRequestDetails
    :ivar message: Status message with additional details about the token acquisition operation
     result.
    :vartype message: str
    :ivar retry_after: The date and time after which the client can try to acquire a token again in
     the case of retry-able failures.
    :vartype retry_after: ~datetime.datetime
    :ivar results: An array of external evaluation endpoint invocation results.
    :vartype results:
     list[~azure.mgmt.resource.policy.models.ExternalEvaluationEndpointInvocationResult]
    :ivar change_reference: The change reference associated with the operation for which the token
     is acquired.
    :vartype change_reference: str
    :ivar token: The issued policy token.
    :vartype token: str
    :ivar token_id: The unique Id assigned to the policy token.
    :vartype token_id: str
    :ivar expiration: The expiration of the policy token.
    :vartype expiration: ~datetime.datetime
    """

    result: Optional[Union[str, "_models.PolicyTokenResult"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The result of the completed token acquisition operation. Possible values are Succeeded and
     Failed. Known values are: \"Succeeded\" and \"Failed\"."""
    request_details: Optional["_models.PolicyTokenEvaluatedRequestDetails"] = rest_field(
        name="requestDetails", visibility=["read", "create", "update", "delete", "query"]
    )
    """The external evaluation request details."""
    message: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """Status message with additional details about the token acquisition operation result."""
    retry_after: Optional[datetime.datetime] = rest_field(
        name="retryAfter", visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The date and time after which the client can try to acquire a token again in the case of
     retry-able failures."""
    results: Optional[list["_models.ExternalEvaluationEndpointInvocationResult"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """An array of external evaluation endpoint invocation results."""
    change_reference: Optional[str] = rest_field(
        name="changeReference", visibility=["read", "create", "update", "delete", "query"]
    )
    """The change reference associated with the operation for which the token is acquired."""
    token: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The issued policy token."""
    token_id: Optional[str] = rest_field(name="tokenId", visibility=["read", "create", "update", "delete", "query"])
    """The unique Id assigned to the policy token."""
    expiration: Optional[datetime.datetime] = rest_field(
        visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The expiration of the policy token."""

    @overload
    def __init__(
        self,
        *,
        result: Optional[Union[str, "_models.PolicyTokenResult"]] = None,
        request_details: Optional["_models.PolicyTokenEvaluatedRequestDetails"] = None,
        message: Optional[str] = None,
        retry_after: Optional[datetime.datetime] = None,
        results: Optional[list["_models.ExternalEvaluationEndpointInvocationResult"]] = None,
        change_reference: Optional[str] = None,
        token: Optional[str] = None,
        token_id: Optional[str] = None,
        expiration: Optional[datetime.datetime] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class ResourceSelector(_Model):
    """The resource selector to filter policies by resource properties.

    :ivar name: The name of the resource selector.
    :vartype name: str
    :ivar selectors: The list of the selector expressions.
    :vartype selectors: list[~azure.mgmt.resource.policy.models.Selector]
    """

    name: Optional[str] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """The name of the resource selector."""
    selectors: Optional[list["_models.Selector"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The list of the selector expressions."""

    @overload
    def __init__(
        self,
        *,
        name: Optional[str] = None,
        selectors: Optional[list["_models.Selector"]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class Selector(_Model):
    """The selector expression.

    :ivar kind: The selector kind. Known values are: "resourceLocation", "resourceType",
     "resourceWithoutLocation", and "policyDefinitionReferenceId".
    :vartype kind: str or ~azure.mgmt.resource.policy.models.SelectorKind
    :ivar in_property: The list of values to filter in.
    :vartype in_property: list[str]
    :ivar not_in: The list of values to filter out.
    :vartype not_in: list[str]
    """

    kind: Optional[Union[str, "_models.SelectorKind"]] = rest_field(
        visibility=["read", "create", "update", "delete", "query"]
    )
    """The selector kind. Known values are: \"resourceLocation\", \"resourceType\",
     \"resourceWithoutLocation\", and \"policyDefinitionReferenceId\"."""
    in_property: Optional[list[str]] = rest_field(name="in", visibility=["read", "create", "update", "delete", "query"])
    """The list of values to filter in."""
    not_in: Optional[list[str]] = rest_field(name="notIn", visibility=["read", "create", "update", "delete", "query"])
    """The list of values to filter out."""

    @overload
    def __init__(
        self,
        *,
        kind: Optional[Union[str, "_models.SelectorKind"]] = None,
        in_property: Optional[list[str]] = None,
        not_in: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class SelfServeExemptionSettings(_Model):
    """The self-serve exemption settings for a policy assignment.

    :ivar enabled: Indicates whether self-serve exemption is enabled.
    :vartype enabled: bool
    :ivar policy_definition_reference_ids: The policy definition reference IDs for self-serve
     exemption.
    :vartype policy_definition_reference_ids: list[str]
    """

    enabled: Optional[bool] = rest_field(visibility=["read", "create", "update", "delete", "query"])
    """Indicates whether self-serve exemption is enabled."""
    policy_definition_reference_ids: Optional[list[str]] = rest_field(
        name="policyDefinitionReferenceIds", visibility=["read", "create", "update", "delete", "query"]
    )
    """The policy definition reference IDs for self-serve exemption."""

    @overload
    def __init__(
        self,
        *,
        enabled: Optional[bool] = None,
        policy_definition_reference_ids: Optional[list[str]] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class SystemData(_Model):
    """Metadata pertaining to creation and last modification of the resource.

    :ivar created_by: The identity that created the resource.
    :vartype created_by: str
    :ivar created_by_type: The type of identity that created the resource. Known values are:
     "User", "Application", "ManagedIdentity", and "Key".
    :vartype created_by_type: str or ~azure.mgmt.resource.policy.models.CreatedByType
    :ivar created_at: The timestamp of resource creation (UTC).
    :vartype created_at: ~datetime.datetime
    :ivar last_modified_by: The identity that last modified the resource.
    :vartype last_modified_by: str
    :ivar last_modified_by_type: The type of identity that last modified the resource. Known values
     are: "User", "Application", "ManagedIdentity", and "Key".
    :vartype last_modified_by_type: str or ~azure.mgmt.resource.policy.models.CreatedByType
    :ivar last_modified_at: The timestamp of resource last modification (UTC).
    :vartype last_modified_at: ~datetime.datetime
    """

    created_by: Optional[str] = rest_field(name="createdBy", visibility=["read", "create", "update", "delete", "query"])
    """The identity that created the resource."""
    created_by_type: Optional[Union[str, "_models.CreatedByType"]] = rest_field(
        name="createdByType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of identity that created the resource. Known values are: \"User\", \"Application\",
     \"ManagedIdentity\", and \"Key\"."""
    created_at: Optional[datetime.datetime] = rest_field(
        name="createdAt", visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The timestamp of resource creation (UTC)."""
    last_modified_by: Optional[str] = rest_field(
        name="lastModifiedBy", visibility=["read", "create", "update", "delete", "query"]
    )
    """The identity that last modified the resource."""
    last_modified_by_type: Optional[Union[str, "_models.CreatedByType"]] = rest_field(
        name="lastModifiedByType", visibility=["read", "create", "update", "delete", "query"]
    )
    """The type of identity that last modified the resource. Known values are: \"User\",
     \"Application\", \"ManagedIdentity\", and \"Key\"."""
    last_modified_at: Optional[datetime.datetime] = rest_field(
        name="lastModifiedAt", visibility=["read", "create", "update", "delete", "query"], format="rfc3339"
    )
    """The timestamp of resource last modification (UTC)."""

    @overload
    def __init__(
        self,
        *,
        created_by: Optional[str] = None,
        created_by_type: Optional[Union[str, "_models.CreatedByType"]] = None,
        created_at: Optional[datetime.datetime] = None,
        last_modified_by: Optional[str] = None,
        last_modified_by_type: Optional[Union[str, "_models.CreatedByType"]] = None,
        last_modified_at: Optional[datetime.datetime] = None,
    ) -> None: ...

    @overload
    def __init__(self, mapping: Mapping[str, Any]) -> None:
        """
        :param mapping: raw JSON to initialize the model.
        :type mapping: Mapping[str, Any]
        """

    def __init__(self, *args: Any, **kwargs: Any) -> None:
        super().__init__(*args, **kwargs)


class UserAssignedIdentitiesValue(_Model):
    """UserAssignedIdentitiesValue.

    :ivar principal_id: The principal id of user assigned identity.
    :vartype principal_id: str
    :ivar client_id: The client id of user assigned identity.
    :vartype client_id: str
    """

    principal_id: Optional[str] = rest_field(name="principalId", visibility=["read"])
    """The principal id of user assigned identity."""
    client_id: Optional[str] = rest_field(name="clientId", visibility=["read"])
    """The client id of user assigned identity."""
