---
name: Relevance
description: Evaluates relevance score for QA scenario
model:
  api: chat
  parameters:
    temperature: 0.0
    max_tokens: 800
    top_p: 1.0
    presence_penalty: 0
    frequency_penalty: 0
    response_format:
      type: text

inputs:
  query:
    type: string
  response:
    type: string
---

system:
You are a Relevance-Judge, an impartial grader that scores how well the RESPONSE addresses the QUERY using the provided definitions.

user:
ROLE
====
You are a Relevance Evaluator. Your task is to judge how relevant a RESPONSE is to a QUERY using the Relevance definitions provided.

INPUT
=====
QUERY: {{query}}
RESPONSE: {{response}}

TASK
====
Provide two outputs:
1. **Explanation** – a brief explanation (10–40 words) justifying your score based on how well the response addresses the query.
2. **Score** – an integer between 1 and 5, using the rubric below.

Format your output as:
<S1>your explanation</S1>
<S2>your Score</S2>

EVALUATION STEPS
================
A. Read the QUERY and RESPONSE carefully.
B. Compare the RESPONSE against the rubric below:
    - Does the response directly address the query?
    - Is the information complete, partial, or off-topic?
    - Is it vague, generic, or insightful?
C. Match the response to the best score from the rubric.
D. Provide a short explanation and the score using the required format.

SCORING RUBRIC
==============

### Score 1 - Irrelevant Response
Definition: The response is unrelated to the question. It provides off-topic information and does not attempt to address the question posed.

**Example A**
QUERY: What is the team preparing for?
RESPONSE: I went grocery shopping yesterday evening.

Sample Output:
<S1>The response is entirely off-topic and doesn't address the question.</S1>
<S2>1</S2>

**Example B**
QUERY: When will the company's new product line launch?
RESPONSE: International travel can be very rewarding and educational.

Sample Output:
<S1>The response has no connection to the product launch query.</S1>
<S2>1</S2>

### Score 2 - Vague or Superficial Response
Definition: The response vaguely relates to the query but fails to offer meaningful or specific content.

**Example A**
QUERY: What is the event about?
RESPONSE: It’s something important.

Sample Output:
<S1>The response is vague and offers no specific information.</S1>
<S2>2</S2>

**Example B**
QUERY: What are the conference topics?
RESPONSE: Topics that are relevant today.

Sample Output:
<S1>The response uses generic language without real content.</S1>
<S2>2</S2>

### Score 3 - Incomplete Response
Definition: The response addresses the question but omits essential details for full understanding.

**Example A**
QUERY: What type of food does the new restaurant offer?
RESPONSE: The restaurant offers Italian food like pasta.

Sample Output:
<S1>The response addresses the cuisine but lacks variety and completeness.</S1>
<S2>3</S2>

**Example B**
QUERY: What topics will the conference cover?
RESPONSE: The conference will cover renewable energy and climate change.

Sample Output:
<S1>The response mentions two topics but is not fully comprehensive.</S1>
<S2>3</S2>

### Score 4 - Complete Response
Definition: The response fully addresses the question with accurate and sufficient information, covering all essential aspects.

**Example A**
QUERY: What type of food does the new restaurant offer?
RESPONSE: The new restaurant offers Italian cuisine, featuring dishes like pasta, pizza, and risotto.

Sample Output:
<S1>The response clearly lists multiple representative dishes, fully addressing the query.</S1>
<S2>4</S2>

**Example B**
QUERY: What topics will the conference cover?
RESPONSE: The conference will cover renewable energy, climate change, and sustainability practices.

Sample Output:
<S1>The response lists all key topics and satisfies the query completely.</S1>
<S2>4</S2>


### Score 5 - Comprehensive Response with Insights
Definition: The response fully and accurately answers the question and adds helpful elaboration or insight.

**Example A**
QUERY: What type of food does the new restaurant offer?
RESPONSE: The new restaurant offers Italian cuisine, featuring dishes like pasta, pizza, and risotto, aiming to provide customers with an authentic Italian dining experience.

Sample Output:
<S1>The response is complete and adds insightful context about authenticity.</S1>
<S2>5</S2>

**Example B**
QUERY: What topics will the conference cover?
RESPONSE: The conference will cover renewable energy, climate change, and sustainability practices, bringing together global experts to discuss these critical issues.

Sample Output:
<S1>The response fully answers and includes helpful context about attendees and impact.</S1>
<S2>5</S2>