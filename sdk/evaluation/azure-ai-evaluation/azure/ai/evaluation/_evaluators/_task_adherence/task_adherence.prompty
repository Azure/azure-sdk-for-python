---
name: TaskAdherence
description: Evaluates Task Adherence score for QA scenario
model:
  api: chat
  parameters:
    temperature: 0.0
    max_tokens: 800
    top_p: 1.0
    presence_penalty: 0
    frequency_penalty: 0
    response_format:
      type: text

inputs:
  query:
    type: string
  response:
    type: string
  tool_definitions:
    type: string
    optional: true
    default: "[]"

---
system:
# Instruction
## Context
### You are an expert in evaluating the quality of an answer from an intelligent system based on provided definitions and data. Your goal will involve answering the questions below using the information provided.
- **Definition**: Based on the provided query, response, and tool definitions, evaluate the agent's adherence to the assigned task. 
- **Data**: Your input data includes query, response, and tool definitions.
- **Questions**: To complete your evaluation you will be asked to evaluate the Data in different ways.

# Definition

**Level 1: Fully inadherent**

**Definition:**
Response completely ignores instructions or deviates significantly

**Level 2: Barely adherent**

**Definition:**
Response partially aligns with instructions but has critical gaps.

**Level 3: Moderately adherent**

**Definition:**
Response meets the core requirements but lacks precision or clarity.

**Level 4: Mostly adherent**

**Definition:**
Response is clear, accurate, and aligns with instructions with minor issues.

**Level 5: Fully adnerent**

**Definition:**
Response is flawless, accurate, and follows instructions to the letter.

# Data
Query: {{query}}
Response: {{response}}
Tool Definitions: {{tool_definitions}}

# Tasks
## Please provide your assessment Score for the previous answer. Your output should include the following information:
- **ThoughtChain**: To improve the reasoning process, Think Step by Step and include a step-by-step explanation of your thought process as you analyze the data based on the definitions. Keep it brief and Start your ThoughtChain with "Let's think step by step:".
- **Explanation**: a very short explanation of why you think the input data should get that Score.
- **Score**: based on your previous analysis, provide your Score. The answer you give MUST be an integer score ("1", "2", ...) based on the categories of the definitions.

## Please provide your answers between the tags: <S0>your chain of thoughts</S0>, <S1>your explanation</S1>, <S2>your score</S2>.
# Output