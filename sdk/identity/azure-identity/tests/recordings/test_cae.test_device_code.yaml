interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://login.microsoftonline.com/tenant/v2.0/.well-known/openid-configuration
  response:
    body:
      string: '{"token_endpoint": "https://login.microsoftonline.com/tenant/oauth2/v2.0/token",
        "token_endpoint_auth_methods_supported": ["client_secret_post", "private_key_jwt",
        "client_secret_basic"], "jwks_uri": "https://login.microsoftonline.com/tenant/discovery/v2.0/keys",
        "response_modes_supported": ["query", "fragment", "form_post"], "subject_types_supported":
        ["pairwise"], "id_token_signing_alg_values_supported": ["RS256"], "response_types_supported":
        ["code", "id_token", "code id_token", "id_token token"], "scopes_supported":
        ["openid", "profile", "email", "offline_access"], "issuer": "https://login.microsoftonline.com/tenant/v2.0",
        "request_uri_parameter_supported": false, "userinfo_endpoint": "https://graph.microsoft.com/oidc/userinfo",
        "authorization_endpoint": "https://login.microsoftonline.com/tenant/oauth2/v2.0/authorize",
        "device_authorization_endpoint": "https://login.microsoftonline.com/tenant/oauth2/v2.0/devicecode",
        "http_logout_supported": true, "frontchannel_logout_supported": true, "end_session_endpoint":
        "https://login.microsoftonline.com/tenant/oauth2/v2.0/logout", "claims_supported":
        ["sub", "iss", "cloud_instance_name", "cloud_instance_host_name", "cloud_graph_host_name",
        "msgraph_host", "aud", "exp", "iat", "auth_time", "acr", "nonce", "preferred_username",
        "name", "tid", "ver", "at_hash", "c_hash", "email"], "tenant_region_scope":
        "NA", "cloud_instance_name": "microsoftonline.com", "cloud_graph_host_name":
        "graph.windows.net", "msgraph_host": "graph.microsoft.com", "rbac_url": "https://pas.windows.net"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '1651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:48:47 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwIQ; expires=Fri, 19-Feb-2021 17:48:48 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=prod; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11397.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '128'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwIQ; stsservicecookie=ests; x-ms-gateway-slice=prod
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/devicecode
  response:
    body:
      string: '{"user_code": "c934976f1393725db44d1d419b378baf00f383c5f3120eae059eb20bb86c08b0",
        "device_code": "f942eaaebc9683c361e2038648fe4cf1ddb80d515ff47e10d48af420330eab5c",
        "verification_uri": "https://microsoft.com/devicelogin", "expires_in": 900,
        "interval": 5, "message": "524aa9e7bd498505c8f902c5fe65bd4679d45709259cb590e75f46c980c05aa9"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '473'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:48:47 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; expires=Fri, 19-Feb-2021
        17:48:48 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,0,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - EUS ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '654'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"error": "authorization_pending", "error_description": "AADSTS70016:
        OAuth 2.0 device flow error. Authorization is pending. Continue polling.\r\nTrace
        ID: e9b0989d-88df-4b2b-9059-6ebaf060b401\r\nCorrelation ID: 68ba2961-0b13-4411-8f91-adf1a39530b9\r\nTimestamp:
        2021-01-20 17:49:04Z", "error_codes": [70016], "timestamp": "2021-01-20 17:49:04Z",
        "trace_id": "e9b0989d-88df-4b2b-9059-6ebaf060b401", "correlation_id": "68ba2961-0b13-4411-8f91-adf1a39530b9",
        "error_uri": "https://login.microsoftonline.com/error?code=70016"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '510'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:49:03 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; expires=Fri, 19-Feb-2021
        17:49:04 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,70016,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - SCUS ProdSlices
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '654'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"error": "authorization_pending", "error_description": "AADSTS70016:
        OAuth 2.0 device flow error. Authorization is pending. Continue polling.\r\nTrace
        ID: f0f691d8-d0d5-4c90-80ef-b928d1edb401\r\nCorrelation ID: 68ba2961-0b13-4411-8f91-adf1a39530b9\r\nTimestamp:
        2021-01-20 17:49:09Z", "error_codes": [70016], "timestamp": "2021-01-20 17:49:09Z",
        "trace_id": "f0f691d8-d0d5-4c90-80ef-b928d1edb401", "correlation_id": "68ba2961-0b13-4411-8f91-adf1a39530b9",
        "error_uri": "https://login.microsoftonline.com/error?code=70016"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '510'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:49:08 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; expires=Fri, 19-Feb-2021
        17:49:09 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,70016,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - SCUS ProdSlices
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '654'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAA; stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"token_type": "Bearer", "scope": "https://management.azure.com/user_impersonation
        https://management.azure.com/.default", "expires_in": 86399, "ext_expires_in":
        86399, "access_token": "27a75655adaa9cd9cd7e604a510829826acb0da287713872a9ea5658df01830f",
        "refresh_token": "4c9049a37c3f1bdc3c662fb0749e887cf6c0a100f9899ef0d77029867bc9e98e",
        "foci": "1", "id_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vNTQ4MjZiMjItMzhkNi00ZmIyLWJhZDktYjdiOTNhM2U5YzVhL3YyLjAiLCJpYXQiOjE2MTExNjQ2NTQsIm5iZiI6MTYxMTE2NDY1NCwiZXhwIjoxNjExMTY4NTU0LCJhaW8iOiJBVFFBeS84U0FBQUE4Zjl5WTlKeUFBRFQ5bEZkdlVKYU4ybk1NT3ROeGkwVlk1MWRUQUE0eFlWU3psdndwQ3NDNmdIcFRFSzB1MG1kIiwibmFtZSI6ImNobG93ZS10ZXN0Iiwib2lkIjoiYTcyOGM5MWEtNDdjOS00NTAyLWJhMDUtMzYwODQwODI2NjM2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoiY2hsb3dlLXRlc3RAYXp1cmVzZGt0ZWFtLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMC5BVGNBSW11Q1ZOWTRzay02MmJlNU9qNmNXcFYzc0FUYmpScEd1LTRDLWVHX2UwWTNBSkEuIiwic3ViIjoiSE5QcW9raHV6WUFmRlVlRkEtVm1rQ0M1Z253Mkp1b0xTSEtIZ2NDbkdHYyIsInRpZCI6IjU0ODI2YjIyLTM4ZDYtNGZiMi1iYWQ5LWI3YjkzYTNlOWM1YSIsInV0aSI6Ii10aTBqY1VrTjA2eHlxcTAzY0tFQVEiLCJ2ZXIiOiIyLjAifQ.cnsvmmnQzua0aZ96pXJOGq8hdgyUhy2DMTN2Yzjvs5TZCRd0voB0Ox_4VmjID3CFiixFOD58tn69pu5DkWEk8T3cBXMBecBRefdjEJcVuDeAQ_GnKZgVGVMjYHERcDxanukaknzs69an8nFASBJVHcLvaiRvy5UtJ4tJPpL1yM1XXwJd6EV4e2mqDt_5SgyWM_O2QPNtQF3IuozWRGrJ84ap2VN-zgkLrZRHeiE9XtNByQDfcwEXcxznx64lOXdJmUyfpxu8iiwChUzCa01PA-gM7UjTIBe_e71ALWdIj3fLmKp3HlquSDDV-eb9jTQrhtn7MtzONk6WbQTOahVMRA",
        "client_info": "eyJ1aWQiOiJhNzI4YzkxYS00N2M5LTQ1MDItYmEwNS0zNjA4NDA4MjY2MzYiLCJ1dGlkIjoiNTQ4MjZiMjItMzhkNi00ZmIyLWJhZDktYjdiOTNhM2U5YzVhIn0"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '4361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:49:14 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAAeUvQaQEAAAAaZJrXDgAAAA; expires=Fri,
        19-Feb-2021 17:49:15 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,0,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - NCUS ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions?api-version=2019-11-01
  response:
    body:
      string: '{"value": [], "count": {"type": "Total", "value": 0}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '47'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:49:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions?api-version=2019-11-01
  response:
    body:
      string: '{"error": {"code": "AuthenticationFailed", "message": "Authentication
        failed."}}'
    headers:
      cache-control:
      - no-cache
      connection:
      - close
      content-length:
      - '76'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:55:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer authorization_uri="https://login.windows.net/", error="invalid_token",
        error_description="User session has been revoked", claims="eyJhY2Nlc3NfdG9rZW4iOnsibmJmIjp7ImVzc2VudGlhbCI6dHJ1ZSwgInZhbHVlIjoiMTYxMTE2NTM1OSJ9fX0="
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1508'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwIQguT8RAQAAAP9jmtcOAAAAeUvQaQEAAAAaZJrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|84,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"error": "invalid_grant", "error_description": "AADSTS50173: The provided
        grant has expired due to it being revoked, a fresh auth token is needed. The
        user might have changed or reset their password. The grant was issued on ''2021-01-20T17:49:09.5646304Z''
        and the TokensValidFrom date (before which tokens are not valid) for this
        user is ''2021-01-20T17:49:18.0000000Z''.\r\nTrace ID: fb266710-409a-4c3e-a217-551bf350d700\r\nCorrelation
        ID: 2a23310f-0df8-4f45-a7f9-80345ed363f0\r\nTimestamp: 2021-01-20 17:56:00Z",
        "error_codes": [50173], "timestamp": "2021-01-20 17:56:00Z", "trace_id": "fb266710-409a-4c3e-a217-551bf350d700",
        "correlation_id": "2a23310f-0df8-4f45-a7f9-80345ed363f0", "error_uri": "https://login.microsoftonline.com/error?code=50173",
        "suberror": "bad_token"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '760'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:00 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAeUvQaQEAAAAaZJrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:00 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,50173,0,402450.2092,
      x-ms-ests-server:
      - 2.1.11397.13 - WUS2 ProdSlices
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAeUvQaQEAAAAaZJrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=https://login.microsoftonline.com/common/oauth2/authorize
  response:
    body:
      string: '{"tenant_discovery_endpoint": "https://login.microsoftonline.com/common/.well-known/openid-configuration",
        "api-version": "1.1", "metadata": [{"preferred_network": "login.microsoftonline.com",
        "preferred_cache": "login.windows.net", "aliases": ["login.microsoftonline.com",
        "login.windows.net", "login.microsoft.com", "sts.windows.net"]}, {"preferred_network":
        "login.partner.microsoftonline.cn", "preferred_cache": "login.partner.microsoftonline.cn",
        "aliases": ["login.partner.microsoftonline.cn", "login.chinacloudapi.cn"]},
        {"preferred_network": "login.microsoftonline.de", "preferred_cache": "login.microsoftonline.de",
        "aliases": ["login.microsoftonline.de"]}, {"preferred_network": "login.microsoftonline.us",
        "preferred_cache": "login.microsoftonline.us", "aliases": ["login.microsoftonline.us",
        "login.usgovcloudapi.net"]}, {"preferred_network": "login-us.microsoftonline.com",
        "preferred_cache": "login-us.microsoftonline.com", "aliases": ["login-us.microsoftonline.com"]}]}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '945'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:00 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAeUvQaQEAAAAaZJrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:00 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11397.13 - EUS ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '128'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAeUvQaQEAAAAaZJrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/devicecode
  response:
    body:
      string: '{"user_code": "37014a978b95ae6e752f54107987c3409b3cf801c3835261952f8740cb20d1c8",
        "device_code": "428a20171292a6f89bedf5ef1b83a82a94f3196d1cdc914229be57fb5bdb6b1c",
        "verification_uri": "https://microsoft.com/devicelogin", "expires_in": 900,
        "interval": 5, "message": "a92bcf4b00e3e6e783399306f14035815428ee07c9e2a0c7920a27fbdb9a9b27"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '473'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:00 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:00 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,0,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - NCUS ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '735'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"error": "authorization_pending", "error_description": "AADSTS70016:
        OAuth 2.0 device flow error. Authorization is pending. Continue polling.\r\nTrace
        ID: c0b1f362-14e3-4811-93ca-434e3c99d400\r\nCorrelation ID: 6ba32921-617b-40ec-b511-241b3c98a7d5\r\nTimestamp:
        2021-01-20 17:56:16Z", "error_codes": [70016], "timestamp": "2021-01-20 17:56:16Z",
        "trace_id": "c0b1f362-14e3-4811-93ca-434e3c99d400", "correlation_id": "6ba32921-617b-40ec-b511-241b3c98a7d5",
        "error_uri": "https://login.microsoftonline.com/error?code=70016"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '510'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:16 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:16 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,70016,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - EUS ProdSlices
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '735'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"error": "authorization_pending", "error_description": "AADSTS70016:
        OAuth 2.0 device flow error. Authorization is pending. Continue polling.\r\nTrace
        ID: 281a0b66-df4c-448e-ba01-89cf75f7c101\r\nCorrelation ID: 6ba32921-617b-40ec-b511-241b3c98a7d5\r\nTimestamp:
        2021-01-20 17:56:22Z", "error_codes": [70016], "timestamp": "2021-01-20 17:56:22Z",
        "trace_id": "281a0b66-df4c-448e-ba01-89cf75f7c101", "correlation_id": "6ba32921-617b-40ec-b511-241b3c98a7d5",
        "error_uri": "https://login.microsoftonline.com/error?code=70016"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '510'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:21 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:22 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,70016,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - EUS ProdSlices
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '735'
      Content-Type:
      - application/x-www-form-urlencoded
      Cookie:
      - esctx=AQABAAAAAABeStGSRwwnTq2vHplZ9KL4pTcs2nJCalp3mS66FDSyP9ddacNcUjMn-NBJHtqPUbDaud7LQftlxdSSmF9tpZRKmtm_ajTzGa-JaJWMwMRoRWgTZpvPCSzL4DTgR3htWfaPWgkKM7BppxI58iZ-z1YHg2xu8-9ChyvvA0R9BBcUY4xVxdNaK0Ru0IZXj51YTcQgAA;
        fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAN-d3AMBAAAAHWSa1w4AAAA;
        stsservicecookie=ests; x-ms-gateway-slice=estsfd
      User-Agent:
      - azsdk-python-identity/1.5.1 Python/3.8.0 (Windows-10-10.0.19041-SP0)
      x-client-cpu:
      - x86
      x-client-current-telemetry:
      - 1|622,0|
      x-client-os:
      - win32
      x-client-sku:
      - MSAL.Python
      x-client-ver:
      - 1.8.0
    method: POST
    uri: https://login.microsoftonline.com/tenant/oauth2/v2.0/token
  response:
    body:
      string: '{"token_type": "Bearer", "scope": "https://management.azure.com/user_impersonation
        https://management.azure.com/.default", "expires_in": 86399, "ext_expires_in":
        86399, "access_token": "4eae20b397129621daea0169160d06c2d3d6a26bcac8c6aed6d722f89952d41b",
        "refresh_token": "5013d6d09c2f1ff82a870572f6066aecebea1137e8b1c731be5bf01ae0f67f24",
        "foci": "1", "id_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vNTQ4MjZiMjItMzhkNi00ZmIyLWJhZDktYjdiOTNhM2U5YzVhL3YyLjAiLCJpYXQiOjE2MTExNjUwODcsIm5iZiI6MTYxMTE2NTA4NywiZXhwIjoxNjExMTY4OTg3LCJhaW8iOiJBVFFBeS84U0FBQUE4L1lxaDZrd3UrRnJ3TjV2bENVQ2Z5QVlmVDR1dExpTitpeFhZS0ZsWEhZZndiSDZITW9JZEpMazlJMVZnMy9XIiwibmFtZSI6ImNobG93ZS10ZXN0Iiwib2lkIjoiYTcyOGM5MWEtNDdjOS00NTAyLWJhMDUtMzYwODQwODI2NjM2IiwicHJlZmVycmVkX3VzZXJuYW1lIjoiY2hsb3dlLXRlc3RAYXp1cmVzZGt0ZWFtLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMC5BVGNBSW11Q1ZOWTRzay02MmJlNU9qNmNXcFYzc0FUYmpScEd1LTRDLWVHX2UwWTNBSkEuIiwic3ViIjoiSE5QcW9raHV6WUFmRlVlRkEtVm1rQ0M1Z253Mkp1b0xTSEtIZ2NDbkdHYyIsInRpZCI6IjU0ODI2YjIyLTM4ZDYtNGZiMi1iYWQ5LWI3YjkzYTNlOWM1YSIsInV0aSI6Ik9WY3ZkbXVncEV1YllWQU9va0szQVEiLCJ2ZXIiOiIyLjAifQ.b17pJRXmw9YnC97aQbdKihqjTnqYuFSGH0AxdtDk4cpt9ZviJV19dz5wVxaUORGNf6K6vnFhZRlEX89bhMLH1BpVq5lc28IQ-8zk-Q6ItIap2xVS4u2jjHHoSZLoIPtNXMXPnOz_KPuff_L46mJpKoBxpEOBUvB6Tx_k-hLyrabpNYo_swBemamDylbrDPUpyNZCIlHi_qMH60Hrtfg9JlnGUeUUi-seY4vRQcTnAB-wvsQtMWbKYsEpBgjUihoqScRZMNC9j3HuvAsWurrCIJ4vZ6WKsjg7aoqC-Z-AWnOmvVSlUTajCI1HFzhjcTYDRS_WrcKnModSLvR1I6eMrw",
        "client_info": "eyJ1aWQiOiJhNzI4YzkxYS00N2M5LTQ1MDItYmEwNS0zNjA4NDA4MjY2MzYiLCJ1dGlkIjoiNTQ4MjZiMjItMzhkNi00ZmIyLWJhZDktYjdiOTNhM2U5YzVhIn0"}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '4361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:27 GMT
      expires:
      - '-1'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      pragma:
      - no-cache
      set-cookie:
      - fpc=ApqwGRndfkRDiC2IHIqnwISY_f5LAQAAALBlmtcOAAAAILk_EQEAAACvZZrXDgAAAHlL0GkBAAAAy2Wa1w4AAAA;
        expires=Fri, 19-Feb-2021 17:56:27 GMT; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
      - stsservicecookie=ests; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-clitelem:
      - 1,0,0,,
      x-ms-ests-server:
      - 2.1.11397.13 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions?api-version=2019-11-01
  response:
    body:
      string: '{"value": [], "count": {"type": "Total", "value": 0}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '47'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Jan 2021 17:56:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
